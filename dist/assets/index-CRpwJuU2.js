(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ym(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Iu={exports:{}},di={},Au={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),Xm=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),ng=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),ig=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),qc=Symbol.iterator;function lg(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ru=Object.assign,Ou={};function Nn(e,t,r){this.props=e,this.context=t,this.refs=Ou,this.updater=r||Lu}Nn.prototype.isReactComponent={};Nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mu(){}Mu.prototype=Nn.prototype;function Pl(e,t,r){this.props=e,this.context=t,this.refs=Ou,this.updater=r||Lu}var Il=Pl.prototype=new Mu;Il.constructor=Pl;Ru(Il,Nn.prototype);Il.isPureReactComponent=!0;var Kc=Array.isArray,$u=Object.prototype.hasOwnProperty,Al={current:null},Uu={key:!0,ref:!0,__self:!0,__source:!0};function Du(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$u.call(t,n)&&!Uu.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Is,type:e,key:i,ref:o,props:s,_owner:Al.current}}function cg(e,t){return{$$typeof:Is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ll(e){return typeof e=="object"&&e!==null&&e.$$typeof===Is}function dg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jc=/\/+/g;function Mi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dg(""+e.key):t.toString(36)}function ga(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Is:case Xm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Mi(o,0):n,Kc(s)?(r="",e!=null&&(r=e.replace(Jc,"$&/")+"/"),ga(s,t,r,"",function(d){return d})):s!=null&&(Ll(s)&&(s=cg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Kc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Mi(i,l);o+=ga(i,t,r,c,s)}else if(c=lg(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Mi(i,l++),o+=ga(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vs(e,t,r){if(e==null)return e;var n=[],s=0;return ga(e,n,"","",function(i){return t.call(r,i,s++)}),n}function ug(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},pa={transition:null},hg={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:pa,ReactCurrentOwner:Al};function Fu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Vs,forEach:function(e,t,r){Vs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vs(e,function(){t++}),t},toArray:function(e){return Vs(e,function(t){return t})||[]},only:function(e){if(!Ll(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Nn;W.Fragment=Zm;W.Profiler=tg;W.PureComponent=Pl;W.StrictMode=eg;W.Suspense=ag;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hg;W.act=Fu;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ru({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$u.call(t,c)&&!Uu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Is,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:ng,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rg,_context:e},e.Consumer=e};W.createElement=Du;W.createFactory=function(e){var t=Du.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:sg,render:e}};W.isValidElement=Ll;W.lazy=function(e){return{$$typeof:og,_payload:{_status:-1,_result:e},_init:ug}};W.memo=function(e,t){return{$$typeof:ig,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=pa.transition;pa.transition={};try{e()}finally{pa.transition=t}};W.unstable_act=Fu;W.useCallback=function(e,t){return Ie.current.useCallback(e,t)};W.useContext=function(e){return Ie.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ie.current.useEffect(e,t)};W.useId=function(){return Ie.current.useId()};W.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ie.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};W.useRef=function(e){return Ie.current.useRef(e)};W.useState=function(e){return Ie.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ie.current.useTransition()};W.version="18.3.1";Au.exports=W;var y=Au.exports;const fg=Ym(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=y,gg=Symbol.for("react.element"),pg=Symbol.for("react.fragment"),xg=Object.prototype.hasOwnProperty,yg=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vg={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)xg.call(t,n)&&!vg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gg,type:e,key:i,ref:o,props:s,_owner:yg.current}}di.Fragment=pg;di.jsx=zu;di.jsxs=zu;Iu.exports=di;var a=Iu.exports,Bu={exports:{}},Ge={},Hu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var S=I.length;I.push(D);e:for(;0<S;){var L=S-1>>>1,$=I[L];if(0<s($,D))I[L]=D,I[S]=$,S=L;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],S=I.pop();if(S!==D){I[0]=S;e:for(var L=0,$=I.length,q=$>>>1;L<q;){var B=2*(L+1)-1,J=I[B],ae=B+1,Wt=I[ae];if(0>s(J,S))ae<$&&0>s(Wt,J)?(I[L]=Wt,I[ae]=S,L=ae):(I[L]=J,I[B]=S,L=B);else if(ae<$&&0>s(Wt,S))I[L]=Wt,I[ae]=S,L=ae;else break e}}return D}function s(I,D){var S=I.sortIndex-D.sortIndex;return S!==0?S:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,x=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(I){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=I)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function b(I){if(w=!1,p(I),!v)if(r(c)!==null)v=!0,H(j);else{var D=r(d);D!==null&&ce(b,D.startTime-I)}}function j(I,D){v=!1,w&&(w=!1,g(k),k=-1),x=!0;var S=f;try{for(p(D),h=r(c);h!==null&&(!(h.expirationTime>D)||I&&!A());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var $=L(h.expirationTime<=D);D=e.unstable_now(),typeof $=="function"?h.callback=$:h===r(c)&&n(c),p(D)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var B=r(d);B!==null&&ce(b,B.startTime-D),q=!1}return q}finally{h=null,f=S,x=!1}}var E=!1,N=null,k=-1,T=5,C=-1;function A(){return!(e.unstable_now()-C<T)}function F(){if(N!==null){var I=e.unstable_now();C=I;var D=!0;try{D=N(!0,I)}finally{D?ke():(E=!1,N=null)}}else E=!1}var ke;if(typeof m=="function")ke=function(){m(F)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Le=Ee.port2;Ee.port1.onmessage=F,ke=function(){Le.postMessage(null)}}else ke=function(){_(F,0)};function H(I){N=I,E||(E=!0,ke())}function ce(I,D){k=_(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,H(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var S=f;f=D;try{return I()}finally{f=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var S=f;f=I;try{return D()}finally{f=S}},e.unstable_scheduleCallback=function(I,D,S){var L=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?L+S:L):S=L,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=S+$,I={id:u++,callback:D,priorityLevel:I,startTime:S,expirationTime:$,sortIndex:-1},S>L?(I.sortIndex=S,t(d,I),r(c)===null&&I===r(d)&&(w?(g(k),k=-1):w=!0,ce(b,S-L))):(I.sortIndex=$,t(c,I),v||x||(v=!0,H(j))),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var D=f;return function(){var S=f;f=D;try{return I.apply(this,arguments)}finally{f=S}}}})(Vu);Hu.exports=Vu;var wg=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=y,We=wg;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wu=new Set,ds={};function Or(e,t){mn(e,t),mn(e+"Capture",t)}function mn(e,t){for(ds[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=Object.prototype.hasOwnProperty,kg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Qc={};function _g(e){return wo.call(Qc,e)?!0:wo.call(Yc,e)?!1:kg.test(e)?Qc[e]=!0:(Yc[e]=!0,!1)}function jg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ng(e,t,r,n){if(t===null||typeof t>"u"||jg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rl,Ol);be[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rl,Ol);be[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rl,Ol);be[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,r,n){var s=be.hasOwnProperty(t)?be[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ng(t,r,s,n)&&(r=null),n||s===null?_g(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ht=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ws=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),$l=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),qu=Symbol.for("react.context"),Ul=Symbol.for("react.forward_ref"),ko=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),Dl=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,$i;function qn(e){if($i===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$i=t&&t[1]||""}return`
`+$i+e}var Ui=!1;function Di(e,t){if(!e||Ui)return"";Ui=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ui=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qn(e):""}function Sg(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=Di(e.type,!1),e;case 11:return e=Di(e.type.render,!1),e;case 1:return e=Di(e.type,!0),e;default:return""}}function jo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Kr:return"Portal";case bo:return"Profiler";case $l:return"StrictMode";case ko:return"Suspense";case _o:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qu:return(e.displayName||"Context")+".Consumer";case Gu:return(e._context.displayName||"Context")+".Provider";case Ul:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dl:return t=e.displayName||null,t!==null?t:jo(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return jo(e(t))}catch{}}return null}function Eg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jo(t);case 8:return t===$l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cg(e){var t=Ju(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gs(e){e._valueTracker||(e._valueTracker=Cg(e))}function Yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ju(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function No(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=dr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qu(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function So(e,t){Qu(e,t);var r=dr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Eo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Eo(e,t.type,dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ed(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Eo(e,t,r){(t!=="number"||Pa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kn=Array.isArray;function on(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function td(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(P(92));if(Kn(r)){if(1<r.length)throw Error(P(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:dr(r)}}function Xu(e,t){var r=dr(t.value),n=dr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,eh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function us(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(e){Tg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xn[t]=Xn[e]})});function th(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xn.hasOwnProperty(e)&&Xn[e]?(""+t).trim():t+"px"}function rh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=th(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Pg=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(e,t){if(t){if(Pg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,ln=null,cn=null;function nd(e){if(e=Rs(e)){if(typeof Lo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=gi(t),Lo(e.stateNode,e.type,t))}}function nh(e){ln?cn?cn.push(e):cn=[e]:ln=e}function sh(){if(ln){var e=ln,t=cn;if(cn=ln=null,nd(e),t)for(e=0;e<t.length;e++)nd(t[e])}}function ah(e,t){return e(t)}function ih(){}var Fi=!1;function oh(e,t,r){if(Fi)return e(t,r);Fi=!0;try{return ah(e,t,r)}finally{Fi=!1,(ln!==null||cn!==null)&&(ih(),sh())}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(P(231,t,typeof r));return r}var Ro=!1;if($t)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ro=!1}function Ig(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Zn=!1,Ia=null,Aa=!1,Oo=null,Ag={onError:function(e){Zn=!0,Ia=e}};function Lg(e,t,r,n,s,i,o,l,c){Zn=!1,Ia=null,Ig.apply(Ag,arguments)}function Rg(e,t,r,n,s,i,o,l,c){if(Lg.apply(this,arguments),Zn){if(Zn){var d=Ia;Zn=!1,Ia=null}else throw Error(P(198));Aa||(Aa=!0,Oo=d)}}function Mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sd(e){if(Mr(e)!==e)throw Error(P(188))}function Og(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return sd(s),e;if(i===n)return sd(s),t;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?e:t}function ch(e){return e=Og(e),e!==null?dh(e):null}function dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dh(e);if(t!==null)return t;e=e.sibling}return null}var uh=We.unstable_scheduleCallback,ad=We.unstable_cancelCallback,Mg=We.unstable_shouldYield,$g=We.unstable_requestPaint,le=We.unstable_now,Ug=We.unstable_getCurrentPriorityLevel,zl=We.unstable_ImmediatePriority,hh=We.unstable_UserBlockingPriority,La=We.unstable_NormalPriority,Dg=We.unstable_LowPriority,fh=We.unstable_IdlePriority,ui=null,_t=null;function Fg(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Hg,zg=Math.log,Bg=Math.LN2;function Hg(e){return e>>>=0,e===0?32:31-(zg(e)/Bg|0)|0}var Ks=64,Js=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Jn(l):(i&=o,i!==0&&(n=Jn(i)))}else o=r&~s,o!==0?n=Jn(o):i!==0&&(n=Jn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pt(t),s=1<<r,n|=e[r],t&=~s;return n}function Vg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Vg(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mh(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function As(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=r}function Gg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-pt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Bl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function gh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ph,Hl,xh,yh,vh,$o=!1,Ys=[],rr=null,nr=null,sr=null,fs=new Map,ms=new Map,Qt=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function $n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rs(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kg(e,t,r,n,s){switch(t){case"focusin":return rr=$n(rr,e,t,r,n,s),!0;case"dragenter":return nr=$n(nr,e,t,r,n,s),!0;case"mouseover":return sr=$n(sr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fs.set(i,$n(fs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ms.set(i,$n(ms.get(i)||null,e,t,r,n,s)),!0}return!1}function wh(e){var t=kr(e.target);if(t!==null){var r=Mr(t);if(r!==null){if(t=r.tag,t===13){if(t=lh(r),t!==null){e.blockedOn=t,vh(e.priority,function(){xh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ao=n,r.target.dispatchEvent(n),Ao=null}else return t=Rs(r),t!==null&&Hl(t),e.blockedOn=r,!1;t.shift()}return!0}function od(e,t,r){xa(e)&&r.delete(t)}function Jg(){$o=!1,rr!==null&&xa(rr)&&(rr=null),nr!==null&&xa(nr)&&(nr=null),sr!==null&&xa(sr)&&(sr=null),fs.forEach(od),ms.forEach(od)}function Un(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Jg)))}function gs(e){function t(s){return Un(s,e)}if(0<Ys.length){Un(Ys[0],e);for(var r=1;r<Ys.length;r++){var n=Ys[r];n.blockedOn===e&&(n.blockedOn=null)}}for(rr!==null&&Un(rr,e),nr!==null&&Un(nr,e),sr!==null&&Un(sr,e),fs.forEach(t),ms.forEach(t),r=0;r<Qt.length;r++)n=Qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)wh(r),r.blockedOn===null&&Qt.shift()}var dn=Ht.ReactCurrentBatchConfig,Oa=!0;function Yg(e,t,r,n){var s=K,i=dn.transition;dn.transition=null;try{K=1,Vl(e,t,r,n)}finally{K=s,dn.transition=i}}function Qg(e,t,r,n){var s=K,i=dn.transition;dn.transition=null;try{K=4,Vl(e,t,r,n)}finally{K=s,dn.transition=i}}function Vl(e,t,r,n){if(Oa){var s=Uo(e,t,r,n);if(s===null)Qi(e,t,n,Ma,r),id(e,n);else if(Kg(s,e,t,r,n))n.stopPropagation();else if(id(e,n),t&4&&-1<qg.indexOf(e)){for(;s!==null;){var i=Rs(s);if(i!==null&&ph(i),i=Uo(e,t,r,n),i===null&&Qi(e,t,n,Ma,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qi(e,t,n,null,r)}}var Ma=null;function Uo(e,t,r,n){if(Ma=null,e=Fl(n),e=kr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ma=e,null}function bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case zl:return 1;case hh:return 4;case La:case Dg:return 16;case fh:return 536870912;default:return 16}default:return 16}}var er=null,Wl=null,ya=null;function kh(){if(ya)return ya;var e,t=Wl,r=t.length,n,s="value"in er?er.value:er.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ya=s.slice(e,1<n?1-n:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function ld(){return!1}function qe(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:ld,this.isPropagationStopped=ld,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=qe(Sn),Ls=se({},Sn,{view:0,detail:0}),Xg=qe(Ls),Bi,Hi,Dn,hi=se({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dn&&(Dn&&e.type==="mousemove"?(Bi=e.screenX-Dn.screenX,Hi=e.screenY-Dn.screenY):Hi=Bi=0,Dn=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),cd=qe(hi),Zg=se({},hi,{dataTransfer:0}),e0=qe(Zg),t0=se({},Ls,{relatedTarget:0}),Vi=qe(t0),r0=se({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=qe(r0),s0=se({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a0=qe(s0),i0=se({},Sn,{data:0}),dd=qe(i0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c0[e])?!!t[e]:!1}function ql(){return d0}var u0=se({},Ls,{key:function(e){if(e.key){var t=o0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h0=qe(u0),f0=se({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=qe(f0),m0=se({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),g0=qe(m0),p0=se({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),x0=qe(p0),y0=se({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=qe(y0),w0=[9,13,27,32],Kl=$t&&"CompositionEvent"in window,es=null;$t&&"documentMode"in document&&(es=document.documentMode);var b0=$t&&"TextEvent"in window&&!es,_h=$t&&(!Kl||es&&8<es&&11>=es),hd=" ",fd=!1;function jh(e,t){switch(e){case"keyup":return w0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function k0(e,t){switch(e){case"compositionend":return Nh(t);case"keypress":return t.which!==32?null:(fd=!0,hd);case"textInput":return e=t.data,e===hd&&fd?null:e;default:return null}}function _0(e,t){if(Yr)return e==="compositionend"||!Kl&&jh(e,t)?(e=kh(),ya=Wl=er=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j0[e.type]:t==="textarea"}function Sh(e,t,r,n){nh(n),t=$a(t,"onChange"),0<t.length&&(r=new Gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ts=null,ps=null;function N0(e){$h(e,0)}function fi(e){var t=Zr(e);if(Yu(t))return e}function S0(e,t){if(e==="change")return t}var Eh=!1;if($t){var Wi;if($t){var Gi="oninput"in document;if(!Gi){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),Gi=typeof gd.oninput=="function"}Wi=Gi}else Wi=!1;Eh=Wi&&(!document.documentMode||9<document.documentMode)}function pd(){ts&&(ts.detachEvent("onpropertychange",Ch),ps=ts=null)}function Ch(e){if(e.propertyName==="value"&&fi(ps)){var t=[];Sh(t,ps,e,Fl(e)),oh(N0,t)}}function E0(e,t,r){e==="focusin"?(pd(),ts=t,ps=r,ts.attachEvent("onpropertychange",Ch)):e==="focusout"&&pd()}function C0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(ps)}function T0(e,t){if(e==="click")return fi(t)}function P0(e,t){if(e==="input"||e==="change")return fi(t)}function I0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:I0;function xs(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!wo.call(t,s)||!yt(e[s],t[s]))return!1}return!0}function xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var r=xd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xd(r)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ph(){for(var e=window,t=Pa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pa(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A0(e){var t=Ph(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Th(r.ownerDocument.documentElement,r)){if(n!==null&&Jl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=yd(r,i);var o=yd(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L0=$t&&"documentMode"in document&&11>=document.documentMode,Qr=null,Do=null,rs=null,Fo=!1;function vd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fo||Qr==null||Qr!==Pa(n)||(n=Qr,"selectionStart"in n&&Jl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rs&&xs(rs,n)||(rs=n,n=$a(Do,"onSelect"),0<n.length&&(t=new Gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qr)))}function Xs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xr={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionend:Xs("Transition","TransitionEnd")},qi={},Ih={};$t&&(Ih=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function mi(e){if(qi[e])return qi[e];if(!Xr[e])return e;var t=Xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ih)return qi[e]=t[r];return e}var Ah=mi("animationend"),Lh=mi("animationiteration"),Rh=mi("animationstart"),Oh=mi("transitionend"),Mh=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(e,t){Mh.set(e,t),Or(t,[e])}for(var Ki=0;Ki<wd.length;Ki++){var Ji=wd[Ki],R0=Ji.toLowerCase(),O0=Ji[0].toUpperCase()+Ji.slice(1);hr(R0,"on"+O0)}hr(Ah,"onAnimationEnd");hr(Lh,"onAnimationIteration");hr(Rh,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(Oh,"onTransitionEnd");mn("onMouseEnter",["mouseout","mouseover"]);mn("onMouseLeave",["mouseout","mouseover"]);mn("onPointerEnter",["pointerout","pointerover"]);mn("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yn));function bd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rg(n,t,void 0,e),e.currentTarget=null}function $h(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;bd(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;bd(s,l,d),i=c}}}if(Aa)throw e=Oo,Aa=!1,Oo=null,e}function X(e,t){var r=t[Wo];r===void 0&&(r=t[Wo]=new Set);var n=e+"__bubble";r.has(n)||(Uh(t,e,2,!1),r.add(n))}function Yi(e,t,r){var n=0;t&&(n|=4),Uh(r,e,n,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[Zs]){e[Zs]=!0,Wu.forEach(function(r){r!=="selectionchange"&&(M0.has(r)||Yi(r,!1,e),Yi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Yi("selectionchange",!1,t))}}function Uh(e,t,r,n){switch(bh(t)){case 1:var s=Yg;break;case 4:s=Qg;break;default:s=Vl}r=s.bind(null,t,r,e),s=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Qi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=kr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}oh(function(){var d=i,u=Fl(r),h=[];e:{var f=Mh.get(e);if(f!==void 0){var x=Gl,v=e;switch(e){case"keypress":if(va(r)===0)break e;case"keydown":case"keyup":x=h0;break;case"focusin":v="focus",x=Vi;break;case"focusout":v="blur",x=Vi;break;case"beforeblur":case"afterblur":x=Vi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=g0;break;case Ah:case Lh:case Rh:x=n0;break;case Oh:x=x0;break;case"scroll":x=Xg;break;case"wheel":x=v0;break;case"copy":case"cut":case"paste":x=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ud}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=d,p;m!==null;){p=m;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=hs(m,g),b!=null&&w.push(vs(m,b,p)))),_)break;m=m.return}0<w.length&&(f=new x(f,v,null,r,u),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==Ao&&(v=r.relatedTarget||r.fromElement)&&(kr(v)||v[Ut]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=d,v=v?kr(v):null,v!==null&&(_=Mr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(w=cd,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=ud,b="onPointerLeave",g="onPointerEnter",m="pointer"),_=x==null?f:Zr(x),p=v==null?f:Zr(v),f=new w(b,m+"leave",x,r,u),f.target=_,f.relatedTarget=p,b=null,kr(u)===d&&(w=new w(g,m+"enter",v,r,u),w.target=p,w.relatedTarget=_,b=w),_=b,x&&v)t:{for(w=x,g=v,m=0,p=w;p;p=Fr(p))m++;for(p=0,b=g;b;b=Fr(b))p++;for(;0<m-p;)w=Fr(w),m--;for(;0<p-m;)g=Fr(g),p--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Fr(w),g=Fr(g)}w=null}else w=null;x!==null&&kd(h,f,x,w,!1),v!==null&&_!==null&&kd(h,_,v,w,!0)}}e:{if(f=d?Zr(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var j=S0;else if(md(f))if(Eh)j=P0;else{j=C0;var E=E0}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=T0);if(j&&(j=j(e,d))){Sh(h,j,r,u);break e}E&&E(e,f,d),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Eo(f,"number",f.value)}switch(E=d?Zr(d):window,e){case"focusin":(md(E)||E.contentEditable==="true")&&(Qr=E,Do=d,rs=null);break;case"focusout":rs=Do=Qr=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,vd(h,r,u);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":vd(h,r,u)}var N;if(Kl)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Yr?jh(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(_h&&r.locale!=="ko"&&(Yr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Yr&&(N=kh()):(er=u,Wl="value"in er?er.value:er.textContent,Yr=!0)),E=$a(d,k),0<E.length&&(k=new dd(k,e,null,r,u),h.push({event:k,listeners:E}),N?k.data=N:(N=Nh(r),N!==null&&(k.data=N)))),(N=b0?k0(e,r):_0(e,r))&&(d=$a(d,"onBeforeInput"),0<d.length&&(u=new dd("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=N))}$h(h,t)})}function vs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $a(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hs(e,r),i!=null&&n.unshift(vs(e,i,s)),i=hs(e,t),i!=null&&n.push(vs(e,i,s))),e=e.return}return n}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kd(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=hs(r,i),c!=null&&o.unshift(vs(r,c,l))):s||(c=hs(r,i),c!=null&&o.push(vs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var $0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace($0,`
`).replace(U0,"")}function ea(e,t,r){if(t=_d(t),_d(e)!==t&&r)throw Error(P(425))}function Ua(){}var zo=null,Bo=null;function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(z0)}:Vo;function z0(e){setTimeout(function(){throw e})}function Xi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),gs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gs(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),kt="__reactFiber$"+En,ws="__reactProps$"+En,Ut="__reactContainer$"+En,Wo="__reactEvents$"+En,B0="__reactListeners$"+En,H0="__reactHandles$"+En;function kr(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ut]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nd(e);e!==null;){if(r=e[kt])return r;e=Nd(e)}return t}e=r,r=e.parentNode}return null}function Rs(e){return e=e[kt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function gi(e){return e[ws]||null}var Go=[],en=-1;function fr(e){return{current:e}}function Z(e){0>en||(e.current=Go[en],Go[en]=null,en--)}function Q(e,t){en++,Go[en]=e.current,e.current=t}var ur={},Se=fr(ur),Ue=fr(!1),Er=ur;function gn(e,t){var r=e.type.contextTypes;if(!r)return ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function Da(){Z(Ue),Z(Se)}function Sd(e,t,r){if(Se.current!==ur)throw Error(P(168));Q(Se,t),Q(Ue,r)}function Dh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(P(108,Eg(e)||"Unknown",s));return se({},r,n)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Er=Se.current,Q(Se,e),Q(Ue,Ue.current),!0}function Ed(e,t,r){var n=e.stateNode;if(!n)throw Error(P(169));r?(e=Dh(e,t,Er),n.__reactInternalMemoizedMergedChildContext=e,Z(Ue),Z(Se),Q(Se,e)):Z(Ue),Q(Ue,r)}var Pt=null,pi=!1,Zi=!1;function Fh(e){Pt===null?Pt=[e]:Pt.push(e)}function V0(e){pi=!0,Fh(e)}function mr(){if(!Zi&&Pt!==null){Zi=!0;var e=0,t=K;try{var r=Pt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pt=null,pi=!1}catch(s){throw Pt!==null&&(Pt=Pt.slice(e+1)),uh(zl,mr),s}finally{K=t,Zi=!1}}return null}var tn=[],rn=0,za=null,Ba=0,Ye=[],Qe=0,Cr=null,It=1,At="";function yr(e,t){tn[rn++]=Ba,tn[rn++]=za,za=e,Ba=t}function zh(e,t,r){Ye[Qe++]=It,Ye[Qe++]=At,Ye[Qe++]=Cr,Cr=e;var n=It;e=At;var s=32-pt(n)-1;n&=~(1<<s),r+=1;var i=32-pt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,It=1<<32-pt(t)+s|r<<s|n,At=i+e}else It=1<<i|r<<s|n,At=e}function Yl(e){e.return!==null&&(yr(e,1),zh(e,1,0))}function Ql(e){for(;e===za;)za=tn[--rn],tn[rn]=null,Ba=tn[--rn],tn[rn]=null;for(;e===Cr;)Cr=Ye[--Qe],Ye[Qe]=null,At=Ye[--Qe],Ye[Qe]=null,It=Ye[--Qe],Ye[Qe]=null}var Ve=null,He=null,ee=!1,ft=null;function Bh(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,He=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:It,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,He=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ko(e){if(ee){var t=He;if(t){var r=t;if(!Cd(e,t)){if(qo(e))throw Error(P(418));t=ar(r.nextSibling);var n=Ve;t&&Cd(e,t)?Bh(n,r):(e.flags=e.flags&-4097|2,ee=!1,Ve=e)}}else{if(qo(e))throw Error(P(418));e.flags=e.flags&-4097|2,ee=!1,Ve=e}}}function Td(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function ta(e){if(e!==Ve)return!1;if(!ee)return Td(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ho(e.type,e.memoizedProps)),t&&(t=He)){if(qo(e))throw Hh(),Error(P(418));for(;t;)Bh(e,t),t=ar(t.nextSibling)}if(Td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){He=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ve?ar(e.stateNode.nextSibling):null;return!0}function Hh(){for(var e=He;e;)e=ar(e.nextSibling)}function pn(){He=Ve=null,ee=!1}function Xl(e){ft===null?ft=[e]:ft.push(e)}var W0=Ht.ReactCurrentBatchConfig;function Fn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,e))}return e}function ra(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pd(e){var t=e._init;return t(e._payload)}function Vh(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=cr(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,b){return m===null||m.tag!==6?(m=io(p,g.mode,b),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,b){var j=p.type;return j===Jr?u(g,m,p.props.children,b,p.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jt&&Pd(j)===m.type)?(b=s(m,p.props),b.ref=Fn(g,m,p),b.return=g,b):(b=Sa(p.type,p.key,p.props,null,g.mode,b),b.ref=Fn(g,m,p),b.return=g,b)}function d(g,m,p,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=oo(p,g.mode,b),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function u(g,m,p,b,j){return m===null||m.tag!==7?(m=Sr(p,g.mode,b,j),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=io(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ws:return p=Sa(m.type,m.key,m.props,null,g.mode,p),p.ref=Fn(g,null,m),p.return=g,p;case Kr:return m=oo(m,g.mode,p),m.return=g,m;case Jt:var b=m._init;return h(g,b(m._payload),p)}if(Kn(m)||On(m))return m=Sr(m,g.mode,p,null),m.return=g,m;ra(g,m)}return null}function f(g,m,p,b){var j=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(g,m,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ws:return p.key===j?c(g,m,p,b):null;case Kr:return p.key===j?d(g,m,p,b):null;case Jt:return j=p._init,f(g,m,j(p._payload),b)}if(Kn(p)||On(p))return j!==null?null:u(g,m,p,b,null);ra(g,p)}return null}function x(g,m,p,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,l(m,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ws:return g=g.get(b.key===null?p:b.key)||null,c(m,g,b,j);case Kr:return g=g.get(b.key===null?p:b.key)||null,d(m,g,b,j);case Jt:var E=b._init;return x(g,m,p,E(b._payload),j)}if(Kn(b)||On(b))return g=g.get(p)||null,u(m,g,b,j,null);ra(m,b)}return null}function v(g,m,p,b){for(var j=null,E=null,N=m,k=m=0,T=null;N!==null&&k<p.length;k++){N.index>k?(T=N,N=null):T=N.sibling;var C=f(g,N,p[k],b);if(C===null){N===null&&(N=T);break}e&&N&&C.alternate===null&&t(g,N),m=i(C,m,k),E===null?j=C:E.sibling=C,E=C,N=T}if(k===p.length)return r(g,N),ee&&yr(g,k),j;if(N===null){for(;k<p.length;k++)N=h(g,p[k],b),N!==null&&(m=i(N,m,k),E===null?j=N:E.sibling=N,E=N);return ee&&yr(g,k),j}for(N=n(g,N);k<p.length;k++)T=x(N,g,k,p[k],b),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),m=i(T,m,k),E===null?j=T:E.sibling=T,E=T);return e&&N.forEach(function(A){return t(g,A)}),ee&&yr(g,k),j}function w(g,m,p,b){var j=On(p);if(typeof j!="function")throw Error(P(150));if(p=j.call(p),p==null)throw Error(P(151));for(var E=j=null,N=m,k=m=0,T=null,C=p.next();N!==null&&!C.done;k++,C=p.next()){N.index>k?(T=N,N=null):T=N.sibling;var A=f(g,N,C.value,b);if(A===null){N===null&&(N=T);break}e&&N&&A.alternate===null&&t(g,N),m=i(A,m,k),E===null?j=A:E.sibling=A,E=A,N=T}if(C.done)return r(g,N),ee&&yr(g,k),j;if(N===null){for(;!C.done;k++,C=p.next())C=h(g,C.value,b),C!==null&&(m=i(C,m,k),E===null?j=C:E.sibling=C,E=C);return ee&&yr(g,k),j}for(N=n(g,N);!C.done;k++,C=p.next())C=x(N,g,k,C.value,b),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),m=i(C,m,k),E===null?j=C:E.sibling=C,E=C);return e&&N.forEach(function(F){return t(g,F)}),ee&&yr(g,k),j}function _(g,m,p,b){if(typeof p=="object"&&p!==null&&p.type===Jr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ws:e:{for(var j=p.key,E=m;E!==null;){if(E.key===j){if(j=p.type,j===Jr){if(E.tag===7){r(g,E.sibling),m=s(E,p.props.children),m.return=g,g=m;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Jt&&Pd(j)===E.type){r(g,E.sibling),m=s(E,p.props),m.ref=Fn(g,E,p),m.return=g,g=m;break e}r(g,E);break}else t(g,E);E=E.sibling}p.type===Jr?(m=Sr(p.props.children,g.mode,b,p.key),m.return=g,g=m):(b=Sa(p.type,p.key,p.props,null,g.mode,b),b.ref=Fn(g,m,p),b.return=g,g=b)}return o(g);case Kr:e:{for(E=p.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=oo(p,g.mode,b),m.return=g,g=m}return o(g);case Jt:return E=p._init,_(g,m,E(p._payload),b)}if(Kn(p))return v(g,m,p,b);if(On(p))return w(g,m,p,b);ra(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=io(p,g.mode,b),m.return=g,g=m),o(g)):r(g,m)}return _}var xn=Vh(!0),Wh=Vh(!1),Ha=fr(null),Va=null,nn=null,Zl=null;function ec(){Zl=nn=Va=null}function tc(e){var t=Ha.current;Z(Ha),e._currentValue=t}function Jo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function un(e,t){Va=e,Zl=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(Va===null)throw Error(P(308));nn=e,Va.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var _r=null;function rc(e){_r===null?_r=[e]:_r.push(e)}function Gh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,rc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dt(e,n)}function Dt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yt=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dt(e,r)}return s=n.interleaved,s===null?(t.next=t,rc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dt(e,r)}function wa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bl(e,r)}}function Id(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,n){var s=e.updateQueue;Yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,x=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(x,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(x,h,f):v,f==null)break e;h=se({},h,f);break e;case 2:Yt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=h}}function Ad(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var Os={},jt=fr(Os),bs=fr(Os),ks=fr(Os);function jr(e){if(e===Os)throw Error(P(174));return e}function sc(e,t){switch(Q(ks,t),Q(bs,e),Q(jt,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:To(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=To(t,e)}Z(jt),Q(jt,t)}function yn(){Z(jt),Z(bs),Z(ks)}function Kh(e){jr(ks.current);var t=jr(jt.current),r=To(t,e.type);t!==r&&(Q(bs,e),Q(jt,r))}function ac(e){bs.current===e&&(Z(jt),Z(bs))}var re=fr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eo=[];function ic(){for(var e=0;e<eo.length;e++)eo[e]._workInProgressVersionPrimary=null;eo.length=0}var ba=Ht.ReactCurrentDispatcher,to=Ht.ReactCurrentBatchConfig,Tr=0,ne=null,fe=null,ge=null,qa=!1,ns=!1,_s=0,G0=0;function _e(){throw Error(P(321))}function oc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yt(e[r],t[r]))return!1;return!0}function lc(e,t,r,n,s,i){if(Tr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=e===null||e.memoizedState===null?Y0:Q0,e=r(n,s),ns){i=0;do{if(ns=!1,_s=0,25<=i)throw Error(P(301));i+=1,ge=fe=null,t.updateQueue=null,ba.current=X0,e=r(n,s)}while(ns)}if(ba.current=Ka,t=fe!==null&&fe.next!==null,Tr=0,ge=fe=ne=null,qa=!1,t)throw Error(P(300));return e}function cc(){var e=_s!==0;return _s=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ne.memoizedState=ge=e:ge=ge.next=e,ge}function nt(){if(fe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ge===null?ne.memoizedState:ge.next;if(t!==null)ge=t,fe=e;else{if(e===null)throw Error(P(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?ne.memoizedState=ge=e:ge=ge.next=e}return ge}function js(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=nt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Tr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ne.lanes|=u,Pr|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,yt(n,t.memoizedState)||($e=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function no(e){var t=nt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);yt(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Jh(){}function Yh(e,t){var r=ne,n=nt(),s=t(),i=!yt(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,dc(Zh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,Ns(9,Xh.bind(null,r,n,s,t),void 0,null),pe===null)throw Error(P(349));Tr&30||Qh(r,t,s)}return s}function Qh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xh(e,t,r,n){t.value=r,t.getSnapshot=n,ef(t)&&tf(e)}function Zh(e,t,r){return r(function(){ef(t)&&tf(e)})}function ef(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yt(e,r)}catch{return!0}}function tf(e){var t=Dt(e,1);t!==null&&xt(t,e,1,-1)}function Ld(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:e},t.queue=e,e=e.dispatch=J0.bind(null,ne,e),[t.memoizedState,e]}function Ns(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function rf(){return nt().memoizedState}function ka(e,t,r,n){var s=wt();ne.flags|=e,s.memoizedState=Ns(1|t,r,void 0,n===void 0?null:n)}function xi(e,t,r,n){var s=nt();n=n===void 0?null:n;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,n!==null&&oc(n,o.deps)){s.memoizedState=Ns(t,r,i,n);return}}ne.flags|=e,s.memoizedState=Ns(1|t,r,i,n)}function Rd(e,t){return ka(8390656,8,e,t)}function dc(e,t){return xi(2048,8,e,t)}function nf(e,t){return xi(4,2,e,t)}function sf(e,t){return xi(4,4,e,t)}function af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function of(e,t,r){return r=r!=null?r.concat([e]):null,xi(4,4,af.bind(null,t,e),r)}function uc(){}function lf(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&oc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cf(e,t){var r=nt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&oc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function df(e,t,r){return Tr&21?(yt(r,t)||(r=mh(),ne.lanes|=r,Pr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function q0(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=to.transition;to.transition={};try{e(!1),t()}finally{K=r,to.transition=n}}function uf(){return nt().memoizedState}function K0(e,t,r){var n=lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hf(e))ff(t,r);else if(r=Gh(e,t,r,n),r!==null){var s=Pe();xt(r,e,n,s),mf(r,t,n)}}function J0(e,t,r){var n=lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hf(e))ff(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,yt(l,o)){var c=t.interleaved;c===null?(s.next=s,rc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Gh(e,t,s,n),r!==null&&(s=Pe(),xt(r,e,n,s),mf(r,t,n))}}function hf(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function ff(e,t){ns=qa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bl(e,r)}}var Ka={readContext:rt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Y0={readContext:rt,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Rd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,af.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var r=wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K0.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:Ld,useDebugValue:uc,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=Ld(!1),t=e[0];return e=q0.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=wt();if(ee){if(r===void 0)throw Error(P(407));r=r()}else{if(r=t(),pe===null)throw Error(P(349));Tr&30||Qh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Rd(Zh.bind(null,n,i,e),[e]),n.flags|=2048,Ns(9,Xh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=wt(),t=pe.identifierPrefix;if(ee){var r=At,n=It;r=(n&~(1<<32-pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_s++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q0={readContext:rt,useCallback:lf,useContext:rt,useEffect:dc,useImperativeHandle:of,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:cf,useReducer:ro,useRef:rf,useState:function(){return ro(js)},useDebugValue:uc,useDeferredValue:function(e){var t=nt();return df(t,fe.memoizedState,e)},useTransition:function(){var e=ro(js)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Jh,useSyncExternalStore:Yh,useId:uf,unstable_isNewReconciler:!1},X0={readContext:rt,useCallback:lf,useContext:rt,useEffect:dc,useImperativeHandle:of,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:cf,useReducer:no,useRef:rf,useState:function(){return no(js)},useDebugValue:uc,useDeferredValue:function(e){var t=nt();return fe===null?t.memoizedState=e:df(t,fe.memoizedState,e)},useTransition:function(){var e=no(js)[0],t=nt().memoizedState;return[e,t]},useMutableSource:Jh,useSyncExternalStore:Yh,useId:uf,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yi={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=lr(e),i=Rt(n,s);i.payload=t,r!=null&&(i.callback=r),t=ir(e,i,s),t!==null&&(xt(t,e,s,n),wa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=lr(e),i=Rt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ir(e,i,s),t!==null&&(xt(t,e,s,n),wa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=lr(e),s=Rt(r,n);s.tag=2,t!=null&&(s.callback=t),t=ir(e,s,n),t!==null&&(xt(t,e,n,r),wa(t,e,n))}};function Od(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xs(r,n)||!xs(s,i):!0}function gf(e,t,r){var n=!1,s=ur,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=De(t)?Er:Se.current,n=t.contextTypes,i=(n=n!=null)?gn(e,s):ur),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Md(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Qo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},nc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=De(t)?Er:Se.current,s.context=gn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yi.enqueueReplaceState(s,s.state,null),Wa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var r="",n=t;do r+=Sg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function so(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z0=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ya||(Ya=!0,ll=n),Xo(e,t)},r}function xf(e,t,r){r=Rt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Xo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xo(e,t),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $d(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=fp.bind(null,e,t,r),t.then(e,e))}function Ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rt(-1,1),t.tag=2,ir(r,t,1))),r.lanes|=1),e)}var ep=Ht.ReactCurrentOwner,$e=!1;function Te(e,t,r,n){t.child=e===null?Wh(t,null,r,n):xn(t,e.child,r,n)}function Fd(e,t,r,n,s){r=r.render;var i=t.ref;return un(t,s),n=lc(e,t,r,n,i,s),r=cc(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ee&&r&&Yl(t),t.flags|=1,Te(e,t,n,s),t.child)}function zd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,yf(e,t,i,n,s)):(e=Sa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xs,r(o,n)&&e.ref===t.ref)return Ft(e,t,s)}return t.flags|=1,e=cr(i,n),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(xs(i,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Ft(e,t,s)}return Zo(e,t,r,n,s)}function vf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(an,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(an,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(an,Be),Be|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Q(an,Be),Be|=n;return Te(e,t,s,r),t.child}function wf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zo(e,t,r,n,s){var i=De(r)?Er:Se.current;return i=gn(t,i),un(t,s),r=lc(e,t,r,n,i,s),n=cc(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ft(e,t,s)):(ee&&n&&Yl(t),t.flags|=1,Te(e,t,r,s),t.child)}function Bd(e,t,r,n,s){if(De(r)){var i=!0;Fa(t)}else i=!1;if(un(t,s),t.stateNode===null)_a(e,t),gf(t,r,n),Qo(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=rt(d):(d=De(r)?Er:Se.current,d=gn(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Md(t,o,n,d),Yt=!1;var f=t.memoizedState;o.state=f,Wa(t,n,o,s),c=t.memoizedState,l!==n||f!==c||Ue.current||Yt?(typeof u=="function"&&(Yo(t,r,u,n),c=t.memoizedState),(l=Yt||Od(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,qh(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:dt(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=De(r)?Er:Se.current,c=gn(t,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Md(t,o,n,c),Yt=!1,f=t.memoizedState,o.state=f,Wa(t,n,o,s);var v=t.memoizedState;l!==h||f!==v||Ue.current||Yt?(typeof x=="function"&&(Yo(t,r,x,n),v=t.memoizedState),(d=Yt||Od(t,r,d,n,f,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return el(e,t,r,n,i,s)}function el(e,t,r,n,s,i){wf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ed(t,r,!1),Ft(e,t,i);n=t.stateNode,ep.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xn(t,e.child,null,i),t.child=xn(t,null,l,i)):Te(e,t,l,i),t.memoizedState=n.state,s&&Ed(t,r,!0),t.child}function bf(e){var t=e.stateNode;t.pendingContext?Sd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sd(e,t.context,!1),sc(e,t.containerInfo)}function Hd(e,t,r,n,s){return pn(),Xl(s),t.flags|=256,Te(e,t,r,n),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,t,r){var n=t.pendingProps,s=re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(re,s&1),e===null)return Ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bi(o,n,0,null),e=Sr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rl(r),t.memoizedState=tl,e):hc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tp(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=cr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=cr(l,i):(i=Sr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?rl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=tl,n}return i=e.child,e=i.sibling,n=cr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hc(e,t){return t=bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function na(e,t,r,n){return n!==null&&Xl(n),xn(t,e.child,null,r),e=hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tp(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=so(Error(P(422))),na(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=bi({mode:"visible",children:n.children},s,0,null),i=Sr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xn(t,e.child,null,o),t.child.memoizedState=rl(o),t.memoizedState=tl,i);if(!(t.mode&1))return na(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(P(419)),n=so(i,n,void 0),na(e,t,o,n)}if(l=(o&e.childLanes)!==0,$e||l){if(n=pe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(e,s),xt(n,e,s,-1))}return yc(),n=so(Error(P(421))),na(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,He=ar(s.nextSibling),Ve=t,ee=!0,ft=null,e!==null&&(Ye[Qe++]=It,Ye[Qe++]=At,Ye[Qe++]=Cr,It=e.id,At=e.overflow,Cr=t),t=hc(t,n.children),t.flags|=4096,t)}function Vd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jo(e.return,t,r)}function ao(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function _f(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Te(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vd(e,r,t);else if(e.tag===19)Vd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ga(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ao(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ga(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ao(t,!0,r,null,i);break;case"together":ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,r=cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rp(e,t,r){switch(t.tag){case 3:bf(t),pn();break;case 5:Kh(t);break;case 1:De(t.type)&&Fa(t);break;case 4:sc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(Ha,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?kf(e,t,r):(Q(re,re.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);Q(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _f(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,vf(e,t,r)}return Ft(e,t,r)}var jf,nl,Nf,Sf;jf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nl=function(){};Nf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(jt.current);var i=null;switch(r){case"input":s=No(e,s),n=No(e,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=Co(e,s),n=Co(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ua)}Po(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ds.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ds.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&X("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Sf=function(e,t,r,n){r!==n&&(t.flags|=4)};function zn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function np(e,t,r){var n=t.pendingProps;switch(Ql(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return De(t.type)&&Da(),je(t),null;case 3:return n=t.stateNode,yn(),Z(Ue),Z(Se),ic(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(ul(ft),ft=null))),nl(e,t),je(t),null;case 5:ac(t);var s=jr(ks.current);if(r=t.type,e!==null&&t.stateNode!=null)Nf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(P(166));return je(t),null}if(e=jr(jt.current),ta(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kt]=t,n[ws]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<Yn.length;s++)X(Yn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":Zc(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":td(n,i),X("invalid",n)}Po(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ea(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ea(n.textContent,l,e),s=["children",""+l]):ds.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&X("scroll",n)}switch(r){case"input":Gs(n),ed(n,i,!0);break;case"textarea":Gs(n),rd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ua)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[kt]=t,e[ws]=n,jf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Io(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<Yn.length;s++)X(Yn[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":Zc(e,n),s=No(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":td(e,n),s=Co(e,n),X("invalid",e);break;default:s=n}Po(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&us(e,c):typeof c=="number"&&us(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ds.hasOwnProperty(i)?c!=null&&i==="onScroll"&&X("scroll",e):c!=null&&Ml(e,i,c,o))}switch(r){case"input":Gs(e),ed(e,n,!1);break;case"textarea":Gs(e),rd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+dr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?on(e,!!n.multiple,i,!1):n.defaultValue!=null&&on(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Sf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(P(166));if(r=jr(ks.current),jr(jt.current),ta(t)){if(n=t.stateNode,r=t.memoizedProps,n[kt]=t,(i=n.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:ea(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=t,t.stateNode=n}return je(t),null;case 13:if(Z(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&He!==null&&t.mode&1&&!(t.flags&128))Hh(),pn(),t.flags|=98560,i=!1;else if(i=ta(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[kt]=t}else pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),i=!1}else ft!==null&&(ul(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):yc())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return yn(),nl(e,t),e===null&&ys(t.stateNode.containerInfo),je(t),null;case 10:return tc(t.type._context),je(t),null;case 17:return De(t.type)&&Da(),je(t),null;case 19:if(Z(re),i=t.memoizedState,i===null)return je(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)zn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ga(e),o!==null){for(t.flags|=128,zn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>wn&&(t.flags|=128,n=!0,zn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ga(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return je(t),null}else 2*le()-i.renderingStartTime>wn&&r!==1073741824&&(t.flags|=128,n=!0,zn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,r=re.current,Q(re,n?r&1|2:r&1),t):(je(t),null);case 22:case 23:return xc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function sp(e,t){switch(Ql(t),t.tag){case 1:return De(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),Z(Ue),Z(Se),ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ac(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return yn(),null;case 10:return tc(t.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var sa=!1,Ne=!1,ap=typeof WeakSet=="function"?WeakSet:Set,R=null;function sn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(e,t,n)}else r.current=null}function sl(e,t,r){try{r()}catch(n){ie(e,t,n)}}var Wd=!1;function ip(e,t){if(zo=Oa,e=Ph(),Jl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var x;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bo={focusedElem:e,selectionRange:r},Oa=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=Wd,Wd=!1,v}function ss(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&sl(t,r,i)}s=s.next}while(s!==n)}}function vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ef(e){var t=e.alternate;t!==null&&(e.alternate=null,Ef(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[ws],delete t[Wo],delete t[B0],delete t[H0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function il(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ua));else if(n!==4&&(e=e.child,e!==null))for(il(e,t,r),e=e.sibling;e!==null;)il(e,t,r),e=e.sibling}function ol(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ol(e,t,r),e=e.sibling;e!==null;)ol(e,t,r),e=e.sibling}var ye=null,ut=!1;function Gt(e,t,r){for(r=r.child;r!==null;)Tf(e,t,r),r=r.sibling}function Tf(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ui,r)}catch{}switch(r.tag){case 5:Ne||sn(r,t);case 6:var n=ye,s=ut;ye=null,Gt(e,t,r),ye=n,ut=s,ye!==null&&(ut?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(ut?(e=ye,r=r.stateNode,e.nodeType===8?Xi(e.parentNode,r):e.nodeType===1&&Xi(e,r),gs(e)):Xi(ye,r.stateNode));break;case 4:n=ye,s=ut,ye=r.stateNode.containerInfo,ut=!0,Gt(e,t,r),ye=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sl(r,t,o),s=s.next}while(s!==n)}Gt(e,t,r);break;case 1:if(!Ne&&(sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ie(r,t,l)}Gt(e,t,r);break;case 21:Gt(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Gt(e,t,r),Ne=n):Gt(e,t,r);break;default:Gt(e,t,r)}}function qd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ap),t.forEach(function(n){var s=gp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,ut=!1;break e;case 3:ye=l.stateNode.containerInfo,ut=!0;break e;case 4:ye=l.stateNode.containerInfo,ut=!0;break e}l=l.return}if(ye===null)throw Error(P(160));Tf(i,o,s),ye=null,ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ie(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),vt(e),n&4){try{ss(3,e,e.return),vi(3,e)}catch(w){ie(e,e.return,w)}try{ss(5,e,e.return)}catch(w){ie(e,e.return,w)}}break;case 1:ot(t,e),vt(e),n&512&&r!==null&&sn(r,r.return);break;case 5:if(ot(t,e),vt(e),n&512&&r!==null&&sn(r,r.return),e.flags&32){var s=e.stateNode;try{us(s,"")}catch(w){ie(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Qu(s,i),Io(l,o);var d=Io(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?rh(s,h):u==="dangerouslySetInnerHTML"?eh(s,h):u==="children"?us(s,h):Ml(s,u,h,d)}switch(l){case"input":So(s,i);break;case"textarea":Xu(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?on(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?on(s,!!i.multiple,i.defaultValue,!0):on(s,!!i.multiple,i.multiple?[]:"",!1))}s[ws]=i}catch(w){ie(e,e.return,w)}}break;case 6:if(ot(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ie(e,e.return,w)}}break;case 3:if(ot(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(w){ie(e,e.return,w)}break;case 4:ot(t,e),vt(e);break;case 13:ot(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gc=le())),n&4&&qd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(d=Ne)||u,ot(t,e),Ne=d):ot(t,e),vt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(R=e,u=e.child;u!==null;){for(h=R=u;R!==null;){switch(f=R,x=f.child,f.tag){case 0:case 11:case 14:case 15:ss(4,f,f.return);break;case 1:sn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ie(n,r,w)}}break;case 5:sn(f,f.return);break;case 22:if(f.memoizedState!==null){Jd(h);continue}}x!==null?(x.return=f,R=x):Jd(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=th("display",o))}catch(w){ie(e,e.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){ie(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(t,e),vt(e),n&4&&qd(e);break;case 21:break;default:ot(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cf(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(us(s,""),n.flags&=-33);var i=Gd(e);ol(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gd(e);il(e,l,o);break;default:throw Error(P(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function op(e,t,r){R=e,If(e)}function If(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||sa;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ne;l=sa;var d=Ne;if(sa=o,(Ne=c)&&!d)for(R=s;R!==null;)o=R,c=o.child,o.tag===22&&o.memoizedState!==null?Yd(s):c!==null?(c.return=o,R=c):Yd(s);for(;i!==null;)R=i,If(i),i=i.sibling;R=s,sa=l,Ne=d}Kd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Kd(e)}}function Kd(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||vi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:dt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ad(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ad(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&gs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ne||t.flags&512&&al(t)}catch(f){ie(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function Jd(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Yd(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vi(4,t)}catch(c){ie(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ie(t,s,c)}}var i=t.return;try{al(t)}catch(c){ie(t,i,c)}break;case 5:var o=t.return;try{al(t)}catch(c){ie(t,o,c)}}}catch(c){ie(t,t.return,c)}if(t===e){R=null;break}var l=t.sibling;if(l!==null){l.return=t.return,R=l;break}R=t.return}}var lp=Math.ceil,Ja=Ht.ReactCurrentDispatcher,fc=Ht.ReactCurrentOwner,Ze=Ht.ReactCurrentBatchConfig,G=0,pe=null,de=null,ve=0,Be=0,an=fr(0),me=0,Ss=null,Pr=0,wi=0,mc=0,as=null,Re=null,gc=0,wn=1/0,Ct=null,Ya=!1,ll=null,or=null,aa=!1,tr=null,Qa=0,is=0,cl=null,ja=-1,Na=0;function Pe(){return G&6?le():ja!==-1?ja:ja=le()}function lr(e){return e.mode&1?G&2&&ve!==0?ve&-ve:W0.transition!==null?(Na===0&&(Na=mh()),Na):(e=K,e!==0||(e=window.event,e=e===void 0?16:bh(e.type)),e):1}function xt(e,t,r,n){if(50<is)throw is=0,cl=null,Error(P(185));As(e,r,n),(!(G&2)||e!==pe)&&(e===pe&&(!(G&2)&&(wi|=r),me===4&&Xt(e,ve)),Fe(e,n),r===1&&G===0&&!(t.mode&1)&&(wn=le()+500,pi&&mr()))}function Fe(e,t){var r=e.callbackNode;Wg(e,t);var n=Ra(e,e===pe?ve:0);if(n===0)r!==null&&ad(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ad(r),t===1)e.tag===0?V0(Qd.bind(null,e)):Fh(Qd.bind(null,e)),F0(function(){!(G&6)&&mr()}),r=null;else{switch(gh(n)){case 1:r=zl;break;case 4:r=hh;break;case 16:r=La;break;case 536870912:r=fh;break;default:r=La}r=Df(r,Af.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Af(e,t){if(ja=-1,Na=0,G&6)throw Error(P(327));var r=e.callbackNode;if(hn()&&e.callbackNode!==r)return null;var n=Ra(e,e===pe?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xa(e,n);else{t=n;var s=G;G|=2;var i=Rf();(pe!==e||ve!==t)&&(Ct=null,wn=le()+500,Nr(e,t));do try{up();break}catch(l){Lf(e,l)}while(!0);ec(),Ja.current=i,G=s,de!==null?t=0:(pe=null,ve=0,t=me)}if(t!==0){if(t===2&&(s=Mo(e),s!==0&&(n=s,t=dl(e,s))),t===1)throw r=Ss,Nr(e,0),Xt(e,n),Fe(e,le()),r;if(t===6)Xt(e,n);else{if(s=e.current.alternate,!(n&30)&&!cp(s)&&(t=Xa(e,n),t===2&&(i=Mo(e),i!==0&&(n=i,t=dl(e,i))),t===1))throw r=Ss,Nr(e,0),Xt(e,n),Fe(e,le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(P(345));case 2:vr(e,Re,Ct);break;case 3:if(Xt(e,n),(n&130023424)===n&&(t=gc+500-le(),10<t)){if(Ra(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vo(vr.bind(null,e,Re,Ct),t);break}vr(e,Re,Ct);break;case 4:if(Xt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-pt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lp(n/1960))-n,10<n){e.timeoutHandle=Vo(vr.bind(null,e,Re,Ct),n);break}vr(e,Re,Ct);break;case 5:vr(e,Re,Ct);break;default:throw Error(P(329))}}}return Fe(e,le()),e.callbackNode===r?Af.bind(null,e):null}function dl(e,t){var r=as;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=Xa(e,t),e!==2&&(t=Re,Re=r,t!==null&&ul(t)),e}function ul(e){Re===null?Re=e:Re.push.apply(Re,e)}function cp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~mc,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pt(t),n=1<<r;e[r]=-1,t&=~n}}function Qd(e){if(G&6)throw Error(P(327));hn();var t=Ra(e,0);if(!(t&1))return Fe(e,le()),null;var r=Xa(e,t);if(e.tag!==0&&r===2){var n=Mo(e);n!==0&&(t=n,r=dl(e,n))}if(r===1)throw r=Ss,Nr(e,0),Xt(e,t),Fe(e,le()),r;if(r===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vr(e,Re,Ct),Fe(e,le()),null}function pc(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(wn=le()+500,pi&&mr())}}function Ir(e){tr!==null&&tr.tag===0&&!(G&6)&&hn();var t=G;G|=1;var r=Ze.transition,n=K;try{if(Ze.transition=null,K=1,e)return e()}finally{K=n,Ze.transition=r,G=t,!(G&6)&&mr()}}function xc(){Be=an.current,Z(an)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D0(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Ql(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Da();break;case 3:yn(),Z(Ue),Z(Se),ic();break;case 5:ac(n);break;case 4:yn();break;case 13:Z(re);break;case 19:Z(re);break;case 10:tc(n.type._context);break;case 22:case 23:xc()}r=r.return}if(pe=e,de=e=cr(e.current,null),ve=Be=t,me=0,Ss=null,mc=wi=Pr=0,Re=as=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}_r=null}return e}function Lf(e,t){do{var r=de;try{if(ec(),ba.current=Ka,qa){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qa=!1}if(Tr=0,ge=fe=ne=null,ns=!1,_s=0,fc.current=null,r===null||r.return===null){me=1,Ss=t,de=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ve,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Ud(o);if(x!==null){x.flags&=-257,Dd(x,o,l,i,t),x.mode&1&&$d(i,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){$d(i,d,t),yc();break e}c=Error(P(426))}}else if(ee&&l.mode&1){var _=Ud(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Dd(_,o,l,i,t),Xl(vn(c,l));break e}}i=c=vn(c,l),me!==4&&(me=2),as===null?as=[i]:as.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=pf(i,c,t);Id(i,g);break e;case 1:l=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(or===null||!or.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=xf(i,l,t);Id(i,b);break e}}i=i.return}while(i!==null)}Mf(r)}catch(j){t=j,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function Rf(){var e=Ja.current;return Ja.current=Ka,e===null?Ka:e}function yc(){(me===0||me===3||me===2)&&(me=4),pe===null||!(Pr&268435455)&&!(wi&268435455)||Xt(pe,ve)}function Xa(e,t){var r=G;G|=2;var n=Rf();(pe!==e||ve!==t)&&(Ct=null,Nr(e,t));do try{dp();break}catch(s){Lf(e,s)}while(!0);if(ec(),G=r,Ja.current=n,de!==null)throw Error(P(261));return pe=null,ve=0,me}function dp(){for(;de!==null;)Of(de)}function up(){for(;de!==null&&!Mg();)Of(de)}function Of(e){var t=Uf(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Mf(e):de=t,fc.current=null}function Mf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sp(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(r=np(r,t,Be),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function vr(e,t,r){var n=K,s=Ze.transition;try{Ze.transition=null,K=1,hp(e,t,r,n)}finally{Ze.transition=s,K=n}return null}function hp(e,t,r,n){do hn();while(tr!==null);if(G&6)throw Error(P(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gg(e,i),e===pe&&(de=pe=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aa||(aa=!0,Df(La,function(){return hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var o=K;K=1;var l=G;G|=4,fc.current=null,ip(e,r),Pf(r,e),A0(Bo),Oa=!!zo,Bo=zo=null,e.current=r,op(r),$g(),G=l,K=o,Ze.transition=i}else e.current=r;if(aa&&(aa=!1,tr=e,Qa=s),i=e.pendingLanes,i===0&&(or=null),Fg(r.stateNode),Fe(e,le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ya)throw Ya=!1,e=ll,ll=null,e;return Qa&1&&e.tag!==0&&hn(),i=e.pendingLanes,i&1?e===cl?is++:(is=0,cl=e):is=0,mr(),null}function hn(){if(tr!==null){var e=gh(Qa),t=Ze.transition,r=K;try{if(Ze.transition=null,K=16>e?16:e,tr===null)var n=!1;else{if(e=tr,tr=null,Qa=0,G&6)throw Error(P(331));var s=G;for(G|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(R=d;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:ss(8,u,i)}var h=u.child;if(h!==null)h.return=u,R=h;else for(;R!==null;){u=R;var f=u.sibling,x=u.return;if(Ef(u),u===d){R=null;break}if(f!==null){f.return=x,R=f;break}R=x}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ss(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=m;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vi(9,l)}}catch(j){ie(l,l.return,j)}if(l===o){R=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,R=b;break e}R=l.return}}if(G=s,mr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ui,e)}catch{}n=!0}return n}finally{K=r,Ze.transition=t}}return!1}function Xd(e,t,r){t=vn(r,t),t=pf(e,t,1),e=ir(e,t,1),t=Pe(),e!==null&&(As(e,1,t),Fe(e,t))}function ie(e,t,r){if(e.tag===3)Xd(e,e,r);else for(;t!==null;){if(t.tag===3){Xd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){e=vn(r,e),e=xf(t,e,1),t=ir(t,e,1),e=Pe(),t!==null&&(As(t,1,e),Fe(t,e));break}}t=t.return}}function fp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,pe===e&&(ve&r)===r&&(me===4||me===3&&(ve&130023424)===ve&&500>le()-gc?Nr(e,0):mc|=r),Fe(e,t)}function $f(e,t){t===0&&(e.mode&1?(t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):t=1);var r=Pe();e=Dt(e,t),e!==null&&(As(e,t,r),Fe(e,r))}function mp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$f(e,r)}function gp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(t),$f(e,r)}var Uf;Uf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,rp(e,t,r);$e=!!(e.flags&131072)}else $e=!1,ee&&t.flags&1048576&&zh(t,Ba,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_a(e,t),e=t.pendingProps;var s=gn(t,Se.current);un(t,r),s=lc(null,t,n,e,s,r);var i=cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(i=!0,Fa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nc(t),s.updater=yi,t.stateNode=s,s._reactInternals=t,Qo(t,n,e,r),t=el(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&Yl(t),Te(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_a(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=xp(n),e=dt(n,e),s){case 0:t=Zo(null,t,n,e,r);break e;case 1:t=Bd(null,t,n,e,r);break e;case 11:t=Fd(null,t,n,e,r);break e;case 14:t=zd(null,t,n,dt(n.type,e),r);break e}throw Error(P(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Zo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Bd(e,t,n,s,r);case 3:e:{if(bf(t),e===null)throw Error(P(387));n=t.pendingProps,i=t.memoizedState,s=i.element,qh(e,t),Wa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vn(Error(P(423)),t),t=Hd(e,t,n,r,s);break e}else if(n!==s){s=vn(Error(P(424)),t),t=Hd(e,t,n,r,s);break e}else for(He=ar(t.stateNode.containerInfo.firstChild),Ve=t,ee=!0,ft=null,r=Wh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pn(),n===s){t=Ft(e,t,r);break e}Te(e,t,n,r)}t=t.child}return t;case 5:return Kh(t),e===null&&Ko(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ho(n,s)?o=null:i!==null&&Ho(n,i)&&(t.flags|=32),wf(e,t),Te(e,t,o,r),t.child;case 6:return e===null&&Ko(t),null;case 13:return kf(e,t,r);case 4:return sc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xn(t,null,n,r):Te(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),Fd(e,t,n,s,r);case 7:return Te(e,t,t.pendingProps,r),t.child;case 8:return Te(e,t,t.pendingProps.children,r),t.child;case 12:return Te(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(Ha,n._currentValue),n._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!Ue.current){t=Ft(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rt(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Jo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Jo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,un(t,r),s=rt(s),n=n(s),t.flags|=1,Te(e,t,n,r),t.child;case 14:return n=t.type,s=dt(n,t.pendingProps),s=dt(n.type,s),zd(e,t,n,s,r);case 15:return yf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:dt(n,s),_a(e,t),t.tag=1,De(n)?(e=!0,Fa(t)):e=!1,un(t,r),gf(t,n,s),Qo(t,n,s,r),el(null,t,n,!0,e,r);case 19:return _f(e,t,r);case 22:return vf(e,t,r)}throw Error(P(156,t.tag))};function Df(e,t){return uh(e,t)}function pp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,n){return new pp(e,t,r,n)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xp(e){if(typeof e=="function")return vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ul)return 11;if(e===Dl)return 14}return 2}function cr(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")vc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jr:return Sr(r.children,s,i,t);case $l:o=8,s|=8;break;case bo:return e=Xe(12,r,t,s|2),e.elementType=bo,e.lanes=i,e;case ko:return e=Xe(13,r,t,s),e.elementType=ko,e.lanes=i,e;case _o:return e=Xe(19,r,t,s),e.elementType=_o,e.lanes=i,e;case Ku:return bi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gu:o=10;break e;case qu:o=9;break e;case Ul:o=11;break e;case Dl:o=14;break e;case Jt:o=16,n=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Xe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Sr(e,t,r,n){return e=Xe(7,e,n,t),e.lanes=r,e}function bi(e,t,r,n){return e=Xe(22,e,n,t),e.elementType=Ku,e.lanes=r,e.stateNode={isHidden:!1},e}function io(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function oo(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wc(e,t,r,n,s,i,o,l,c){return e=new yp(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(i),e}function vp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ff(e){if(!e)return ur;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var r=e.type;if(De(r))return Dh(e,r,t)}return t}function zf(e,t,r,n,s,i,o,l,c){return e=wc(r,n,!0,e,s,i,o,l,c),e.context=Ff(null),r=e.current,n=Pe(),s=lr(r),i=Rt(n,s),i.callback=t??null,ir(r,i,s),e.current.lanes=s,As(e,s,n),Fe(e,n),e}function ki(e,t,r,n){var s=t.current,i=Pe(),o=lr(s);return r=Ff(r),t.context===null?t.context=r:t.pendingContext=r,t=Rt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ir(s,t,o),e!==null&&(xt(e,s,o,i),wa(e,s,o)),o}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bc(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function wp(){return null}var Bf=typeof reportError=="function"?reportError:function(e){console.error(e)};function kc(e){this._internalRoot=e}_i.prototype.render=kc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));ki(e,t,null,null)};_i.prototype.unmount=kc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){ki(null,e,null,null)}),t[Ut]=null}};function _i(e){this._internalRoot=e}_i.prototype.unstable_scheduleHydration=function(e){if(e){var t=yh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&wh(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function bp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Za(o);i.call(d)}}var o=zf(t,n,e,0,null,!1,!1,"",eu);return e._reactRootContainer=o,e[Ut]=o.current,ys(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Za(c);l.call(d)}}var c=wc(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=c,e[Ut]=c.current,ys(e.nodeType===8?e.parentNode:e),Ir(function(){ki(t,c,r,n)}),c}function Ni(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Za(o);l.call(c)}}ki(t,o,e,s)}else o=bp(r,t,e,s,n);return Za(o)}ph=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jn(t.pendingLanes);r!==0&&(Bl(t,r|1),Fe(t,le()),!(G&6)&&(wn=le()+500,mr()))}break;case 13:Ir(function(){var n=Dt(e,1);if(n!==null){var s=Pe();xt(n,e,1,s)}}),bc(e,1)}};Hl=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var r=Pe();xt(t,e,134217728,r)}bc(e,134217728)}};xh=function(e){if(e.tag===13){var t=lr(e),r=Dt(e,t);if(r!==null){var n=Pe();xt(r,e,t,n)}bc(e,t)}};yh=function(){return K};vh=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};Lo=function(e,t,r){switch(t){case"input":if(So(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=gi(n);if(!s)throw Error(P(90));Yu(n),So(n,s)}}}break;case"textarea":Xu(e,r);break;case"select":t=r.value,t!=null&&on(e,!!r.multiple,t,!1)}};ah=pc;ih=Ir;var kp={usingClientEntryPoint:!1,Events:[Rs,Zr,gi,nh,sh,pc]},Bn={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_p={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ch(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{ui=ia.inject(_p),_t=ia}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kp;Ge.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(P(200));return vp(e,t,null,r)};Ge.createRoot=function(e,t){if(!_c(e))throw Error(P(299));var r=!1,n="",s=Bf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wc(e,1,!1,null,null,r,!1,n,s),e[Ut]=t.current,ys(e.nodeType===8?e.parentNode:e),new kc(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ch(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return Ir(e)};Ge.hydrate=function(e,t,r){if(!ji(t))throw Error(P(200));return Ni(null,e,t,!0,r)};Ge.hydrateRoot=function(e,t,r){if(!_c(e))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Bf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zf(t,null,e,1,r??null,s,!1,i,o),e[Ut]=t.current,ys(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _i(t)};Ge.render=function(e,t,r){if(!ji(t))throw Error(P(200));return Ni(null,e,t,!1,r)};Ge.unmountComponentAtNode=function(e){if(!ji(e))throw Error(P(40));return e._reactRootContainer?(Ir(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};Ge.unstable_batchedUpdates=pc;Ge.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ji(r))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ni(e,t,r,!1,n)};Ge.version="18.3.1-next-f1338f8080-20240426";function Hf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hf)}catch(e){console.error(e)}}Hf(),Bu.exports=Ge;var jp=Bu.exports,Vf,tu=jp;Vf=tu.createRoot,tu.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ru="popstate";function Np(e={}){function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return hl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Es(s)}return Ep(t,r,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function st(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sp(){return Math.random().toString(36).substring(2,10)}function nu(e,t){return{usr:e.state,key:e.key,idx:t}}function hl(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cn(t):t,state:r,key:t&&t.key||n||Sp()}}function Es({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Ep(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=u(),g=_==null?null:_-d;d=_,c&&c({action:l,location:w.location,delta:g})}function f(_,g){l="PUSH";let m=hl(w.location,_,g);d=u()+1;let p=nu(m,d),b=w.createHref(m);try{o.pushState(p,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(b)}i&&c&&c({action:l,location:w.location,delta:1})}function x(_,g){l="REPLACE";let m=hl(w.location,_,g);d=u();let p=nu(m,d),b=w.createHref(m);o.replaceState(p,"",b),i&&c&&c({action:l,location:w.location,delta:0})}function v(_){return Cp(_)}let w={get action(){return l},get location(){return e(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ru,h),c=_,()=>{s.removeEventListener(ru,h),c=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:x,go(_){return o.go(_)}};return w}function Cp(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),te(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Es(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Wf(e,t,r="/"){return Tp(e,t,r,!1)}function Tp(e,t,r,n){let s=typeof t=="string"?Cn(t):t,i=zt(s.pathname||"/",r);if(i==null)return null;let o=Gf(e);Pp(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=zp(i);l=Dp(o[c],d,n)}return l}function Gf(e,t=[],r=[],n="",s=!1){let i=(o,l,c=s,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;te(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=Ot([n,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(te(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Gf(o.children,t,f,h,c)),!(o.path==null&&!o.index)&&t.push({path:h,score:$p(h,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of qf(o.path))i(o,l,!0,d)}),t}function qf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=qf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Pp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Up(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ip=/^:[\w-]+$/,Ap=3,Lp=2,Rp=1,Op=10,Mp=-2,su=e=>e==="*";function $p(e,t){let r=e.split("/"),n=r.length;return r.some(su)&&(n+=Mp),t&&(n+=Lp),r.filter(s=>!su(s)).reduce((s,i)=>s+(Ip.test(i)?Ap:i===""?Rp:Op),n)}function Up(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Dp(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=ei({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=ei({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ot([i,h.pathname]),pathnameBase:Gp(Ot([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ot([i,h.pathnameBase]))}return o}function ei(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fp(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},f)=>{if(u==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[u]=void 0:d[u]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Fp(e,t=!1,r=!0){st(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function zp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return st(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var Bp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hp=e=>Bp.test(e);function Vp(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cn(e):e,i;if(r)if(Hp(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),st(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=au(r.substring(1),"/"):i=au(r,t)}else i=t;return{pathname:i,search:qp(n),hash:Kp(s)}}function au(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lo(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jc(e){let t=Wp(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Nc(e,t,r,n=!1){let s;typeof e=="string"?s=Cn(e):(s={...e},te(!s.pathname||!s.pathname.includes("?"),lo("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),lo("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),lo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Vp(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ot=e=>e.join("/").replace(/\/\/+/g,"/"),Gp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Yp(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kf=["POST","PUT","PATCH","DELETE"];new Set(Kf);var Qp=["GET",...Kf];new Set(Qp);var Tn=y.createContext(null);Tn.displayName="DataRouter";var Si=y.createContext(null);Si.displayName="DataRouterState";y.createContext(!1);var Jf=y.createContext({isTransitioning:!1});Jf.displayName="ViewTransition";var Xp=y.createContext(new Map);Xp.displayName="Fetchers";var Zp=y.createContext(null);Zp.displayName="Await";var at=y.createContext(null);at.displayName="Navigation";var Ms=y.createContext(null);Ms.displayName="Location";var Nt=y.createContext({outlet:null,matches:[],isDataRoute:!1});Nt.displayName="Route";var Sc=y.createContext(null);Sc.displayName="RouteError";function ex(e,{relative:t}={}){te(Pn(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(at),{hash:s,pathname:i,search:o}=$s(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Ot([r,i])),n.createHref({pathname:l,search:o,hash:s})}function Pn(){return y.useContext(Ms)!=null}function Vt(){return te(Pn(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ms).location}var Yf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qf(e){y.useContext(at).static||y.useLayoutEffect(e)}function Ec(){let{isDataRoute:e}=y.useContext(Nt);return e?fx():tx()}function tx(){te(Pn(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Tn),{basename:t,navigator:r}=y.useContext(at),{matches:n}=y.useContext(Nt),{pathname:s}=Vt(),i=JSON.stringify(jc(n)),o=y.useRef(!1);return Qf(()=>{o.current=!0}),y.useCallback((c,d={})=>{if(st(o.current,Yf),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=Nc(c,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ot([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,s,e])}y.createContext(null);function $s(e,{relative:t}={}){let{matches:r}=y.useContext(Nt),{pathname:n}=Vt(),s=JSON.stringify(jc(r));return y.useMemo(()=>Nc(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function rx(e,t){return Xf(e,t)}function Xf(e,t,r,n,s){var m;te(Pn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(at),{matches:o}=y.useContext(Nt),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let p=h&&h.path||"";Zf(d,!h||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=Vt(),x;if(t){let p=typeof t=="string"?Cn(t):t;te(u==="/"||((m=p.pathname)==null?void 0:m.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),x=p}else x=f;let v=x.pathname||"/",w=v;if(u!=="/"){let p=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let _=Wf(e,{pathname:w});st(h||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),st(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=ox(_&&_.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Ot([u,i.encodeLocation?i.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Ot([u,i.encodeLocation?i.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),o,r,n,s);return t&&g?y.createElement(Ms.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},g):g}function nx(){let e=hx(),t=Jp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,o)}var sx=y.createElement(nx,null),ax=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Nt.Provider,{value:this.props.routeContext},y.createElement(Sc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ix({routeContext:e,match:t,children:r}){let n=y.useContext(Tn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Nt.Provider,{value:e},r)}function ox(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);te(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:x}=r,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=r&&n?(u,h)=>{var f,x;n(u,{location:r.location,params:((x=(f=r.matches)==null?void 0:f[0])==null?void 0:x.params)??{},unstable_pattern:Yp(r.matches),errorInfo:h})}:void 0;return i.reduceRight((u,h,f)=>{let x,v=!1,w=null,_=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||sx,l&&(c<0&&f===0?(Zf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):c===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),m=()=>{let p;return x?p=w:v?p=_:h.route.Component?p=y.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,y.createElement(ix,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(ax,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:d}):m()},null)}function Cc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(e){let t=y.useContext(Tn);return te(t,Cc(e)),t}function cx(e){let t=y.useContext(Si);return te(t,Cc(e)),t}function dx(e){let t=y.useContext(Nt);return te(t,Cc(e)),t}function Tc(e){let t=dx(e),r=t.matches[t.matches.length-1];return te(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ux(){return Tc("useRouteId")}function hx(){var n;let e=y.useContext(Sc),t=cx("useRouteError"),r=Tc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function fx(){let{router:e}=lx("useNavigate"),t=Tc("useNavigate"),r=y.useRef(!1);return Qf(()=>{r.current=!0}),y.useCallback(async(s,i={})=>{st(r.current,Yf),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var iu={};function Zf(e,t,r){!t&&!iu[e]&&(iu[e]=!0,st(!1,r))}y.memo(mx);function mx({routes:e,future:t,state:r,unstable_onError:n}){return Xf(e,void 0,r,n,t)}function ou({to:e,replace:t,state:r,relative:n}){te(Pn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=y.useContext(at);st(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(Nt),{pathname:o}=Vt(),l=Ec(),c=Nc(e,jc(i),o,n==="path"),d=JSON.stringify(c);return y.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function lt(e){te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gx({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){te(!Pn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[l,s,i,o]);typeof r=="string"&&(r=Cn(r));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:x="default"}=r,v=y.useMemo(()=>{let w=zt(d,l);return w==null?null:{location:{pathname:w,search:u,hash:h,state:f,key:x},navigationType:n}},[l,d,u,h,f,x,n]);return st(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(at.Provider,{value:c},y.createElement(Ms.Provider,{children:t,value:v}))}function px({children:e,location:t}){return rx(fl(e),t)}function fl(e,t=[]){let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,fl(n.props.children,i));return}te(n.type===lt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),te(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=fl(n.props.children,i)),r.push(o)}),r}var Ea="get",Ca="application/x-www-form-urlencoded";function Ei(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function xx(e){return Ei(e)&&e.tagName.toLowerCase()==="button"}function yx(e){return Ei(e)&&e.tagName.toLowerCase()==="form"}function vx(e){return Ei(e)&&e.tagName.toLowerCase()==="input"}function wx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bx(e,t){return e.button===0&&(!t||t==="_self")&&!wx(e)}var oa=null;function kx(){if(oa===null)try{new FormData(document.createElement("form"),0),oa=!1}catch{oa=!0}return oa}var _x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function co(e){return e!=null&&!_x.has(e)?(st(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ca}"`),null):e}function jx(e,t){let r,n,s,i,o;if(yx(e)){let l=e.getAttribute("action");n=l?zt(l,t):null,r=e.getAttribute("method")||Ea,s=co(e.getAttribute("enctype"))||Ca,i=new FormData(e)}else if(xx(e)||vx(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?zt(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Ea,s=co(e.getAttribute("formenctype"))||co(l.getAttribute("enctype"))||Ca,i=new FormData(l,e),!kx()){let{name:d,type:u,value:h}=e;if(u==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,h)}}else{if(Ei(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ea,n=null,s=Ca,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nx(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&zt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Sx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ex(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Cx(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Sx(i,r);return o.links?o.links():[]}return[]}));return Ax(n.flat(1).filter(Ex).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lu(e,t,r,n,s,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Tx(e,t,{includeHydrateFallback:r}={}){return Px(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Px(e){return[...new Set(e)]}function Ix(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Ax(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Ix(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function em(){let e=y.useContext(Tn);return Pc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Lx(){let e=y.useContext(Si);return Pc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ic=y.createContext(void 0);Ic.displayName="FrameworkContext";function tm(){let e=y.useContext(Ic);return Pc(e,"You must render this element inside a <HydratedRouter> element"),e}function Rx(e,t){let r=y.useContext(Ic),[n,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,f=y.useRef(null);y.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=g=>{g.forEach(m=>{o(m.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[e]),y.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let x=()=>{s(!0)},v=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Hn(l,x),onBlur:Hn(c,v),onMouseEnter:Hn(d,x),onMouseLeave:Hn(u,v),onTouchStart:Hn(h,x)}]:[!1,f,{}]}function Hn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ox({page:e,...t}){let{router:r}=em(),n=y.useMemo(()=>Wf(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement($x,{page:e,matches:n,...t}):null}function Mx(e){let{manifest:t,routeModules:r}=tm(),[n,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return Cx(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function $x({page:e,matches:t,...r}){let n=Vt(),{manifest:s,routeModules:i}=tm(),{basename:o}=em(),{loaderData:l,matches:c}=Lx(),d=y.useMemo(()=>lu(e,t,c,s,n,"data"),[e,t,c,s,n]),u=y.useMemo(()=>lu(e,t,c,s,n,"assets"),[e,t,c,s,n]),h=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(t.forEach(g=>{var p;let m=s.routes[g.route.id];!m||!m.hasLoader||(!d.some(b=>b.route.id===g.route.id)&&g.route.id in l&&((p=i[g.route.id])!=null&&p.shouldRevalidate)||m.hasClientLoader?w=!0:v.add(g.route.id))}),v.size===0)return[];let _=Nx(e,o,"data");return w&&v.size>0&&_.searchParams.set("_routes",t.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,l,n,s,d,t,e,i]),f=y.useMemo(()=>Tx(u,s),[u,s]),x=Mx(u);return y.createElement(y.Fragment,null,h.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),f.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:w})=>y.createElement("link",{key:v,nonce:r.nonce,...w})))}function Ux(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var rm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rm&&(window.__reactRouterVersion="7.10.1")}catch{}function Dx({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=y.useRef();s.current==null&&(s.current=Np({window:n,v5Compat:!0}));let i=s.current,[o,l]=y.useState({action:i.action,location:i.location}),c=y.useCallback(d=>{r===!1?l(d):y.startTransition(()=>l(d))},[r]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(gx,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...f},x){let{basename:v,unstable_useTransitions:w}=y.useContext(at),_=typeof d=="string"&&nm.test(d),g,m=!1;if(typeof d=="string"&&_&&(g=d,rm))try{let C=new URL(window.location.href),A=d.startsWith("//")?new URL(C.protocol+d):new URL(d),F=zt(A.pathname,v);A.origin===C.origin&&F!=null?d=F+A.search+A.hash:m=!0}catch{st(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=ex(d,{relative:s}),[b,j,E]=Rx(n,f),N=Hx(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h,unstable_useTransitions:w});function k(C){t&&t(C),C.defaultPrevented||N(C)}let T=y.createElement("a",{...f,...E,href:g||p,onClick:m||i?t:k,ref:Ux(x,j),target:c,"data-discover":!_&&r==="render"?"true":void 0});return b&&!_?y.createElement(y.Fragment,null,T,y.createElement(Ox,{page:p})):T});sm.displayName="Link";var Fx=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=$s(o,{relative:d.relative}),f=Vt(),x=y.useContext(Si),{navigator:v,basename:w}=y.useContext(at),_=x!=null&&Kx(h)&&l===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,m=f.pathname,p=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(m=m.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase()),p&&w&&(p=zt(p,w)||p);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=m===g||!s&&m.startsWith(g)&&m.charAt(b)==="/",E=p!=null&&(p===g||!s&&p.startsWith(g)&&p.charAt(g.length)==="/"),N={isActive:j,isPending:E,isTransitioning:_},k=j?t:void 0,T;typeof n=="function"?T=n(N):T=[n,j?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(N):i;return y.createElement(sm,{...d,"aria-current":k,className:T,ref:u,style:C,to:o,viewTransition:l},typeof c=="function"?c(N):c)});Fx.displayName="NavLink";var zx=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Ea,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...f},x)=>{let{unstable_useTransitions:v}=y.useContext(at),w=Gx(),_=qx(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",m=typeof l=="string"&&nm.test(l),p=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let j=b.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||o,N=()=>w(j||b.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:s,state:i,relative:d,preventScrollReset:u,viewTransition:h});v&&r!==!1?y.startTransition(()=>N()):N()};return y.createElement("form",{ref:x,method:g,action:_,onSubmit:n?c:p,...f,"data-discover":!m&&e==="render"?"true":void 0})});zx.displayName="Form";function Bx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function am(e){let t=y.useContext(Tn);return te(t,Bx(e)),t}function Hx(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o,unstable_useTransitions:l}={}){let c=Ec(),d=Vt(),u=$s(e,{relative:i});return y.useCallback(h=>{if(bx(h,t)){h.preventDefault();let f=r!==void 0?r:Es(d)===Es(u),x=()=>c(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:o});l?y.startTransition(()=>x()):x()}},[d,c,u,r,n,t,e,s,i,o,l])}var Vx=0,Wx=()=>`__${String(++Vx)}__`;function Gx(){let{router:e}=am("useSubmit"),{basename:t}=y.useContext(at),r=ux(),n=e.fetch,s=e.navigate;return y.useCallback(async(i,o={})=>{let{action:l,method:c,encType:d,formData:u,body:h}=jx(i,t);if(o.navigate===!1){let f=o.fetcherKey||Wx();await n(f,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await s(o.action||l,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,s,t,r])}function qx(e,{relative:t}={}){let{basename:r}=y.useContext(at),n=y.useContext(Nt);te(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...$s(e||".",{relative:t})},o=Vt();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ot([r,i.pathname])),Es(i)}function Kx(e,{relative:t}={}){let r=y.useContext(Jf);te(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=am("useViewTransitionState"),s=$s(e,{relative:t});if(!r.isTransitioning)return!1;let i=zt(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=zt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ei(s.pathname,o)!=null||ei(s.pathname,i)!=null}const Jx="modulepreload",Yx=function(e){return"/"+e},cu={},Us=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Yx(c),c in cu)return;cu[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Jx,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Qx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ac extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Xx extends Ac{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class du extends Ac{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uu extends Ac{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ml;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ml||(ml={}));var Zx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class ey{constructor(t,{headers:r={},customFetch:n,region:s=ml.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Qx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Zx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new Xx(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new du(h);if(!h.ok)throw new uu(h);let x=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield h.json():x==="application/octet-stream"?v=yield h.blob():x==="text/event-stream"?v=h:x==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof uu||s instanceof du?s.context:void 0}}})}}var Oe={},Lc={},Ci={},Ds={},Ti={},Pi={},ty=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bn=ty();const ry=bn.fetch,im=bn.fetch.bind(bn),om=bn.Headers,ny=bn.Request,sy=bn.Response,In=Object.freeze(Object.defineProperty({__proto__:null,Headers:om,Request:ny,Response:sy,default:im,fetch:ry},Symbol.toStringTag,{value:"Module"})),ay=Qm(In);var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});let iy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ii.default=iy;var lm=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});const oy=lm(ay),ly=lm(Ii);let cy=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,f=null,x=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");_&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,x=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(h=[],u=null,x=200,v="OK")}catch{i.status===404&&_===""?(x=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,x=200,v="OK"),u&&this.shouldThrowOnError)throw new ly.default(u)}return{error:u,data:h,count:f,status:x,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Pi.default=cy;var dy=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ti,"__esModule",{value:!0});const uy=dy(Pi);let hy=class extends uy.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ti.default=hy;var fy=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ds,"__esModule",{value:!0});const my=fy(Ti);let gy=class extends my.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ds.default=gy;var py=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ci,"__esModule",{value:!0});const Vn=py(Ds);let xy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Vn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Vn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Vn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Vn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ci.default=xy;var cm=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lc,"__esModule",{value:!0});const yy=cm(Ci),vy=cm(Ds);let wy=class dm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new yy.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new vy.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Lc.default=wy;var An=tt&&tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const um=An(Lc);Oe.PostgrestClient=um.default;const hm=An(Ci);Oe.PostgrestQueryBuilder=hm.default;const fm=An(Ds);Oe.PostgrestFilterBuilder=fm.default;const mm=An(Ti);Oe.PostgrestTransformBuilder=mm.default;const gm=An(Pi);Oe.PostgrestBuilder=gm.default;const pm=An(Ii);Oe.PostgrestError=pm.default;var by=Oe.default={PostgrestClient:um.default,PostgrestQueryBuilder:hm.default,PostgrestFilterBuilder:fm.default,PostgrestTransformBuilder:mm.default,PostgrestBuilder:gm.default,PostgrestError:pm.default};const{PostgrestClient:ky,PostgrestQueryBuilder:Kb,PostgrestFilterBuilder:Jb,PostgrestTransformBuilder:Yb,PostgrestBuilder:Qb,PostgrestError:Xb}=by;class _y{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jy="2.15.5",Ny=`realtime-js/${jy}`,Sy="1.0.0",gl=1e4,Ey=1e3,Cy=100;var os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(os||(os={}));var ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ue||(ue={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var pl;(function(e){e.websocket="websocket"})(pl||(pl={}));var br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(br||(br={}));class Ty{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class xm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const hu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Py(o,e,t,s),i),{})},Py=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?ym(i,o):xl(o)},ym=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ry(t,r)}switch(e){case Y.bool:return Iy(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Ay(t);case Y.json:case Y.jsonb:return Ly(t);case Y.timestamp:return Oy(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return xl(t);default:return xl(t)}},xl=e=>e,Iy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ay=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ly=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ry=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ym(t,l))}return e},Oy=e=>typeof e=="string"?e.replace(" ","T"):e,vm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class uo{constructor(t,r,n={},s=gl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fu||(fu={}));class ls{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ls.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ls.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(_=>_.presence_ref),x=h.map(_=>_.presence_ref),v=u.filter(_=>x.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(l[d]=v),w.length>0&&(c[d]=w)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(x=>x.presence_ref),f=u.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mu||(mu={}));var cs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cs||(cs={}));var Tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class Rc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,ht.join,this.params,this.timeout),this.rejoinTimer=new xm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ls(this),this.broadcastEndpointURL=vm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Tt.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Tt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){t==null||t(Tt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<_;m++){const p=w[m],{filter:{event:b,schema:j,table:E,filter:N}}=p,k=x&&x[m];if(k&&k.event===b&&k.schema===j&&k.table===E&&k.filter===N)g.push(Object.assign(Object.assign({},p),{id:k.id}));else{this.unsubscribe(),this.state=ue.errored,t==null||t(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Tt.SUBSCRIBED);return}}).receive("error",x=>{this.state=ue.errored,t==null||t(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ue.joined&&t===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new uo(this,ht.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Cy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ht;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var v,w,_;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=x.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var v,w,_,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,j=(v=x.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(m=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:_,commit_timestamp:g,type:m,errors:p}=v;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(v))}x.callback(f,n)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Rc.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hu(t.columns,t.old_record)),r}}const ho=()=>{},la={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},My=[1e3,2e3,5e3,1e4],$y=1e4,Uy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dy{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gl,this.transport=null,this.heartbeatIntervalMs=la.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ho,this.ref=0,this.reconnectTimer=null,this.logger=ho,this.conn=null,this.sendBuffer=[],this.serializer=new Ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Us(async()=>{const{default:l}=await Promise.resolve().then(()=>In);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pl.websocket}`,this.httpEndpoint=vm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_y.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sy}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return br.Connecting;case os.open:return br.Open;case os.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Rc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ey,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},la.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Uy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ny};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},la.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:la.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ho,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>My[h-1]||$y,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Oc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Fy extends Oc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yl extends Oc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var zy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const wm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},By=()=>zy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Us(()=>Promise.resolve().then(()=>In),void 0)).Response:Response}),vl=e=>{if(Array.isArray(e))return e.map(r=>vl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vl(n)}),t},Hy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const fo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vy=(e,t,r)=>$r(void 0,void 0,void 0,function*(){const n=yield By();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Fy(fo(s),i,o))}).catch(s=>{t(new yl(fo(s),s))}):t(new yl(fo(e),e))}),Wy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Hy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Fs(e,t,r,n,s,i){return $r(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Wy(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Vy(c,l,n))})})}function ti(e,t,r,n){return $r(this,void 0,void 0,function*(){return Fs(e,"GET",t,r,n)})}function bt(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Fs(e,"POST",t,n,s,r)})}function wl(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Fs(e,"PUT",t,n,s,r)})}function Gy(e,t,r,n){return $r(this,void 0,void 0,function*(){return Fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function bm(e,t,r,n,s){return $r(this,void 0,void 0,function*(){return Fs(e,"DELETE",t,n,s,r)})}var Ce=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const qy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ky{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=wm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?wl:bt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:gu.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield wl(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Oc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ce(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}download(t,r){return Ce(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ti(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(he(l))return{data:null,error:l};throw l}})}info(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}exists(t){return Ce(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Gy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n)&&n instanceof yl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield bm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qy),r),{prefix:t||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ce(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Jy="2.12.1",Yy={"X-Client-Info":`storage-js/${Jy}`};var zr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class Qy{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Yy),r),this.fetch=wm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return zr(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(he(t))return{data:null,error:t};throw t}})}getBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return zr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return zr(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}emptyBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}deleteBucket(t){return zr(this,void 0,void 0,function*(){try{return{data:yield bm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}}class Xy extends Qy{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Ky(this.url,this.headers,t,this.fetch)}}const Zy="2.57.4";let Qn="";typeof Deno<"u"?Qn="deno":typeof document<"u"?Qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qn="react-native":Qn="node";const ev={"X-Client-Info":`supabase-js-${Qn}/${Zy}`},tv={headers:ev},rv={schema:"public"},nv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sv={};var av=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const iv=e=>{let t;return e?t=e:typeof fetch>"u"?t=im:t=fetch,(...r)=>t(...r)},ov=()=>typeof Headers>"u"?om:Headers,lv=(e,t,r)=>{const n=iv(r),s=ov();return(i,o)=>av(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var cv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function dv(e){return e.endsWith("/")?e:e+"/"}function uv(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>cv(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function hv(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const km="2.71.1",Gr=30*1e3,bl=3,mo=bl*Gr,fv="http://localhost:9999",mv="supabase.auth.token",gv={"X-Client-Info":`gotrue-js/${km}`},kl="X-Supabase-Api-Version",_m={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xv=10*60*1e3;class Mc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yv extends Mc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vv(e){return z(e)&&e.name==="AuthApiError"}class jm extends Mc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gr extends Mc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Kt extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wv(e){return z(e)&&e.name==="AuthSessionMissingError"}class ca extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class da extends gr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ua extends gr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bv(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class pu extends gr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _l extends gr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function go(e){return z(e)&&e.name==="AuthRetryableFetchError"}class xu extends gr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jl extends gr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yu=` 	
\r=`.split(""),kv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yu.length;t+=1)e[yu[t].charCodeAt(0)]=-2;for(let t=0;t<ri.length;t+=1)e[ri[t].charCodeAt(0)]=t;return e})();function vu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ri[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ri[n]),t.queuedBits-=6}}function Nm(e,t,r){const n=kv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Nv(o,n,r)};for(let o=0;o<e.length;o+=1)Nm(e.charCodeAt(o),s,i);return t.join("")}function _v(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_v(n,t)}}function Nv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Nm(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ev(e){const t=[];return jv(e,r=>t.push(r)),new Uint8Array(t)}function Cv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>vu(s,r,n)),vu(null,r,n),t.join("")}function Tv(e){return Math.round(Date.now()/1e3)+e}function Pv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",pr={tested:!1,writable:!1},Sm=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pr.tested)return pr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pr.tested=!0,pr.writable=!0}catch{pr.tested=!0,pr.writable=!1}return pr.writable};function Iv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Em=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>In);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Av=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qt=async(e,t)=>{await e.removeItem(t)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ai.promiseConstructor=Promise;function po(e){const t=e.split(".");if(t.length!==3)throw new jl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pv.test(t[n]))throw new jl("JWT not in base64url format");return{header:JSON.parse(wu(t[0])),payload:JSON.parse(wu(t[1])),signature:Sv(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rv(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ov(e){return("0"+e.toString(16)).substr(-2)}function Mv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ov).join("")}async function $v(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Uv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $v(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(e,t,r=!1){const n=Mv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qr(e,`${t}-code-verifier`,s);const i=await Uv(n);return[i,n===i?"plain":"s256"]}const Dv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fv(e){const t=e.headers.get(kl);if(!t||!t.match(Dv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hr(e){if(!Hv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bu(e){return JSON.parse(JSON.stringify(e))}var Vv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wv=[502,503,504];async function ku(e){var t;if(!Av(e))throw new _l(wr(e),0);if(Wv.includes(e.status))throw new _l(wr(e),e.status);let r;try{r=await e.json()}catch(i){throw new jm(wr(i),i)}let n;const s=Fv(e);if(s&&s.getTime()>=_m["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xu(wr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xu(wr(r),e.status,r.weak_password.reasons);throw new yv(wr(r),e.status||500,n)}const Gv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kl]||(i[kl]=_m["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await qv(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qv(e,t,r,n,s,i){const o=Gv(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new _l(wr(c),0)}if(l.ok||await ku(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ku(c)}}function Et(e){var t;let r=null;Qv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Tv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _u(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kv(e){return{data:e,error:null}}function Jv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Vv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Yv(e){return e}function Qv(e){return e.access_token&&e.refresh_token&&e.expires_in}const yo=["global","local","others"];var Xv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Zv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Em(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=yo[0]){if(yo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yo.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Yv});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);d[`${_}Page`]=w}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(z(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Hr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hr(t.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hr(t.userId),Hr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}function ju(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vr={debug:!!(globalThis&&Sm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tw extends Cm{}async function rw(e,t,r){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ew();const nw={url:fv,storageKey:mv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nu(e,t,r){return await r()}const Wr={};class Cs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cs.nextInstanceID,Cs.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Em(s.fetch),this.lock=s.lock||Nu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rw:this.lock=Nu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Sm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ju(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ju(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${km}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Iv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new jm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Et}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await Br(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:v},xform:Et})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new da("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_u})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_u})}else throw new da("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ca}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,d,u,h,f,x;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:m,options:p}=t;let b;if(ct())if(typeof g=="object")b=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let N;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")N=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)N=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((d=p==null?void 0:p.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(u=p==null?void 0:p.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Cv(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Et});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ca}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(z(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await xr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Et});if(await qt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ca}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Et}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ca}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Br(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new da("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Br(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kv})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Kt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new da("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=xo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Zt})})}catch(r){if(z(r))return wv(r)&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Kt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Br(this.storage,this.storageKey));const{data:d,error:u}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zt});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=po(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Kt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ct())throw new ua("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ua(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ua("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ua("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const x=f-u;x*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(vv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Pv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Br(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Rv(async s=>(s>0&&await Lv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&go(i)&&Date.now()+o-n<Gr})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await qr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:xo()}else if(s&&!s.user&&!s.user){const o=await xr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await qt(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,s)):s.user=xo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${mo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),go(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return go(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=bu(s);await qr(this.storage,this.storageKey,i)}else{const s=bu(r);await qr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await qt(this.storage,this.storageKey),await qt(this.storage,this.storageKey+"-code-verifier"),await qt(this.storage,this.storageKey+"-user"),this.userStorage&&await qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gr}ms, refresh threshold is ${bl} ticks`),s<=bl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Br(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=po(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xv>s)return n;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};n=x.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=po(n);r!=null&&r.allowExpired||zv(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:s,signature:o},error:null}}const u=Bv(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ev(`${l}.${c}`)))throw new jl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}Cs.nextInstanceID=0;const sw=Cs;class aw extends sw{constructor(t){super(t)}}var iw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class ow{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=hv(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:rv,realtime:sv,auth:Object.assign(Object.assign({},nv),{storageKey:c}),global:tv},u=uv(n??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=lv(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ky(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Xy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new ey(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Dy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tm=(e,t,r)=>new ow(e,t,r);function lw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cw="https://rtsdqkhosqeptvxpatay.supabase.co",dw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0c2Rxa2hvc3FlcHR2eHBhdGF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MzY2MTYsImV4cCI6MjA4MDQxMjYxNn0.gzdRYISLRlefYP0Yv3yXL95rv5Di2RKDhRaEu9x-n3c",M=Tm(cw,dw);function uw(){const e=navigator.userAgent;if(/Android/i.test(e))return"Android";if(/iPhone|iPad|iPod/i.test(e))return"iOS";if(/Windows NT/i.test(e)){const t=e.match(/Windows NT (\d+\.\d+)/);if(t){const r=parseFloat(t[1]);return r>=10?"Windows 11/10":r>=6.3?"Windows 8.1":r>=6.2?"Windows 8":r>=6.1?"Windows 7":"Windows"}return"Windows"}return/Mac OS X/i.test(e)?"macOS":/Linux/i.test(e)?"Linux":/CrOS/i.test(e)?"Chrome OS":"Unknown OS"}function hw(){const e=navigator.userAgent;if(/iPhone/i.test(e))return"iPhone";if(/iPad/i.test(e))return"iPad";if(/iPod/i.test(e))return"iPod";if(/Android/i.test(e)){const t=e.match(/Android[^;]*;[^)]*\)/);return t?t[0].replace("Android","Android Device").replace(/[;)]/g,""):"Android Device"}return/Chrome/i.test(e)?"Chrome Browser":/Firefox/i.test(e)?"Firefox Browser":/Safari/i.test(e)&&!/Chrome/i.test(e)?"Safari Browser":/Edge/i.test(e)?"Edge Browser":"Desktop Computer"}async function fw(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip||"Unknown IP"}catch(e){return console.warn("Could not fetch IP address:",e),"Unknown IP"}}async function mw(){const e=await fw(),t=hw(),r=uw(),n=navigator.userAgent;return{ip_address:e,device_name:t,device_os:r,user_agent:n}}const Pm=y.createContext(null);function gw({children:e}){const[t,r]=y.useState(null),[n,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(!0),d=()=>{try{Object.keys(localStorage).forEach(j=>{if(j.includes("supabase")||j.includes("auth"))try{const E=localStorage.getItem(j);E&&(E.includes("undefined")||E==="undefined"||E==="null")&&(console.log("Removing corrupted key:",j),localStorage.removeItem(j))}catch{localStorage.removeItem(j)}})}catch(b){console.error("Storage cleanup error:",b)}};y.useEffect(()=>{console.log(" AuthProvider initializing...");let b=!0,j;const E=async()=>{var k;try{console.log(" Cleaning storage..."),d(),console.log(" Getting current session...");const{data:{session:T},error:C}=await M.auth.getSession();if(C)throw console.error("Session error:",C),C;if(console.log(" Session result:",!!T,(k=T==null?void 0:T.user)==null?void 0:k.email),!b)return;T!=null&&T.user?(console.log(" User found, setting up auth state"),o(T),r(T.user),u(T.user.id).catch(A=>console.warn("Profile load failed (non-blocking):",A))):(console.log(" No user found, clearing auth state"),o(null),r(null),s(null))}catch(T){console.error(" Auth init error:",T),b&&(o(null),r(null),s(null))}finally{b&&(console.log(" Setting loading to false"),c(!1))}};j=setTimeout(()=>{b&&l&&(console.warn(" Auth initialization timeout, forcing loading to false"),c(!1))},3e3),E();const{data:{subscription:N}}=M.auth.onAuthStateChange(async(k,T)=>{console.log(" Auth event:",k),b&&(k==="SIGNED_IN"&&(T!=null&&T.user)?(o(T),r(T.user),u(T.user.id).catch(C=>console.warn("Profile load failed during sign in:",C))):k==="SIGNED_OUT"&&(o(null),r(null),s(null)),c(!1))});return()=>{b=!1,j&&clearTimeout(j),N.unsubscribe()}},[]);const u=async b=>{var j,E;console.log(" LOAD PROFILE STARTED for:",b);try{let{data:N,error:k}=await M.from("profiles").select("*").eq("id",b).maybeSingle();if(console.log(" Profile query result:",{profile:!!N,error:k==null?void 0:k.message}),N){console.log(" Profile loaded:",N);const T={...N,is_admin:N.is_admin||!1};s(T)}else{console.log(" Creating new profile");const{data:{user:T}}=await M.auth.getUser(),C={id:b,email:(T==null?void 0:T.email)||"",full_name:((j=T==null?void 0:T.user_metadata)==null?void 0:j.full_name)||((E=T==null?void 0:T.email)==null?void 0:E.split("@")[0])||"User",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log(" Profile data:",C);const{data:A,error:F}=await M.from("profiles").insert(C).select("*").single();if(F)throw console.error(" Profile creation error:",F),console.error("Error details:",F.details,F.hint,F.code),new Error(`Database error saving new user: ${F.message}`);console.log(" Profile created:",A),s(A)}}catch(N){console.error(" Profile loading error:",N),s(null)}},h=async(b,j,E)=>{try{c(!0);const{data:N,error:k}=await M.auth.signUp({email:b.trim().toLowerCase(),password:j,options:{data:{full_name:E.trim()},emailRedirectTo:`${window.location.origin}/auth/callback`}});return k?{success:!1,error:k.message}:N.user?N.user.email_confirmed_at?{success:!0,message:"Account created and verified successfully! You can now sign in."}:{success:!0,message:"Account created! Please check your email and click the confirmation link to activate your account. Check your spam folder if you don't see the email."}:{success:!1,error:"Account creation failed"}}catch(N){return{success:!1,error:N.message}}finally{c(!1)}},f=async(b,j)=>{try{c(!0);const{data:E,error:N}=await M.auth.signInWithPassword({email:b.trim().toLowerCase(),password:j});if(N)return{success:!1,error:N.message};if(E.user){try{const k=await mw();await M.from("profiles").update({ip_address:k.ip_address,device_name:k.device_name,device_os:k.device_os,user_agent:k.user_agent,last_device_update:new Date().toISOString()}).eq("id",E.user.id)}catch(k){console.warn("Failed to update device info:",k)}return{success:!0}}return{success:!1,error:"Sign in failed"}}catch(E){return{success:!1,error:E.message}}finally{c(!1)}},x=async()=>{try{await M.auth.signOut(),r(null),s(null),o(null)}catch(b){console.error("Sign out error:",b)}},v=()=>{},w=async b=>{try{c(!0),console.log(` Starting OAuth with ${b}`);const{data:j,error:E}=await M.auth.signInWithOAuth({provider:b,options:{redirectTo:`${window.location.origin}/auth/callback`}});if(E)throw console.error(` OAuth ${b} error:`,E),E;console.log(` OAuth ${b} initiated`,j)}catch(j){throw console.error(` OAuth ${b} failed:`,j),j}finally{c(!1)}},_=async b=>{try{c(!0);const{error:j}=await M.auth.signInWithOtp({email:b.trim().toLowerCase(),options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return j?{success:!1,error:j.message}:{success:!0,message:"Check your email for the magic link to sign in!"}}catch(j){return{success:!1,error:j.message}}finally{c(!1)}},g=async b=>{try{c(!0);const{error:j}=await M.auth.updateUser({email:b.trim().toLowerCase(),options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return j?{success:!1,error:j.message}:{success:!0,message:"Email change initiated! Please check both your current and new email addresses for confirmation links."}}catch(j){return{success:!1,error:j.message}}finally{c(!1)}},m=async b=>{try{c(!0);const{error:j}=await M.auth.resetPasswordForEmail(b.trim().toLowerCase(),{redirectTo:`${window.location.origin}/auth/callback`});return j?{success:!1,error:j.message}:{success:!0,message:"Password reset link sent! Check your email and click the link to reset your password. The link will expire in 1 hour."}}catch(j){return{success:!1,error:j.message}}finally{c(!1)}},p=async b=>{if(!t)throw new Error("No authenticated user");console.log("Updating profile with:",b);const{error:j}=await M.from("profiles").update(b).eq("id",t.id);if(j)throw console.error("Profile update error:",j),j;s(E=>E?{...E,...b}:null),console.log("Profile updated successfully")};return a.jsx(Pm.Provider,{value:{user:t,profile:n,session:i,loading:l,signUp:h,signIn:f,signInWithOAuth:w,signInWithMagicLink:_,changeEmail:g,resetPassword:m,updateProfile:p,signOut:x,clearError:v},children:e})}function xe(){const e=y.useContext(Pm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Im=y.createContext(void 0);function Am(){const e=y.useContext(Im);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function pw({children:e}){const[t,r]=y.useState(()=>{const i=localStorage.getItem("theme");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});y.useEffect(()=>{const i=window.document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const s={theme:t,toggleTheme:()=>{r(i=>i==="light"?"dark":"light")}};return a.jsx(Im.Provider,{value:s,children:e})}const Lm=y.createContext(void 0),Su={en:{"nav.gallery":"Gallery","nav.images":"Images","nav.videos":"Videos","nav.upload":"Upload","nav.classMembers":"Class Members","nav.settings":"Settings","nav.adminPanel":"Admin Panel","nav.signIn":"SIGN IN","nav.disconnect":"DISCONNECT","home.welcome":"Welcome back, {name}!","home.welcomeGuest":"Photo Gallery","home.yourActivity":"Here's your recent activity","home.explore":"Explore our collection","home.refresh":"Refresh","home.recentMedia":"Recent Media","home.viewAll":"View All","home.noMedia":"No media yet","home.startUploading":"Start by uploading your first image or video","home.checkBack":"Check back soon for new content","home.uploadMedia":"Upload Media","home.images":"Images","home.videos":"Videos","home.storage":"Storage","images.title":"Images","images.subtitle":"Browse your image collection","images.backToGallery":"Back to Gallery","videos.title":"Videos","videos.subtitle":"Browse your video collection","upload.title":"Upload Media","upload.subtitle":"Add photos and videos to your collection","class.title":"Class Members","class.subtitle":"View class member profiles","settings.title":"Settings","settings.subtitle":"Manage your account and preferences","settings.appearance":"Appearance","settings.language":"Language","settings.theme":"Theme","settings.auto":"Auto","settings.light":"Light","settings.dark":"Dark","settings.accentColor":"Accent Color","settings.close":"Close","settings.backToGallery":"Back to Gallery","settings.profile":"Profile","settings.account":"Account","settings.notifications":"Notifications","settings.storage":"Storage","settings.adminPanel":"Admin Panel","settings.profileInfo":"Profile Information","settings.emailAddress":"Email Address","settings.change":"Change","settings.newEmailAddress":"New Email Address","settings.update":"Update","settings.cancel":"Cancel","settings.emailConfirmation":"You'll receive confirmation links at both your old and new email addresses.","settings.fullName":"Full Name","settings.enterFullName":"Enter your full name","settings.bio":"Bio","settings.tellAboutYourself":"Tell us about yourself","settings.saveChanges":"Save Changes","settings.securitySettings":"Security Settings","settings.currentPassword":"Current Password","settings.enterCurrentPassword":"Enter current password","settings.newPassword":"New Password","settings.enterNewPassword":"Enter new password","settings.confirmNewPassword":"Confirm New Password","settings.confirmPassword":"Confirm new password","settings.updatePassword":"Update Password","settings.exportData":"Export Data","settings.notificationPreferences":"Notification Preferences","settings.emailNotifications":"Email Notifications","settings.emailNotificationsDesc":"Receive notifications about your account via email","settings.uploadNotifications":"Upload Notifications","settings.uploadNotificationsDesc":"Get notified when your uploads are complete","settings.storageUsage":"Storage Usage","settings.storageUsed":"Storage Used","settings.storagePercentage":"% of available storage used","slider.featured":"Featured","slider.viewMore":"View More","slider.previous":"Previous","slider.next":"Next","modal.mediaInformation":"Media Information","modal.title":"Title","modal.description":"Description","modal.identification":"Identification","modal.mediaId":"Media ID","modal.databaseId":"Database ID","modal.uploadInformation":"Upload Information","modal.uploadDate":"Upload Date","modal.uploadedBy":"Uploaded by","modal.actions":"Actions","modal.downloadOriginal":"Download Original File","modal.share":"Share","modal.copyMediaId":"Copy Media ID","modal.copyDatabaseId":"Copy Database ID","modal.comments":"Comments","modal.likes":"Likes","modal.addComment":"Add a comment...","modal.post":"Post","modal.like":"Like","modal.unlike":"Unlike","modal.noComments":"No comments yet","modal.beFirst":"Be the first to comment!","upload.dragDrop":"Drag and drop files here, or click to browse","upload.selectFiles":"Select Files","upload.supportedFormats":"Supported formats: JPEG, PNG, GIF, MP4, MOV, AVI","upload.maxSize":"Max file size: 100MB","upload.uploading":"Uploading...","upload.processing":"Processing...","upload.completed":"Upload completed!","upload.failed":"Upload failed","upload.retry":"Retry","upload.remove":"Remove","upload.cancel":"Cancel","upload.uploadMore":"Upload More Files","upload.storageUsage":"Storage Usage","upload.unlimited":"Unlimited","class.student":"Student","class.teacher":"Teacher","class.role":"Role","class.email":"Email","class.joinDate":"Join Date","class.searchMembers":"Search members...","class.noMembers":"No members found","class.memberInfo":"Member Information","share.shareMedia":"Share Media","share.copyLink":"Copy Link","share.socialShare":"Share on Social Media","share.downloadOriginal":"Download Original","share.linkCopied":"Link copied to clipboard!","share.downloadFailed":"Download failed","auth.signIn":"Sign In","auth.signUp":"Sign Up","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signInToUpload":"SIGN IN TO UPLOAD","auth.signInToAccess":"Sign in to access your photo gallery","auth.orContinueWith":"Or continue with email","auth.signInWithMagic":"Sign in with magic link","auth.usePasswordInstead":"Use password instead","auth.joinGallery":"Join A5 Gallery and start sharing your memories","auth.byCreatingAccount":"By creating an account, you agree to our terms of service. You'll need to verify your email address to activate your account.","auth.magicLinkDescription":"We'll send a secure sign-in link to your email. Click the link to access your account without a password.","auth.enterEmailForMagic":"Enter your email to receive a magic link","common.or":"or","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.view":"View","common.noMediaFound":"No media found","common.tryAdjusting":"Try adjusting your search or filters","common.startUploading":"Start by uploading your first image or video","common.pleaseSignIn":"Please sign in","common.needSignIn":"You need to be signed in to view your media collection"},vi:{"nav.gallery":"Th Vin","nav.images":"Hnh nh","nav.videos":"Video","nav.upload":"Ti Ln","nav.classMembers":"Thnh Vin Lp","nav.settings":"Ci t","nav.adminPanel":"Qun Tr","nav.signIn":"NG NHP","nav.disconnect":"NG XUT","home.welcome":"Cho mng tr li, {name}!","home.welcomeGuest":"Th Vin nh","home.yourActivity":"y l hot ng gn y ca bn","home.explore":"Khm ph b su tp ca chng ti","home.refresh":"Lm Mi","home.recentMedia":"Phng Tin Gn y","home.viewAll":"Xem Tt C","home.noMedia":"Cha c phng tin","home.startUploading":"Bt u bng cch ti ln hnh nh hoc video u tin","home.checkBack":"Hy quay li sau  xem ni dung mi","home.uploadMedia":"Ti Ln Phng Tin","home.images":"Hnh nh","home.videos":"Video","home.storage":"Lu Tr","images.title":"Hnh nh","images.subtitle":"Duyt b su tp hnh nh ca bn","images.backToGallery":"V Th Vin","videos.title":"Video","videos.subtitle":"Duyt b su tp video ca bn","upload.title":"Ti Ln Phng Tin","upload.subtitle":"Thm nh v video vo b su tp ca bn","class.title":"Thnh Vin Lp","class.subtitle":"Xem h s thnh vin lp","settings.title":"Ci t","settings.subtitle":"Qun l ti khon v ty chn ca bn","settings.appearance":"Giao Din","settings.language":"Ngn Ng","settings.theme":"Ch ","settings.auto":"T ng","settings.light":"Sng","settings.dark":"Ti","settings.accentColor":"Mu Nhn","settings.close":"ng","settings.backToGallery":"V Th Vin","settings.profile":"H S","settings.account":"Ti Khon","settings.notifications":"Thng Bo","settings.storage":"Lu Tr","settings.adminPanel":"Qun Tr","settings.profileInfo":"Thng Tin H S","settings.emailAddress":"a Ch Email","settings.change":"Thay i","settings.newEmailAddress":"a Ch Email Mi","settings.update":"Cp Nht","settings.cancel":"Hy","settings.emailConfirmation":"Bn s nhn c lin kt xc nhn ti c a ch email c v mi.","settings.fullName":"H V Tn","settings.enterFullName":"Nhp h v tn ca bn","settings.bio":"Tiu S","settings.tellAboutYourself":"Hy k v bn thn bn","settings.saveChanges":"Lu Thay i","settings.securitySettings":"Ci t Bo Mt","settings.currentPassword":"Mt Khu Hin Ti","settings.enterCurrentPassword":"Nhp mt khu hin ti","settings.newPassword":"Mt Khu Mi","settings.enterNewPassword":"Nhp mt khu mi","settings.confirmNewPassword":"Xc Nhn Mt Khu Mi","settings.confirmPassword":"Xc nhn mt khu mi","settings.updatePassword":"Cp Nht Mt Khu","settings.exportData":"Xut D Liu","settings.notificationPreferences":"Ty Chn Thng Bo","settings.emailNotifications":"Thng Bo Email","settings.emailNotificationsDesc":"Nhn thng bo v ti khon ca bn qua email","settings.uploadNotifications":"Thng Bo Ti Ln","settings.uploadNotificationsDesc":"c thng bo khi vic ti ln hon tt","settings.storageUsage":"S Dng Lu Tr","settings.storageUsed":" S Dng","settings.storagePercentage":"% dung lng lu tr  s dng","slider.featured":"Ni Bt","slider.viewMore":"Xem Thm","slider.previous":"Trc","slider.next":"Tip","modal.mediaInformation":"Thng Tin Phng Tin","modal.title":"Tiu ","modal.description":"M T","modal.identification":"nh Danh","modal.mediaId":"ID Phng Tin","modal.databaseId":"ID C S D Liu","modal.uploadInformation":"Thng Tin Ti Ln","modal.uploadDate":"Ngy Ti Ln","modal.uploadedBy":"c ti ln bi","modal.actions":"Hnh ng","modal.downloadOriginal":"Ti Xung File Gc","modal.share":"Chia S","modal.copyMediaId":"Sao Chp ID Phng Tin","modal.copyDatabaseId":"Sao Chp ID C S D Liu","modal.comments":"Bnh Lun","modal.likes":"Lt Thch","modal.addComment":"Thm bnh lun...","modal.post":"ng","modal.like":"Thch","modal.unlike":"B Thch","modal.noComments":"Cha c bnh lun no","modal.beFirst":"Hy l ngi u tin bnh lun!","upload.dragDrop":"Ko v th file vo y, hoc nhp  duyt","upload.selectFiles":"Chn File","upload.supportedFormats":"nh dng h tr: JPEG, PNG, GIF, MP4, MOV, AVI","upload.maxSize":"Kch thc ti a: 100MB","upload.uploading":"ang ti ln...","upload.processing":"ang x l...","upload.completed":"Ti ln hon tt!","upload.failed":"Ti ln tht bi","upload.retry":"Th Li","upload.remove":"Xa","upload.cancel":"Hy","upload.uploadMore":"Ti Ln Thm File","upload.storageUsage":"S Dng Lu Tr","upload.unlimited":"Khng Gii Hn","class.student":"Hc Sinh","class.teacher":"Gio Vin","class.role":"Vai Tr","class.email":"Email","class.joinDate":"Ngy Tham Gia","class.searchMembers":"Tm kim thnh vin...","class.noMembers":"Khng tm thy thnh vin","class.memberInfo":"Thng Tin Thnh Vin","share.shareMedia":"Chia S Phng Tin","share.copyLink":"Sao Chp Lin Kt","share.socialShare":"Chia S Trn Mng X Hi","share.downloadOriginal":"Ti Xung Bn Gc","share.linkCopied":" sao chp lin kt!","share.downloadFailed":"Ti xung tht bi","auth.signIn":"ng Nhp","auth.signUp":"ng K","auth.email":"Email","auth.password":"Mt Khu","auth.confirmPassword":"Xc Nhn Mt Khu","auth.fullName":"H V Tn","auth.forgotPassword":"Qun Mt Khu?","auth.dontHaveAccount":"Cha c ti khon?","auth.alreadyHaveAccount":" c ti khon?","auth.signInToUpload":"NG NHP  TI LN","auth.signInToAccess":"ng nhp  truy cp th vin nh ca bn","auth.orContinueWith":"Hoc tip tc vi email","auth.signInWithMagic":"ng nhp bng lin kt thn k","auth.usePasswordInstead":"S dng mt khu thay th","auth.joinGallery":"Tham gia A5 Gallery v bt u chia s k nim ca bn","auth.byCreatingAccount":"Bng cch to ti khon, bn ng  vi iu khon dch v ca chng ti. Bn s cn xc minh a ch email  kch hot ti khon.","auth.magicLinkDescription":"Chng ti s gi mt lin kt ng nhp an ton n email ca bn. Nhp vo lin kt  truy cp ti khon m khng cn mt khu.","auth.enterEmailForMagic":"Nhp email ca bn  nhn lin kt thn k","common.or":"hoc","common.loading":"ang ti...","common.error":"Li","common.success":"Thnh cng","common.cancel":"Hy","common.save":"Lu","common.delete":"Xa","common.edit":"Chnh sa","common.view":"Xem","common.noMediaFound":"Khng tm thy phng tin","common.tryAdjusting":"Th iu chnh tm kim hoc b lc ca bn","common.startUploading":"Bt u bng cch ti ln hnh nh hoc video u tin","common.pleaseSignIn":"Vui lng ng nhp","common.needSignIn":"Bn cn ng nhp  xem b su tp phng tin ca mnh"}};function xw({children:e}){const[t,r]=y.useState(()=>{const i=localStorage.getItem("language");return i&&["en","vi"].includes(i)?i:"en"}),n=i=>{r(i),localStorage.setItem("language",i)},s=(i,o)=>{let l=Su[t][i]||Su.en[i]||i;return o&&Object.entries(o).forEach(([c,d])=>{l=l.replace(`{${c}}`,d)}),l};return a.jsx(Lm.Provider,{value:{language:t,setLanguage:n,t:s},children:e})}function Ke(){const e=y.useContext(Lm);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>y.createElement("svg",{ref:u,...yw,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${vw(e)}`,l].join(" "),...d},[...t.map(([h,f])=>y.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=O("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=O("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=O("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=O("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=O("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=O("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=O("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=O("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=O("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=O("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=O("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=O("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=O("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=O("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=O("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=O("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=O("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=O("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=O("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=O("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=O("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=O("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=O("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=O("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=O("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jw(){const{theme:e,toggleTheme:t}=Am();return a.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors","aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?a.jsx(Mw,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):a.jsx(Ww,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})}function Yw({onBack:e,token:t}){const{resetPassword:r}=xe(),[n,s]=y.useState(t?"reset":"request"),[i,o]=y.useState(""),[l,c]=y.useState(""),[d,u]=y.useState(""),[h,f]=y.useState(!1),[x,v]=y.useState(!1),[w,_]=y.useState(null),g=async p=>{if(p.preventDefault(),!i||!i.includes("@")){_({type:"error",text:"Please enter a valid email address"});return}v(!0),_(null);try{const b=await r(i);b.success?_({type:"success",text:b.message||"Password reset link sent! Check your email and click the link to reset your password."}):_({type:"error",text:b.error||"Failed to send reset email"})}catch(b){_({type:"error",text:b.message||"Failed to send reset email"})}finally{v(!1)}},m=async p=>{if(p.preventDefault(),!l||l.length<6){_({type:"error",text:"Password must be at least 6 characters long"});return}if(l!==d){_({type:"error",text:"Passwords do not match"});return}v(!0),_(null);try{const{error:b}=await M.auth.updateUser({password:l});b?_({type:"error",text:b.message}):(_({type:"success",text:"Password updated successfully! You can now sign in with your new password."}),setTimeout(()=>e(),2e3))}catch(b){_({type:"error",text:b.message||"Failed to update password"})}finally{v(!1)}};return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-3 h-3 bg-blue-400 rounded-full opacity-60 animate-bounce",style:{top:"12%",left:"8%",animationDelay:"0.3s",animationDuration:"3.2s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-80 animate-pulse",style:{top:"18%",right:"12%",animationDelay:"1.3s"}}),a.jsx("div",{className:"absolute w-4 h-4 bg-indigo-300 rounded-full opacity-40 animate-ping",style:{top:"28%",left:"18%",animationDelay:"2.3s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-cyan-400 rounded-full opacity-70 animate-bounce",style:{top:"32%",right:"22%",animationDelay:"0.8s",animationDuration:"4.2s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-purple-400 rounded-full opacity-50 animate-pulse",style:{top:"42%",left:"10%",animationDelay:"3.3s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-90 animate-ping",style:{top:"48%",right:"8%",animationDelay:"1.8s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-300 rounded-full opacity-60 animate-bounce",style:{bottom:"38%",left:"15%",animationDelay:"2.8s",animationDuration:"5.2s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-emerald-400 rounded-full opacity-40 animate-pulse",style:{bottom:"43%",right:"18%",animationDelay:"4.3s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full opacity-80 animate-ping",style:{bottom:"53%",left:"23%",animationDelay:"1.1s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full opacity-50 animate-bounce",style:{bottom:"28%",right:"28%",animationDelay:"3.8s",animationDuration:"3.8s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-70 animate-pulse",style:{top:"63%",left:"28%",animationDelay:"1.5s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-blue-200 rounded-full opacity-80 animate-ping",style:{top:"73%",right:"33%",animationDelay:"3.1s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-violet-300 rounded-full opacity-45 animate-bounce",style:{top:"83%",left:"33%",animationDelay:"4.5s",animationDuration:"6.2s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-cyan-200 rounded-full opacity-60 animate-pulse",style:{bottom:"18%",left:"38%",animationDelay:"5.3s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-orange-300 rounded-full opacity-50 animate-ping",style:{bottom:"23%",right:"11%",animationDelay:"2.1s"}})]}),a.jsx("div",{className:"w-full max-w-md relative z-10",children:a.jsxs("div",{className:"bg-white dark:bg-black rounded-3xl shadow-2xl p-8 border border-gray-100 dark:border-gray-800 dark:backdrop-blur-sm",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl mb-6 shadow-lg",children:n==="request"?a.jsx(_n,{className:"w-10 h-10 text-white"}):a.jsx(Pw,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:n==="request"?"Reset Password":"Update Password"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:n==="request"?"Enter your email address and we'll send you a reset link":"Enter your new password below"})]}),w&&a.jsxs("div",{className:`mb-6 p-4 rounded-xl text-sm flex items-start gap-3 ${w.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:[w.type==="success"?a.jsx(kn,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}):a.jsx(zs,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:w.text})]}),n==="request"&&a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:i,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your email",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:x||!i,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 rounded-xl transition-all disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg border-2 border-white shadow-white/50 hover:shadow-white/80 hover:shadow-xl",children:x?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Sending Reset Link..."})]}):a.jsx("span",{children:"Send Reset Link"})})]}),n==="reset"&&a.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:h?"text":"password",value:l,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new password",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:h?a.jsx(Uc,{className:"w-5 h-5"}):a.jsx(Bs,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:h?"text":"password",value:d,onChange:p=>u(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:x||!l||!d,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-400 text-white font-medium py-3 rounded-xl transition-all disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:x?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Updating Password..."})]}):a.jsx("span",{children:"Update Password"})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("button",{onClick:e,disabled:x,className:"flex items-center justify-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors disabled:opacity-50 mx-auto",children:[a.jsx(Ln,{className:"w-4 h-4"}),"Back to Sign In"]})}),n==="request"&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:"Don't remember your email? Contact support for assistance. The reset link will be valid for 1 hour."})})]})})]})}function Wn(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState(""),[f,x]=y.useState(!1),[v,w]=y.useState(null),[_,g]=y.useState(null),[m,p]=y.useState(!1),{signUp:b,signIn:j,signInWithOAuth:E,signInWithMagicLink:N}=xe(),{t:k}=Ke();if(s)return a.jsx(Yw,{onBack:()=>i(!1)});const T=()=>o?o.includes("@")?r?null:c?c.length<6?"Password must be at least 6 characters":e&&!u.trim()?"Full name is required":null:"Password is required":"Please enter a valid email":"Email is required",C=async H=>{H.preventDefault();const ce=T();if(ce){w(ce),g(null);return}p(!0),w(null),g(null);try{if(r){const I=await N(o);I.success?g(I.message||"Magic link sent!"):w(I.error||"Failed to send magic link")}else if(e){const I=await b(o,c,u);I.success?g(I.message||"Account created successfully!"):w(I.error||"Sign up failed")}else{const I=await j(o,c);I.success||w(I.error||"Sign in failed")}}catch(I){w(I.message||"An error occurred")}finally{p(!1)}},A=async H=>{p(!0),w(null);try{await E(H)}catch(ce){w(ce.message||`Failed to sign in with ${H}`)}finally{p(!1)}},F="w-full flex items-center justify-center gap-3 px-4 py-3 rounded-xl bg-black hover:bg-neutral-900 transition-all disabled:opacity-50 border-2 border-white text-white shadow-[0_0_12px_rgba(255,255,255,0.55)] hover:shadow-[0_0_22px_rgba(255,255,255,0.9)] focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black",ke="w-full pl-10 pr-4 py-3 rounded-xl bg-black text-white border-2 border-white placeholder-gray-300 shadow-[0_0_12px_rgba(255,255,255,0.35)] focus:shadow-[0_0_22px_rgba(255,255,255,0.8)] focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black",Ee="w-full pl-10 pr-12 py-3 rounded-xl bg-black text-white border-2 border-white placeholder-gray-300 shadow-[0_0_12px_rgba(255,255,255,0.35)] focus:shadow-[0_0_22px_rgba(255,255,255,0.8)] focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black",Le="filter drop-shadow-[0_0_8px_rgba(255,255,255,0.85)]";return a.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-3 h-3 bg-blue-400 rounded-full opacity-60 animate-bounce",style:{top:"10%",left:"5%",animationDelay:"0s",animationDuration:"3s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-80 animate-pulse",style:{top:"15%",right:"10%",animationDelay:"1s"}}),a.jsx("div",{className:"absolute w-4 h-4 bg-indigo-300 rounded-full opacity-40 animate-ping",style:{top:"25%",left:"15%",animationDelay:"2s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-cyan-400 rounded-full opacity-70 animate-bounce",style:{top:"30%",right:"20%",animationDelay:"0.5s",animationDuration:"4s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-purple-400 rounded-full opacity-50 animate-pulse",style:{top:"40%",left:"8%",animationDelay:"3s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-90 animate-ping",style:{top:"45%",right:"5%",animationDelay:"1.5s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-300 rounded-full opacity-60 animate-bounce",style:{bottom:"35%",left:"12%",animationDelay:"2.5s",animationDuration:"5s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-emerald-400 rounded-full opacity-40 animate-pulse",style:{bottom:"40%",right:"15%",animationDelay:"4s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-yellow-300 rounded-full opacity-80 animate-ping",style:{bottom:"50%",left:"20%",animationDelay:"0.8s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full opacity-50 animate-bounce",style:{bottom:"25%",right:"25%",animationDelay:"3.5s",animationDuration:"3.5s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-70 animate-pulse",style:{top:"60%",left:"25%",animationDelay:"1.2s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-blue-200 rounded-full opacity-80 animate-ping",style:{top:"70%",right:"30%",animationDelay:"2.8s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-violet-300 rounded-full opacity-45 animate-bounce",style:{top:"80%",left:"30%",animationDelay:"4.2s",animationDuration:"6s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-cyan-200 rounded-full opacity-60 animate-pulse",style:{bottom:"15%",left:"35%",animationDelay:"5s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-orange-300 rounded-full opacity-50 animate-ping",style:{bottom:"20%",right:"8%",animationDelay:"1.8s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-90 animate-bounce",style:{top:"35%",left:"45%",animationDelay:"3.2s",animationDuration:"4.5s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-teal-400 rounded-full opacity-35 animate-pulse",style:{top:"55%",right:"40%",animationDelay:"6s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-rose-300 rounded-full opacity-55 animate-ping",style:{bottom:"60%",left:"50%",animationDelay:"2.2s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-lime-300 rounded-full opacity-75 animate-bounce",style:{bottom:"45%",right:"45%",animationDelay:"4.8s",animationDuration:"3.8s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-amber-400 rounded-full opacity-40 animate-pulse",style:{top:"85%",left:"60%",animationDelay:"7s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-80 animate-ping",style:{top:"5%",left:"90%",animationDelay:"1.5s"}}),a.jsx("div",{className:"absolute w-2 h-2 bg-sky-300 rounded-full opacity-50 animate-bounce",style:{top:"90%",left:"5%",animationDelay:"5.5s",animationDuration:"4s"}}),a.jsx("div",{className:"absolute w-1 h-1 bg-fuchsia-300 rounded-full opacity-70 animate-pulse",style:{top:"5%",right:"5%",animationDelay:"8s"}}),a.jsx("div",{className:"absolute w-3 h-3 bg-emerald-200 rounded-full opacity-30 animate-ping",style:{bottom:"5%",right:"90%",animationDelay:"3.8s"}})]}),a.jsxs("div",{className:"w-full max-w-md relative z-10",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(Jw,{})}),a.jsxs("div",{className:"bg-white dark:bg-black rounded-3xl shadow-2xl p-8 border border-gray-100 dark:border-gray-800 dark:backdrop-blur-sm",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl mb-6 shadow-lg",children:e?a.jsx(qw,{className:"w-10 h-10 text-white"}):a.jsx($m,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-3",children:k(r?"auth.signInWithMagic":e?"auth.signUp":"auth.signIn")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:k(r?"auth.enterEmailForMagic":e?"auth.joinGallery":"auth.signInToAccess")})]}),_&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded-xl text-sm flex items-start gap-3 mb-6",children:[a.jsx(kn,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:_})]}),v&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-xl text-sm flex items-start gap-3 mb-6",children:[a.jsx(zs,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:v})]}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>A("google"),disabled:m,className:`${F} ${Le}`,children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{className:`font-medium text-white ${Le}`,children:"Continue with Google"})]}),a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:"Super Recommended"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>A("github"),disabled:m,className:`${F} ${Le}`,children:[a.jsx(Ew,{className:`w-5 h-5 text-white ${Le}`}),a.jsx("span",{className:`font-medium text-white ${Le}`,children:"Continue with GitHub"})]}),a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:"Super Recommended"})]})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-600"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-3 bg-black text-gray-400",children:"Or continue with email"})})]}),a.jsxs("form",{onSubmit:C,className:"space-y-5",children:[e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:k("auth.fullName")}),a.jsxs("div",{className:"relative",children:[a.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:u,onChange:H=>h(H.target.value),className:ke,placeholder:"Enter your full name",required:e})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:k("auth.email")}),a.jsxs("div",{className:"relative",children:[a.jsx(_n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:o,onChange:H=>l(H.target.value),className:ke,placeholder:"Enter your email",required:!0})]})]}),!r&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:k("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(Sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:f?"text":"password",value:c,onChange:H=>d(H.target.value),className:Ee,placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:f?a.jsx(Uc,{className:"w-5 h-5"}):a.jsx(Bs,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full bg-black hover:bg-neutral-900 text-white font-medium py-3 rounded-xl transition-all disabled:cursor-not-allowed flex items-center justify-center gap-2 border-2 border-white shadow-[0_0_12px_rgba(255,255,255,0.55)] hover:shadow-[0_0_22px_rgba(255,255,255,0.9)] focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black",children:m?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:r?"Sending Magic Link...":e?"Creating Account...":"Signing In..."})]}):a.jsx("span",{children:k(r?"auth.signInWithMagic":e?"auth.signUp":"auth.signIn")})})]}),!r&&!e&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{onClick:()=>i(!0),disabled:m,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors disabled:opacity-50 text-sm",children:k("auth.forgotPassword")})}),a.jsxs("div",{className:"mt-8 text-center space-y-4",children:[!r&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:k(e?"auth.alreadyHaveAccount":"auth.dontHaveAccount")}),a.jsx("button",{onClick:()=>{t(!e),w(null),g(null),l(""),d(""),h("")},disabled:m,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors disabled:opacity-50",children:k(e?"auth.signIn":"auth.signUp")})]}),a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsx("div",{className:"h-px bg-gray-300 dark:bg-gray-600 flex-1"}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:k("common.or")}),a.jsx("div",{className:"h-px bg-gray-300 dark:bg-gray-600 flex-1"})]}),a.jsxs("button",{onClick:()=>{n(!r),t(!1),w(null),g(null),d(""),h("")},disabled:m,className:"flex items-center justify-center gap-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors disabled:opacity-50",children:[a.jsx(_n,{className:"w-4 h-4"}),k(r?"auth.usePasswordInstead":"auth.signInWithMagic")]})]}),e&&!r&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:k("auth.byCreatingAccount")})}),r&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:k("auth.magicLinkDescription")})})]})]})]})}function oi({message:e="Loading...",size:t="md",fullScreen:r=!1}){const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},s={sm:"text-sm",md:"text-base",lg:"text-lg"},i=r?"min-h-screen bg-black flex items-center justify-center":"flex items-center justify-center py-8";return a.jsx("div",{className:i,children:a.jsxs("div",{className:"text-center",children:[a.jsx(et,{className:`${n[t]} text-white animate-spin mx-auto mb-2 drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]`}),a.jsx("p",{className:`text-white ${s[t]} drop-shadow-[0_0_8px_rgba(255,255,255,0.85)]`,children:e})]})})}function Qw({onComplete:e}){xe();const[t,r]=y.useState("processing"),[n,s]=y.useState("Processing authentication...");return y.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(window.location.search),l=new URLSearchParams(window.location.hash.substring(1)),c=o.get("token_hash")||l.get("token_hash"),d=o.get("type")||l.get("type"),u=o.get("access_token")||l.get("access_token"),h=o.get("refresh_token")||l.get("refresh_token"),f=o.get("error_description")||l.get("error_description"),x=o.get("error")||l.get("error");console.log(" Auth callback check:"),console.log("Full URL:",window.location.href),console.log("Search params:",window.location.search),console.log("Hash params:",window.location.hash),console.log("Parsed params:",{token_hash:c,type:d,access_token:!!u,refresh_token:!!h,error:x,error_description:f}),console.log(" All URL search parameters:");for(const[v,w]of o)console.log(`  ${v}: ${w}`);console.log(" All hash parameters:");for(const[v,w]of l)console.log(`  ${v}: ${w}`);if(x){console.error(" OAuth error:",x,f),r("error"),s(f||x||"Authentication failed");return}if(c&&d){console.log("Processing token hash for type:",d);const{data:v,error:w}=await M.auth.verifyOtp({token_hash:c,type:d});if(w){console.error("Token verification error:",w),r("error"),s(w.message||"Authentication failed");return}if(v.user)switch(console.log("Token verification successful"),d){case"signup":r("success"),s("Email verified successfully! Your account is now active and you can sign in.");break;case"magiclink":r("success"),s("Successfully signed in with magic link!");break;case"email_change":r("success"),s("Email address updated successfully! You can now use your new email to sign in.");break;case"recovery":case"password_recovery":r("success"),s("You can now update your password. You will be redirected to set a new password.");break;default:r("success"),s("Authentication successful!")}}else if(u&&h){console.log(" Processing OAuth callback with tokens");const{data:v,error:w}=await M.auth.setSession({access_token:u,refresh_token:h});if(w){console.error(" OAuth session error:",w),r("error"),s(w.message||"Failed to establish session");return}v.user?(console.log(" OAuth authentication successful:",v.user.email),r("success"),s("Successfully signed in!")):(console.log(" No user data in OAuth response"),r("error"),s("Authentication completed but no user data received"))}else if(window.location.hash||window.location.search){console.log(" Auth callback triggered but no recognized parameters found"),console.log("This might indicate a configuration issue with the OAuth provider"),r("error"),s("Authentication callback received but no valid parameters found. Please check OAuth configuration.");return}else{console.log("No auth parameters found, redirecting..."),setTimeout(e,1e3);return}window.history.replaceState({},document.title,window.location.pathname),setTimeout(e,3e3)}catch(o){console.error("Auth callback error:",o),r("error"),s(o.message||"Authentication failed"),setTimeout(e,3e3)}})()},[e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8 border border-gray-100 dark:border-gray-700 text-center",children:[t==="processing"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-2xl mb-6",children:a.jsx(oi,{size:"lg"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Processing..."}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:n})]}),t==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-2xl mb-6",children:a.jsx(kn,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Success!"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting you to the gallery..."})]}),t==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 dark:bg-red-900/30 rounded-2xl mb-6",children:a.jsx(zs,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Authentication Failed"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n}),a.jsx("button",{onClick:e,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Return to Sign In"})]})]})})})}function Xw(){return null}const ha=["6A5 Gallery 2021-2022","7A5 Gallery 2022-2023","8A5 Gallery 2023-2024","9A5 Gallery 2024-2025"],Zw=()=>{const[e,t]=y.useState(0),[r,n]=y.useState(""),[s,i]=y.useState(!0),[o,l]=y.useState(0),c=d=>{const u=d.match(/^(\d+A5)\s+(Gallery)\s+(\d{4}-\d{4})$/);if(u){const[,h,f,x]=u,v=r.length;let w="",_="",g="";if(v>0)if(v<=h.length)w=h.substring(0,v);else{w=h;const m=h.length+1;if(v>m)if(v<=m+f.length)_=f.substring(0,v-m);else{_=f;const p=m+f.length+1;v>p&&(g=x.substring(0,v-p))}}return a.jsxs(a.Fragment,{children:[w&&a.jsx("span",{className:"neon-glow text-blue-400 dark:text-cyan-400",style:{textShadow:`
                      0 0 3px currentColor,
                      0 0 6px currentColor,
                      0 0 10px currentColor,
                      0 0 15px currentColor
                    `},children:w}),_&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:" "}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:_})]}),g&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:" "}),a.jsx("span",{className:"neon-glow text-purple-400 dark:text-pink-400",style:{textShadow:`
                        0 0 3px currentColor,
                        0 0 6px currentColor,
                        0 0 10px currentColor,
                        0 0 15px currentColor
                      `},children:g})]})]})}return a.jsx("span",{className:"text-gray-900 dark:text-white",children:r})};return y.useEffect(()=>{const d=ha[e];if(s)if(o<d.length){const u=setTimeout(()=>{n(d.slice(0,o+1)),l(o+1)},100);return()=>clearTimeout(u)}else{const u=setTimeout(()=>{i(!1)},2e3);return()=>clearTimeout(u)}else if(o>0){const u=setTimeout(()=>{n(d.slice(0,o-1)),l(o-1)},50);return()=>clearTimeout(u)}else t(u=>(u+1)%ha.length),i(!0)},[o,s,e]),a.jsxs("div",{className:"text-center py-12 mb-12",children:[a.jsxs("div",{className:"relative",children:[a.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-wide min-h-[120px] flex items-center justify-center",children:a.jsxs("span",{children:[c(ha[e]),a.jsx("span",{className:"animate-pulse text-white ml-1 drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]",children:"_"})]})}),a.jsx("div",{className:"absolute inset-0 -z-10",children:a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full h-24 bg-gradient-to-r from-blue-500/5 via-gray-200/10 to-blue-500/5 dark:from-blue-500/10 dark:via-white/20 dark:to-blue-500/10 blur-3xl"})})]}),a.jsx("div",{className:"flex justify-center mt-6 space-x-3",children:ha.map((d,u)=>a.jsx("div",{className:`h-2 w-8 rounded-full transition-all duration-500 bg-black ${u===e?"border-2 border-white shadow-[0_0_12px_rgba(255,255,255,0.9)] scale-110":"border border-white/40 hover:border-white/70"}`},u))})]})},eb=["image/jpeg","image/png","image/gif","image/webp"],tb=["video/mp4","video/webm","video/quicktime"],rb=30*1024*1024,Um=1024*1024*1024,nb=Um;function Ps(e){return eb.includes(e)}function gt(e){return tb.includes(e)}function Dm(e){return Ps(e)||gt(e)}function sb(e){return Ps(e)?rb:gt(e)?Um:nb}function Me(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,n)*100)/100+" "+r[n]}async function ab(e,t=1920,r=1080,n=.8){return new Promise((s,i)=>{const o=new Image,l=document.createElement("canvas"),c=l.getContext("2d");if(!c){i(new Error("Could not get canvas context"));return}o.onload=()=>{let{width:d,height:u}=o;if(d>t||u>r){const h=d/u;d>u?(d=t,u=d/h):(u=r,d=u*h)}l.width=d,l.height=u,c.drawImage(o,0,0,d,u),l.toBlob(h=>{h?s(h):i(new Error("Failed to compress image"))},"image/jpeg",n)},o.onerror=()=>i(new Error("Failed to load image")),o.src=URL.createObjectURL(e)})}async function ib(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{t({width:n.width,height:n.height}),URL.revokeObjectURL(n.src)},n.onerror=()=>r(new Error("Failed to load image")),n.src=URL.createObjectURL(e)})}async function ob(e){return new Promise((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{t({width:n.videoWidth,height:n.videoHeight,duration:n.duration}),URL.revokeObjectURL(n.src)},n.onerror=()=>r(new Error("Failed to load video")),n.src=URL.createObjectURL(e)})}async function El(e){return new Promise((t,r)=>{const n=document.createElement("video"),s=document.createElement("canvas"),i=s.getContext("2d");if(!i){r(new Error("Could not get canvas context"));return}n.preload="metadata",n.muted=!0,n.playsInline=!0,n.onloadedmetadata=()=>{n.currentTime=1},n.onseeked=()=>{s.width=n.videoWidth,s.height=n.videoHeight,i.drawImage(n,0,0,s.width,s.height),s.toBlob(o=>{o?t(o):r(new Error("Failed to generate thumbnail")),URL.revokeObjectURL(n.src)},"image/jpeg",.7)},n.onerror=()=>r(new Error("Failed to load video")),n.src=URL.createObjectURL(e)})}const lb={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STORAGE_BUCKET:"media",VITE_STORAGE_BUCKET_1:"media",VITE_STORAGE_BUCKET_2:"media",VITE_STORAGE_BUCKET_3:"media",VITE_STORAGE_BUCKET_4:"media",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0c2Rxa2hvc3FlcHR2eHBhdGF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MzY2MTYsImV4cCI6MjA4MDQxMjYxNn0.gzdRYISLRlefYP0Yv3yXL95rv5Di2RKDhRaEu9x-n3c",VITE_SUPABASE_ANON_KEY_1:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0c2Rxa2hvc3FlcHR2eHBhdGF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MzY2MTYsImV4cCI6MjA4MDQxMjYxNn0.gzdRYISLRlefYP0Yv3yXL95rv5Di2RKDhRaEu9x-n3c",VITE_SUPABASE_ANON_KEY_2:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhibGF6ZGpyanllYXFmZW5scHRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxOTQ2ODUsImV4cCI6MjA4MDc3MDY4NX0.YPexVDaMrpgx8A-QGx9KLrNEaKPpWgHIx2xgPQpq26o",VITE_SUPABASE_ANON_KEY_3:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh4aWJlb3p2bW1zaWpmY21zcWN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxOTU1NTYsImV4cCI6MjA4MDc3MTU1Nn0.uzCxuwEMqOGy-CU0VL7VeEeddz0_DeJZh3bnN_1bGN0",VITE_SUPABASE_ANON_KEY_4:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRzbWN5YXlxbGtxeGpnbWpmaXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxOTU2MjksImV4cCI6MjA4MDc3MTYyOX0.ehojFYgIyAr35jLovgg47--GApIH8rE6YGGfLrw_u7E",VITE_SUPABASE_URL:"https://rtsdqkhosqeptvxpatay.supabase.co",VITE_SUPABASE_URL_1:"https://rtsdqkhosqeptvxpatay.supabase.co",VITE_SUPABASE_URL_2:"https://hblazdjrjyeaqfenlptk.supabase.co",VITE_SUPABASE_URL_3:"https://hxibeozvmmsijfcmsqct.supabase.co",VITE_SUPABASE_URL_4:"https://dsmcyayqlkqxjgmjfiww.supabase.co"},fa={};function Bc(e){return lb[e]}function Rr(e){const t=`VITE_STORAGE_BUCKET_${e.slice(-1)}`;return Bc(t)||"media"}function Fm(e){const t=`VITE_SUPABASE_URL_${e.slice(-1)}`;return Bc(t)}function zm(e){const t=`VITE_SUPABASE_ANON_KEY_${e.slice(-1)}`;return Bc(t)}function cb(e){return!!(Fm(e)&&zm(e))}function jn(e){if(fa[e])return fa[e];const t=Fm(e),r=zm(e);if(!t||!r){if(e!=="storage1")return jn("storage1");throw new Error(`Missing environment for ${e}: ${t?"":"URL"} ${r?"":"ANON_KEY"}`)}return fa[e]=Tm(t,r),fa[e]}function db(){const e=["storage2","storage3","storage4"].filter(r=>cb(r));if(e.length===0)return"storage1";const t=Math.floor(Date.now()/1e3)%e.length;return e[t]}function ub(e,t){try{const r=Rr(e),n=jn(e),{data:s}=n.storage.from(r).getPublicUrl(t);return s.publicUrl}catch{const n=Rr("storage1"),s=jn("storage1"),{data:i}=s.storage.from(n).getPublicUrl(t);return i.publicUrl}}async function Cl(e,t,r,n){const s=Rr(e),i=jn(e),{error:o}=await i.storage.from(s).upload(t,r,{upsert:!1,...n});if(o)throw o}async function hb(e,t){const r=Rr(e),n=jn(e),{data:s,error:i}=await n.storage.from(r).download(t);if(i)throw i;return s}async function li(e,t){const r=Rr(e),n=jn(e),{error:s}=await n.storage.from(r).remove(t);if(s)throw s}function fb(){const e=Date.now().toString(),t=Math.random().toString().slice(2,8);return e+t}async function Bm(e,t,r,n,s){try{const i=fb();console.log("Upload: Generated unique media ID:",i);let o=e,l=null,c=null,d=null,u=null;if(Ps(e.type)){s==null||s({progress:20,stage:"compressing"});const m=await ib(e);l=m.width,c=m.height,e.size>2*1024*1024&&(o=await ab(e))}else if(gt(e.type)){s==null||s({progress:20,stage:"compressing"});const m=await ob(e);l=m.width,c=m.height,d=m.duration;const p=await El(e);u=`thumbnails/${n}/${i}_thumb.jpg`}s==null||s({progress:50,stage:"uploading"});let h=db(),f=Rr(h);const x=e.name.split(".").pop(),v=`${n}/${i}.${x}`,w=async m=>{u&&await Cl(m,u,await(async()=>await El(e))(),{contentType:"image/jpeg",upsert:!1}),await Cl(m,v,o,{contentType:e.type,upsert:!1})};try{await w(h)}catch(m){console.warn("Primary storage upload failed, attempting fallback to storage1:",(m==null?void 0:m.message)||m),h="storage1",f=Rr(h),await w(h)}s==null||s({progress:80,stage:"saving"});const{data:_,error:g}=await M.from("media").insert({user_id:n,media_id:i,filename:e.name,file_path:v,title:t,description:r||null,file_type:e.type,file_size:e.size,width:l,height:c,duration:d,thumbnail_path:u,storage_provider:h}).select().single();if(g)throw await li(h,[v]),u&&await li(h,[u]),new Error(`Database error: ${g.message}`);return s==null||s({progress:100,stage:"complete"}),{success:!0,mediaId:_.id}}catch(i){return console.error("Upload error:",i),{success:!1,error:i instanceof Error?i.message:"Upload failed"}}}function we(e,t="storage1"){return ub(t,e)}async function Tl(e,t,r,n){try{const{error:s}=await M.from("media").delete().eq("id",e);if(s)throw s;const i=n??"storage2";return await li(i,[t]),r&&await li(i,[r]),!0}catch(s){return console.error("Delete error:",s),!1}}function mb({className:e=""}){const{t}=Ke(),[r,n]=y.useState([]),[s,i]=y.useState(0),[o,l]=y.useState(!0),[c,d]=y.useState(!0);y.useEffect(()=>{u()},[]),y.useEffect(()=>{if(!o||r.length===0)return;const g=setInterval(()=>{i(m=>(m+1)%r.length)},4e3);return()=>clearInterval(g)},[o,r.length]);const u=async()=>{try{console.log("ImageSlider: Loading featured images by media_id...");const{data:g,error:m}=await M.from("slider_featured").select("media_id, display_order").order("display_order",{ascending:!0});if(!m&&g&&g.length>0){console.log("ImageSlider: Found featured media_ids:",g.map(E=>E.media_id));const p=g.map(E=>E.media_id),{data:b,error:j}=await M.from("media").select("*").in("media_id",p).like("file_type","image%");if(!j&&b){const E=g.map(N=>b.find(k=>k.media_id===N.media_id)).filter(N=>N!==void 0);console.log("ImageSlider: Using admin-curated images:",E.length),n(E)}else throw console.log("ImageSlider: Error loading featured media:",j),new Error("Featured media not found")}else{console.log("No featured images found, using latest images as fallback");const{data:p,error:b}=await M.from("media").select("*").like("file_type","image%").order("upload_date",{ascending:!1}).limit(6);if(b)throw b;p&&p.length>0&&n(p)}}catch(g){console.error("Error loading slider images:",g),n([])}finally{d(!1)}},h=()=>{i(g=>(g-1+r.length)%r.length)},f=()=>{i(g=>(g+1)%r.length)},x=g=>{i(g)},v=()=>{l(!o)};if(c)return a.jsx("div",{className:`bg-black border-2 border-white rounded-xl p-6 shadow-[0_0_12px_rgba(255,255,255,0.35)] ${e}`,children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"bg-black h-64 rounded-lg border border-white/30"})})});if(r.length===0)return a.jsx("div",{className:`bg-black border-2 border-white rounded-xl p-6 shadow-[0_0_12px_rgba(255,255,255,0.35)] ${e}`,children:a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.85)]",children:"No images available for slideshow"})})});const w=r[s],_=we(w.file_path,w.storage_provider);return a.jsxs("div",{className:`bg-black border-2 border-white rounded-xl overflow-hidden w-full shadow-[0_0_12px_rgba(255,255,255,0.35)] ${e}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-white/30 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.85)]",children:t("slider.featured")}),a.jsx("button",{onClick:v,className:"flex items-center gap-2 px-3 py-1 text-sm text-white transition-all border-2 border-white rounded-full bg-black/40 hover:bg-black/60 shadow-[0_0_10px_rgba(255,255,255,0.35)] hover:shadow-[0_0_16px_rgba(255,255,255,0.8)]",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Uw,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Pause"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ai,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Play"})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative h-96 sm:h-[500px] md:h-[600px] lg:h-[700px] overflow-hidden",children:[a.jsx("img",{src:_,alt:w.title,className:"w-full h-full object-contain bg-black transition-all duration-500"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[a.jsx("h4",{className:"text-white font-semibold text-lg mb-1",children:w.title}),w.description&&a.jsx("p",{className:"text-white/80 text-sm line-clamp-2",children:w.description})]})]}),r.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:h,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all backdrop-blur-sm border-2 border-white shadow-[0_0_12px_rgba(255,255,255,0.55)] hover:shadow-[0_0_18px_rgba(255,255,255,0.9)]",children:a.jsx(Rm,{className:"w-5 h-5"})}),a.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all backdrop-blur-sm border-2 border-white shadow-[0_0_12px_rgba(255,255,255,0.55)] hover:shadow-[0_0_18px_rgba(255,255,255,0.9)]",children:a.jsx(ni,{className:"w-5 h-5"})})]}),r.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:r.map((g,m)=>a.jsx("button",{onClick:()=>x(m),className:`w-3 h-3 rounded-full transition-all border ${m===s?"bg-white border-white shadow-[0_0_10px_rgba(255,255,255,0.9)] scale-110":"bg-black border-white/60 hover:border-white shadow-[0_0_6px_rgba(255,255,255,0.5)]"}`},m))}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:[s+1," / ",r.length]})]}),r.length>1&&a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"flex space-x-2 overflow-x-auto scrollbar-hide",children:r.map((g,m)=>a.jsx("button",{onClick:()=>x(m),className:`flex-shrink-0 w-16 h-12 rounded-lg overflow-hidden border-2 transition-all ${m===s?"border-white shadow-[0_0_8px_rgba(255,255,255,0.85)]":"border-white/30 hover:border-white/60"}`,children:a.jsx("img",{src:we(g.file_path,g.storage_provider),alt:g.title,className:"w-full h-full object-cover"})},g.id))})})]})}const gb=1e4;function pb({onMediaSelect:e,onNavigate:t}){const{user:r,profile:n}=xe(),{t:s}=Ke(),[i,o]=y.useState({recentMedia:[],totalImages:0,totalVideos:0,totalStorage:0}),[l,c]=y.useState(!1),[d,u]=y.useState(null),[h,f]=y.useState(!1),x=y.useCallback(async(_=!0)=>{const g=Date.now();console.log(" Dashboard: Starting data load...");try{_&&c(!0),u(null);const m=setTimeout(()=>{console.warn(" Dashboard: Load timeout reached"),c(!1),u("Loading timed out. Please try refreshing.")},gb);let p=M.from("media").select(`
          *,
          profiles!media_user_id_fkey(full_name, email)
        `).order("created_at",{ascending:!1});r!=null&&r.id?p=p.limit(20):p=p.limit(12),console.log(" Dashboard: Executing media query...");const{data:b,error:j}=await p;if(clearTimeout(m),j)throw new Error(`Media query failed: ${j.message}`);console.log(` Dashboard: Query completed in ${Date.now()-g}ms`),console.log(` Dashboard: Found ${(b==null?void 0:b.length)||0} media items`);const E=await Promise.all((b||[]).map(async C=>{try{const A=we(C.file_path,C.storage_provider);let F=null;return C.thumbnail_path&&(F=C.thumbnail_path?we(C.thumbnail_path,C.storage_provider):void 0),{...C,url:A,thumbnailUrl:F}}catch(A){return console.warn(`Failed to get URL for ${C.filename}:`,A),C}})),N=E.filter(C=>C.file_type.startsWith("image/")).length,k=E.filter(C=>C.file_type.startsWith("video/")).length,T=E.reduce((C,A)=>C+(A.file_size||0),0);o({recentMedia:E,totalImages:N,totalVideos:k,totalStorage:T}),console.log(` Dashboard: Data loaded successfully - ${N} images, ${k} videos`)}catch(m){const p=m instanceof Error?m.message:"Failed to load dashboard data";console.error(" Dashboard: Load error:",p),u(p)}finally{c(!1),f(!0)}},[r==null?void 0:r.id]);y.useEffect(()=>{h||(console.log(" Dashboard: Initializing..."),x(!0))},[x,h]);const v=()=>{x(!0)},w=()=>{u(null),x(!0)};return l&&!h?a.jsx(oi,{message:"Loading Dashboard...",size:"lg",fullScreen:!0}):d&&!l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[a.jsx(zs,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Oops! Something went wrong"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:d}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:w,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),a.jsx("button",{onClick:()=>t("images"),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 text-gray-300 rounded-lg hover:bg-gray-800 hover:border-gray-600 transition-colors",children:"Browse Gallery"})]})]})}):a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[a.jsx(Zw,{}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]",children:r?s("home.welcome",{name:(n==null?void 0:n.full_name)||"User"}):s("home.welcomeGuest")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:s(r?"home.yourActivity":"home.explore")})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:v,disabled:l,className:"flex items-center px-4 py-2 bg-black text-white border-2 border-white rounded-lg transition-all disabled:opacity-50 shadow-[0_0_10px_rgba(255,255,255,0.35)] hover:shadow-[0_0_16px_rgba(255,255,255,0.8)]",children:[a.jsx(Ar,{className:`w-5 h-5 mr-2 ${l?"animate-spin":""}`}),s("home.refresh")]}),r&&a.jsxs("button",{onClick:()=>t("upload"),className:"flex items-center px-4 py-2 bg-black text-white border-2 border-white rounded-lg transition-all shadow-[0_0_10px_rgba(255,255,255,0.35)] hover:shadow-[0_0_16px_rgba(255,255,255,0.8)]",children:[a.jsx(Mt,{className:"w-5 h-5 mr-2"}),s("nav.upload")]})]})]}),a.jsx(mb,{className:"mb-8"}),a.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6 dark:backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s("home.recentMedia")}),a.jsxs("button",{onClick:()=>t("images"),className:"flex items-center text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)] hover:opacity-90 font-medium",children:[s("home.viewAll"),a.jsx(ww,{className:"w-4 h-4 ml-1"})]})]}),i.recentMedia.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(mt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s("home.noMedia")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:s(r?"home.startUploading":"home.checkBack")}),r&&a.jsx("button",{onClick:()=>t("upload"),className:"px-4 py-2 bg-black text-white border-2 border-white rounded-lg transition-all shadow-[0_0_10px_rgba(255,255,255,0.35)] hover:shadow-[0_0_16px_rgba(255,255,255,0.8)]",children:s("home.uploadMedia")})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.recentMedia.map(_=>a.jsx("div",{onClick:()=>e(_),className:"aspect-square bg-gray-900 border border-gray-800 rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-transform group hover:border-gray-700",children:_.file_type.startsWith("image/")?a.jsx("img",{src:_.thumbnailUrl||_.url,alt:_.title,className:"w-full h-full object-cover group-hover:brightness-110 transition-all",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800 border border-gray-700",children:a.jsx(Lr,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})})},_.id))})]})]})]})}function Tu({filePath:e,storageProvider:t="storage1",fallbackOrder:r,alt:n,...s}){const i=y.useMemo(()=>{const h=[t,...["storage1","storage2","storage3","storage4"].filter(f=>f!==t)];return r&&r.length>0?Array.from(new Set(r)):Array.from(new Set(h))},[t,r]),[o,l]=y.useState(0),c=y.useMemo(()=>{const u=i[Math.min(o,i.length-1)];return we(e,u)},[e,i,o]),d=y.useCallback(()=>{o<i.length-1&&l(u=>u+1)},[o,i.length]);return a.jsx("img",{...s,src:c,alt:n,onError:d})}function Hm({searchQuery:e,filterType:t,onMediaClick:r,refreshTrigger:n}){const{user:s,profile:i}=xe(),{t:o}=Ke(),[l,c]=y.useState([]),[d,u]=y.useState(!1);y.useState(null);const[h,f]=y.useState({}),[x,v]=y.useState({});y.useEffect(()=>{w()},[s==null?void 0:s.id,e,t,n]),y.useEffect(()=>{l.length>0&&_()},[l,s==null?void 0:s.id]);const w=async()=>{try{u(!0);let g=M.from("media").select(`
          *,
          profiles!media_user_id_fkey (
            full_name,
            email
          )
        `).order("upload_date",{ascending:!1});console.log("Loading all public media for all users"),e&&(/^\d+$/.test(e)?g=g.or(`media_id.ilike.%${e}%,title.ilike.%${e}%,description.ilike.%${e}%`):g=g.or(`title.ilike.%${e}%,description.ilike.%${e}%`)),t==="images"?g=g.in("file_type",["image/jpeg","image/png","image/gif","image/webp"]):t==="videos"&&(g=g.in("file_type",["video/mp4","video/webm","video/quicktime"]));const{data:m,error:p}=await g;if(p)throw console.error("Media loading error:",p),p;console.log("Loaded media:",(m==null?void 0:m.length)||0,"items");const b=(m||[]).filter(j=>gt(j.file_type));console.log("Videos found:",b.length),b.forEach((j,E)=>{console.log(`Video ${E+1}:`,{title:j.title,file_type:j.file_type,thumbnail_path:j.thumbnail_path,hasThumbnail:!!j.thumbnail_path})}),c(m||[])}catch(g){console.error("MediaGrid error:",g),c([])}finally{u(!1)}},_=async()=>{if(l.length)try{const g=l.map(E=>E.id),{data:m}=await M.from("likes").select("media_id, user_id").in("media_id",g),{data:p}=await M.from("comments").select("media_id").in("media_id",g),b={};g.forEach(E=>{const N=(m==null?void 0:m.filter(k=>k.media_id===E))||[];b[E]={count:N.length,isLiked:s?N.some(k=>k.user_id===s.id):!1}});const j={};g.forEach(E=>{const N=(p==null?void 0:p.filter(k=>k.media_id===E))||[];j[E]=N.length}),f(b),v(j)}catch(g){console.error("Error loading likes and comments:",g)}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(et,{className:"w-8 h-8 text-blue-600 animate-spin"})}):l.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:a.jsx(ai,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:o("common.noMediaFound")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o(e?"common.tryAdjusting":"common.startUploading")})]}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 md:gap-6",children:l.map(g=>{var m,p,b;return a.jsxs("div",{onClick:()=>r(g),className:"group relative bg-black rounded-xl overflow-hidden border border-white shadow-[0_0_15px_rgba(255,255,255,0.5)] hover:shadow-[0_0_25px_rgba(255,255,255,0.8)] transition-all duration-300 cursor-pointer",children:[a.jsxs("div",{className:"aspect-square relative overflow-hidden bg-black",children:[gt(g.file_type)&&g.thumbnail_path?a.jsx(Tu,{filePath:g.thumbnail_path,storageProvider:g.storage_provider,alt:g.title,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx(Tu,{filePath:g.file_path,storageProvider:g.storage_provider,alt:g.title,className:"w-full h-full object-cover",loading:"lazy"}),gt(g.file_type)&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:a.jsx("div",{className:"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center",children:a.jsx(ai,{className:"w-8 h-8 text-gray-900 ml-1"})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3",children:a.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(si,{className:"w-4 h-4"}),a.jsx("span",{children:((m=h[g.id])==null?void 0:m.count)||0})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ri,{className:"w-4 h-4"}),a.jsx("span",{children:x[g.id]||0})]})]}),a.jsx("div",{className:"text-xs opacity-75"})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2 truncate",children:g.title}),!1,a.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-300",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($c,{className:"w-4 h-4"}),a.jsxs("span",{children:[new Date(g.upload_date).toLocaleDateString()," ",new Date(g.upload_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:((p=g.profiles)==null?void 0:p.full_name)||((b=g.profiles)==null?void 0:b.email)||"Unknown User"})]})]})]})]},g.id)})})})}function Vm({searchQuery:e,onSearchChange:t}){const r=()=>{t("")};return a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Fc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:"Search by title, description, or image ID...",className:"w-full pl-12 pr-12 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-black text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all shadow-sm"}),e&&a.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:a.jsx(ze,{className:"w-5 h-5"})})]})}const ma={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},xb={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};function ci({profile:e,size:t="md",showName:r=!1,namePosition:n="right",className:s="",onClick:i}){const o=v=>{v.preventDefault(),v.stopPropagation(),console.log("Avatar clicked!",i),i&&i()},c=(()=>{if(!(e!=null&&e.avatar_url)||e.avatar_url.length<=4&&!e.avatar_url.includes("/"))return null;if(e.avatar_url.startsWith("avatars/")){const v="media",{data:w}=M.storage.from(v).getPublicUrl(e.avatar_url);return w.publicUrl}return e.avatar_url.startsWith("http")?e.avatar_url:null})(),d=(e==null?void 0:e.avatar_url)&&e.avatar_url.length<=4&&!e.avatar_url.includes("/"),u=i?"cursor-pointer":"",h=i?c?"hover:opacity-80":"hover:bg-gray-200 dark:hover:bg-gray-600":"",f=c?a.jsx("img",{src:c,alt:(e==null?void 0:e.full_name)||"User avatar",className:`${ma[t]} rounded-full object-cover ${u} ${h} transition-all`,onClick:o,onError:v=>{console.error("Avatar image failed to load:",c);const w=v.target;w.style.display="none";const _=w.parentElement;_&&(_.innerHTML=`<div class="${ma[t]} rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center ${u} ${h} transition-colors"><svg class="${t==="sm"?"w-4 h-4":t==="md"?"w-5 h-5":t==="lg"?"w-6 h-6":"w-8 h-8"} text-gray-400 dark:text-gray-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg></div>`)}}):d?a.jsx("div",{className:`${ma[t]} rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center ${u} ${h} transition-colors`,onClick:o,children:a.jsx("span",{className:t==="sm"?"text-lg":t==="md"?"text-xl":t==="lg"?"text-2xl":"text-3xl",children:e==null?void 0:e.avatar_url})}):a.jsx("div",{className:`${ma[t]} rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center ${u} ${h} transition-colors`,onClick:o,children:a.jsx(Bt,{className:`${t==="sm"?"w-4 h-4":t==="md"?"w-5 h-5":t==="lg"?"w-6 h-6":"w-8 h-8"} text-gray-400 dark:text-gray-500`})}),x=r&&(e==null?void 0:e.full_name)&&a.jsx("span",{className:`${xb[t]} font-medium text-gray-900 dark:text-white truncate`,children:e.full_name});return r?n==="bottom"?a.jsxs("div",{className:`flex flex-col items-center gap-2 ${s} ${i?"cursor-pointer":""}`,onClick:o,children:[f,x]}):a.jsxs("div",{className:`flex items-center gap-3 ${s} ${i?"cursor-pointer":""}`,onClick:o,children:[f,x]}):a.jsx("div",{className:`${s} ${i?"cursor-pointer":""}`,onClick:o,children:f})}function yb({media:e,className:t=""}){const{user:r,profile:n}=xe(),{t:s}=Ke(),[i,o]=y.useState([]),[l,c]=y.useState([]),[d,u]=y.useState(""),[h,f]=y.useState(!1),[x,v]=y.useState(!0),[w,_]=y.useState(!1);y.useEffect(()=>{g()},[e.id]);const g=async()=>{try{v(!0);const{data:N,error:k}=await M.from("comments").select(`
          id,
          content,
          created_at,
          user_id,
          media_id,
          profiles!comments_user_id_fkey (
            full_name,
            email,
            avatar_url
          )
        `).eq("media_id",e.id).order("created_at",{ascending:!0});k?console.error("Error loading comments:",k):o(N||[]);const{data:T,error:C}=await M.from("likes").select("*").eq("media_id",e.id);C?console.error("Error loading likes:",C):(c(T||[]),f(r&&(T==null?void 0:T.some(A=>A.user_id===r.id))||!1))}catch(N){console.error("Error loading data:",N)}finally{v(!1)}},m=async()=>{if(r)try{if(h){const{error:N}=await M.from("likes").delete().eq("user_id",r.id).eq("media_id",e.id);N||(c(k=>k.filter(T=>T.user_id!==r.id)),f(!1))}else{const{data:N,error:k}=await M.from("likes").insert({user_id:r.id,media_id:e.id}).select().single();!k&&N&&(c(T=>[...T,N]),f(!0))}}catch(N){console.error("Error toggling like:",N)}},p=async N=>{if(N.preventDefault(),!(!r||!d.trim()||w))try{_(!0);const{data:k,error:T}=await M.from("comments").insert({content:d.trim(),user_id:r.id,media_id:e.id}).select(`
          id,
          content,
          created_at,
          user_id,
          media_id,
          profiles!comments_user_id_fkey (
            full_name,
            email,
            avatar_url
          )
        `).single();if(T)throw T;o(C=>[...C,k]),u("")}catch(k){console.error("Error adding comment:",k),alert("Failed to add comment. Please try again.")}finally{_(!1)}},b=async N=>{if(confirm("Are you sure you want to delete this comment?"))try{const{error:k}=await M.from("comments").delete().eq("id",N);k||o(T=>T.filter(C=>C.id!==N))}catch(k){console.error("Error deleting comment:",k),alert("Failed to delete comment. Please try again.")}},j=N=>r&&(N.user_id===r.id||(n==null?void 0:n.is_admin)||(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="SUPER_ADMIN"||(n==null?void 0:n.email)==="lpnminh472@gmail.com"),E=N=>{const k=new Date(N),C=Math.floor((new Date().getTime()-k.getTime())/1e3);return C<60?"just now":C<3600?`${Math.floor(C/60)}m ago`:C<86400?`${Math.floor(C/3600)}h ago`:C<2592e3?`${Math.floor(C/86400)}d ago`:k.toLocaleDateString()};return x?a.jsx("div",{className:`space-y-4 ${t}`,children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded w-24 mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"})]})]})}):a.jsxs("div",{className:`space-y-4 ${t}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:m,disabled:!r,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all border border-white text-white shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)] ${h?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[a.jsx(si,{className:`w-5 h-5 ${h?"fill-current":""}`}),a.jsxs("span",{className:"text-sm font-medium",children:[l.length," ",s("modal.likes")]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[a.jsx(Ri,{className:"w-5 h-5"}),a.jsxs("span",{className:"text-sm",children:[i.length," ",s("modal.comments")]})]})]}),a.jsxs("div",{className:"space-y-4",children:[i.length>0&&a.jsx("div",{className:"space-y-3",children:i.map(N=>{var k,T;return a.jsxs("div",{className:"flex items-start gap-3 group",children:[a.jsx(ci,{profile:N.profiles,size:"sm"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((k=N.profiles)==null?void 0:k.full_name)||((T=N.profiles)==null?void 0:T.email)||"Anonymous"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:E(N.created_at)})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:N.content})]})}),j(N)&&a.jsx("button",{onClick:()=>b(N.id),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-all",children:a.jsx(ii,{className:"w-4 h-4"})})]},N.id)})}),r?a.jsxs("form",{onSubmit:p,className:"flex items-start gap-3",children:[a.jsx(ci,{profile:n,size:"sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:d,onChange:N=>u(N.target.value),placeholder:s("modal.addComment"),rows:1,className:"w-full px-3 py-2 bg-black text-white border border-white rounded-lg shadow-[0_0_10px_rgba(255,255,255,0.8)] focus:ring-0 focus:border-white resize-none text-sm",onInput:N=>{const k=N.target;k.style.height="auto",k.style.height=k.scrollHeight+"px"}}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.length,"/500 characters"]}),a.jsxs("button",{type:"submit",disabled:!d.trim()||w||d.length>500,className:"flex items-center gap-1 px-3 py-1 bg-black border border-white text-white rounded-lg text-sm transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)] disabled:opacity-50",children:[a.jsx(zw,{className:"w-3 h-3"}),w?"Posting...":s("modal.post")]})]})]})]}):a.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:a.jsx("p",{className:"text-sm",children:s("auth.signInToUpload")})})]})]})}function vb({media:e,isOpen:t,onClose:r}){const{t:n}=Ke(),[s,i]=y.useState(!1);if(!t||!e)return null;const o=e.media_id||e.id,l=`${window.location.origin}/?media=${o}`,c=`Check out this ${e.file_type.startsWith("image")?"image":"video"}: ${e.title}`,d=we(e.file_path,e.storage_provider),u=async()=>{try{await navigator.clipboard.writeText(l),i(!0),setTimeout(()=>i(!1),2e3)}catch(x){console.error("Failed to copy:",x)}},h=x=>{const v=encodeURIComponent(c),w=encodeURIComponent(l);let _="";switch(x){case"facebook":_=`https://www.facebook.com/sharer/sharer.php?u=${w}`;break;case"twitter":_=`https://twitter.com/intent/tweet?text=${v}&url=${w}`;break;case"whatsapp":_=`https://wa.me/?text=${v}%20${w}`;break;case"email":_=`mailto:?subject=${encodeURIComponent(e.title)}&body=${v}%20${w}`;break}window.open(_,"_blank","width=600,height=400")},f=async()=>{try{const v=await(await fetch(d)).blob(),w=window.URL.createObjectURL(v),_=document.createElement("a");_.href=w,_.download=e.filename||`media_${e.id}.${e.file_type.split("/")[1]}`,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(w)}catch(x){console.error("Download failed:",x),window.open(d,"_blank")}};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black rounded-2xl shadow-[0_0_25px_rgba(255,255,255,0.6)] max-w-md w-full border border-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:a.jsx(Iw,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n("share.shareMedia")})]}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg transition border border-white text-white hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:a.jsx(ze,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black rounded-lg border border-white shadow-[0_0_10px_rgba(255,255,255,0.6)]",children:[a.jsx("img",{src:e.thumbnail_path?we(e.thumbnail_path,e.storage_provider):d,alt:e.title,className:"w-12 h-12 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-white truncate drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]",children:e.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.file_type})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("share.copyLink")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:l,readOnly:!0,className:"flex-1 px-3 py-2 bg-black text-white border border-white rounded-lg text-sm shadow-[0_0_10px_rgba(255,255,255,0.8)]"}),a.jsx("button",{onClick:u,className:`px-3 py-2 rounded-lg text-sm font-medium transition border border-white text-white shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)] ${s?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50"}`,children:a.jsx(Nl,{className:"w-4 h-4"})})]}),s&&a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:n("share.linkCopied")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:n("share.socialShare")}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>h("facebook"),className:"flex items-center gap-2 px-4 py-3 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(Om,{className:"w-4 h-4"}),"Facebook"]}),a.jsxs("button",{onClick:()=>h("twitter"),className:"flex items-center gap-2 px-4 py-3 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(Gw,{className:"w-4 h-4"}),"Twitter"]}),a.jsxs("button",{onClick:()=>h("whatsapp"),className:"flex items-center gap-2 px-4 py-3 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(Ri,{className:"w-4 h-4"}),"WhatsApp"]}),a.jsxs("button",{onClick:()=>h("email"),className:"flex items-center gap-2 px-4 py-3 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(_n,{className:"w-4 h-4"}),"Email"]})]})]}),a.jsx("div",{children:a.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[a.jsx(Li,{className:"w-4 h-4"}),n("share.downloadOriginal")]})})]})]})})}function Wm({media:e,isOpen:t,onClose:r}){var j,E;const{user:n,profile:s}=xe(),{t:i}=Ke(),[o,l]=y.useState(!1),[c,d]=y.useState(!1),[u,h]=y.useState(!1);y.useState(!1);const[f,x]=y.useState(!1),v=({media:N,canEdit:k})=>{const[T,C]=y.useState(!1),[A,F]=y.useState(N.title),[ke,Ee]=y.useState(!1),Le=async()=>{if(!k)return C(!1);const H=A.trim();if(!H||H===N.title){C(!1);return}try{Ee(!0);const{error:ce}=await M.from("media").update({title:H}).eq("id",N.id);if(ce)throw ce}catch(ce){console.error("Rename failed:",ce),alert("Failed to rename media.")}finally{Ee(!1),C(!1)}};return k?a.jsx("div",{className:"flex items-center gap-2",children:T?a.jsxs(a.Fragment,{children:[a.jsx("input",{id:"editable-title-input",value:A,onChange:H=>F(H.target.value),className:"text-xl font-bold bg-black border-b border-white focus:outline-none text-white placeholder-white/70 shadow-[0_0_10px_rgba(255,255,255,0.8)]",autoFocus:!0,onKeyDown:H=>{H.key==="Enter"&&Le(),H.key==="Escape"&&C(!1)},onBlur:Le}),ke&&a.jsx("span",{className:"text-sm text-gray-500",children:"Saving..."})]}):a.jsx("button",{className:"text-left text-xl font-bold text-white hover:underline drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]",onClick:()=>C(!0),title:"Click to rename",children:N.title})}):a.jsx("h2",{className:"text-xl font-bold text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]",children:N.title})};if(!t||!e)return null;const w=we(e.file_path,e.storage_provider),_=e.thumbnail_path?we(e.thumbnail_path,e.storage_provider):w,g=(N,k)=>{navigator.clipboard.writeText(N);const T=document.activeElement;if(T){const C=T.textContent;T.textContent="Copied!",setTimeout(()=>{T.textContent=C},1e3)}},m=()=>{const N=document.createElement("a");N.href=w,N.download=e.filename,document.body.appendChild(N),N.click(),document.body.removeChild(N)},p=()=>{l(!o)},b=()=>{l(!1),r()};return o&&!gt(e.file_type)?a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[a.jsx("img",{src:w,alt:e.title,className:"max-w-full max-h-full object-contain"}),a.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[a.jsx("button",{onClick:p,className:"p-3 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all backdrop-blur-sm",title:"Exit Full Screen",children:a.jsx(Ow,{className:"w-6 h-6"})}),a.jsx("button",{onClick:b,className:"p-3 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all backdrop-blur-sm",title:"Close",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/50 text-white p-4 rounded-lg backdrop-blur-sm",children:[a.jsx("h3",{className:"font-semibold",children:e.title}),a.jsxs("p",{className:"text-sm opacity-80",children:[" ID: ",e.media_id," |  ",e.width,"",e.height," |  ",Me(e.file_size)]})]})]}):a.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",children:[a.jsxs("div",{className:"bg-black rounded-xl sm:rounded-2xl shadow-[0_0_25px_rgba(255,255,255,0.6)] w-full max-w-6xl h-[95vh] sm:h-[90vh] overflow-hidden flex flex-col border border-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-6 border-b border-white flex-shrink-0 bg-black",children:[a.jsxs("div",{className:"flex items-center gap-3 text-white",children:[gt(e.file_type)?a.jsx(Lr,{className:"w-6 h-6 text-red-500"}):a.jsx(mt,{className:"w-6 h-6 text-blue-500"}),a.jsxs("div",{children:[a.jsx(v,{media:e,canEdit:!!n&&((s==null?void 0:s.is_admin)||n.id===e.user_id)}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Media Details"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n&&((s==null?void 0:s.is_admin)||n.id===e.user_id)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{const N=document.getElementById("editable-title-input");N&&N.focus()},className:"flex items-center gap-1 px-3 py-2 border border-white text-white rounded-lg shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)] transition",title:"Rename",children:[a.jsx(Dw,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Rename"})]}),a.jsx("button",{onClick:async()=>{if(!confirm("Delete this media? This cannot be undone."))return;await Tl(e.id,e.file_path,e.thumbnail_path,e.storage_provider)?(alert("Media deleted."),r()):alert("Failed to delete media.")},className:"flex items-center gap-1 px-3 py-2 border border-white text-white rounded-lg shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)] transition",title:"Delete",children:a.jsx(ze,{className:"w-5 h-5 text-red-600"})})]}),!gt(e.file_type)&&a.jsx("button",{onClick:p,className:"p-2 rounded-lg transition border border-white text-white hover:shadow-[0_0_16px_rgba(255,255,255,1)]",title:"View Full Screen",children:a.jsx(Rw,{className:"w-5 h-5 text-gray-500"})}),a.jsx("button",{onClick:b,className:"p-2 rounded-lg transition border border-white text-white hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:a.jsx(ze,{className:"w-5 h-5 text-gray-500"})})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:w-1/2 bg-black flex items-center justify-center p-3 sm:p-6",children:gt(e.file_type)?a.jsx("video",{src:w,controls:!0,className:"max-w-full max-h-32 sm:max-h-96 rounded-lg shadow-lg",poster:_}):a.jsx("img",{src:w,alt:e.title,className:"max-w-full max-h-32 sm:max-h-96 rounded-lg shadow-lg object-contain"})}),a.jsx("div",{className:"lg:w-1/2 p-3 sm:p-6 flex-1 overflow-y-auto",children:a.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>h(!u),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[" ",i("modal.mediaInformation")]}),u?a.jsx(Cu,{className:"w-4 h-4 text-gray-500"}):a.jsx(ni,{className:"w-4 h-4 text-gray-500"})]}),u&&a.jsxs("div",{className:"mt-3 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[i("modal.title"),":"]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",title:e.title,children:e.title.length>20?`${e.title.substring(0,20)}...`:e.title})]}),e.description&&a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[i("modal.description"),":"]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.description})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[" ",i("modal.identification")]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i("modal.mediaId"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm bg-white dark:bg-gray-800 px-2 py-1 rounded border",children:e.media_id||"No ID"}),e.media_id&&a.jsx("button",{onClick:()=>g(e.media_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded transition-colors",title:i("modal.copyMediaId"),children:a.jsx(Nl,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i("modal.databaseId"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs text-gray-500 dark:text-gray-400",children:e.id}),a.jsx("button",{onClick:()=>g(e.id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded transition-colors",title:i("modal.copyDatabaseId"),children:a.jsx(Nl,{className:"w-4 h-4 text-gray-500"})})]})]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>x(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[" ",i("modal.uploadInformation")]}),f?a.jsx(Cu,{className:"w-4 h-4 text-gray-500"}):a.jsx(ni,{className:"w-4 h-4 text-gray-500"})]}),f&&a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($c,{className:"w-4 h-4 text-gray-500"}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[i("modal.uploadDate"),":"]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(e.upload_date).toLocaleString()})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"w-4 h-4 text-gray-500"}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[i("modal.uploadedBy"),":"]}),a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((j=e.profiles)==null?void 0:j.full_name)||((E=e.profiles)==null?void 0:E.email)||"Unknown User"})]})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(Li,{className:"w-4 h-4"}),i("modal.downloadOriginal")]}),a.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 border border-white text-white rounded-lg transition shadow-[0_0_10px_rgba(255,255,255,0.8)] hover:shadow-[0_0_16px_rgba(255,255,255,1)]",children:[a.jsx(Bw,{className:"w-4 h-4"}),i("modal.share")]})]})}),a.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx(yb,{media:e})})]})})]})]}),a.jsx(vb,{media:e,isOpen:c,onClose:()=>d(!1)})]})}function wb({onMediaSelect:e,onNavigate:t}){const{t:r}=Ke(),[n,s]=y.useState("");y.useState("date"),y.useState("desc");const[i,o]=y.useState(0),[l,c]=y.useState(null),[d,u]=y.useState(!1),h=f=>{c(f),u(!0)};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[a.jsx(Ln,{className:"w-5 h-5 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden sm:inline",children:r("images.backToGallery")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-black border border-white rounded-lg shadow-[0_0_12px_rgba(255,255,255,0.9)] neon-white",children:a.jsx(mt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r("images.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r("images.subtitle")})]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(Vm,{searchQuery:n,onSearchChange:s}),a.jsx(Hm,{searchQuery:n,filterType:"images",onMediaClick:h,refreshTrigger:i})]})}),a.jsx(Wm,{media:l,isOpen:d,onClose:()=>u(!1)})]})}function bb({onMediaSelect:e,onNavigate:t}){const{t:r}=Ke(),[n,s]=y.useState("");y.useState("date"),y.useState("desc");const[i,o]=y.useState(0),[l,c]=y.useState(null),[d,u]=y.useState(!1),h=f=>{c(f),u(!0)};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[a.jsx(Ln,{className:"w-5 h-5 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden sm:inline",children:r("images.backToGallery")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-black border border-white rounded-lg shadow-[0_0_12px_rgba(255,255,255,0.9)] neon-white",children:a.jsx(Lr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r("videos.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:r("videos.subtitle")})]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(Vm,{searchQuery:n,onSearchChange:s}),a.jsx(Hm,{searchQuery:n,filterType:"videos",onMediaClick:h,refreshTrigger:i})]})}),a.jsx(Wm,{media:l,isOpen:d,onClose:()=>u(!1)})]})}function kb({isOpen:e,onClose:t,onComplete:r}){const{user:n}=xe(),[s,i]=y.useState([]),[o,l]=y.useState(!1),[c,d]=y.useState(0),u=()=>Math.random().toString(36).substring(2),h=y.useCallback(k=>{k.preventDefault();const T=Array.from(k.dataTransfer.files);x(T)},[]),f=k=>{if(k.target.files){const T=Array.from(k.target.files);x(T)}},x=k=>{const C=k.filter(A=>Dm(A.type)?!0:(alert(`File type ${A.type} is not supported for ${A.name}`),!1)).map(A=>({file:A,id:u(),title:A.name.split(".")[0],description:"",status:"pending",progress:0}));i(A=>[...A,...C])},v=k=>{i(T=>T.filter(C=>C.id!==k))},w=(k,T,C)=>{i(A=>A.map(F=>F.id===k?{...F,[T]:C}:F))},_=async()=>{if(!(!n||s.length===0)){l(!0),d(0);for(let k=0;k<s.length;k++){const T=s[k];if(T.status!=="success"){i(C=>C.map(A=>A.id===T.id?{...A,status:"uploading",progress:0}:A));try{await Bm(T.file,T.title.trim()||T.file.name.split(".")[0],T.description.trim(),n.id,C=>{i(A=>A.map(F=>F.id===T.id?{...F,progress:C.progress}:F))}),i(C=>C.map(A=>A.id===T.id?{...A,status:"success",progress:100}:A)),d(C=>C+1)}catch(C){i(A=>A.map(F=>F.id===T.id?{...F,status:"error",progress:0,error:C instanceof Error?C.message:"Upload failed"}:F))}}}l(!1)}},g=()=>{i(k=>k.map(T=>T.status==="error"?{...T,status:"pending",progress:0,error:void 0}:T))},m=()=>{i(k=>k.filter(T=>T.status!=="success"))},p=()=>{r(),t(),i([]),d(0)};if(!e)return null;const b=s.filter(k=>k.status==="pending"),j=s.filter(k=>k.status==="success"),E=s.filter(k=>k.status==="error"),N=s.length>0?Math.round(s.reduce((k,T)=>k+T.progress,0)/s.length):0;return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black border border-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col neon-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-black border border-white rounded-lg flex items-center justify-center",children:a.jsx(Mt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white neon-white",children:"Bulk Upload"}),a.jsxs("p",{className:"text-sm text-white/70",children:[s.length," files  ",j.length," completed  ",E.length," failed"]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors border border-white",children:a.jsx(ze,{className:"w-5 h-5 text-white"})})]}),s.length>0&&a.jsxs("div",{className:"px-6 py-4 border-b border-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-white/70",children:[N,"%"]})]}),a.jsx("div",{className:"w-full bg-black border border-white rounded-full h-2",children:a.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${N}%`}})})]}),s.length===0&&a.jsxs("div",{onDrop:h,onDragOver:k=>k.preventDefault(),className:"m-6 border-2 border-dashed border-white rounded-xl p-12 text-center hover:shadow-[0_0_20px_rgba(255,255,255,0.6)] transition-all group cursor-pointer bg-black text-white",onClick:()=>{var k;return(k=document.getElementById("bulk-file-input"))==null?void 0:k.click()},children:[a.jsx(Sw,{className:"w-16 h-16 text-white mx-auto mb-4 transition-colors"}),a.jsx("h3",{className:"text-lg font-medium text-white neon-white mb-2",children:"Drop files here or click to browse"}),a.jsx("p",{className:"text-white/70 mb-4",children:"Select multiple images and videos to upload at once"}),a.jsx("div",{className:"text-sm text-white/60",children:"Supported formats: JPEG, PNG, GIF, MP4, MOV, AVI"}),a.jsx("input",{id:"bulk-file-input",type:"file",multiple:!0,accept:"image/*,video/*",onChange:f,className:"hidden"})]}),s.length>0&&a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("div",{className:"space-y-4",children:s.map(k=>a.jsx("div",{className:"bg-black border border-white rounded-lg p-4 space-y-3 neon-white",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"mt-1",children:[k.status==="success"&&a.jsx(Ta,{className:"w-5 h-5 text-green-500"}),k.status==="error"&&a.jsx(zs,{className:"w-5 h-5 text-red-500"}),(k.status==="pending"||k.status==="uploading")&&a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"font-medium text-white truncate neon-white",children:k.file.name}),a.jsx("span",{className:"text-xs text-white/70",children:Me(k.file.size)}),a.jsx("button",{onClick:()=>v(k.id),disabled:k.status==="uploading",className:"p-1 hover:bg-white/10 border border-white rounded disabled:opacity-50",children:a.jsx(ii,{className:"w-4 h-4 text-red-500"})})]}),k.status==="uploading"&&a.jsx("div",{className:"mb-2",children:a.jsx("div",{className:"w-full bg-black border border-white rounded-full h-1.5",children:a.jsx("div",{className:"bg-purple-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${k.progress}%`}})})}),k.status==="error"&&k.error&&a.jsx("p",{className:"text-sm text-red-400 mb-2",children:k.error}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Title",value:k.title,onChange:T=>w(k.id,"title",T.target.value),disabled:k.status==="uploading",className:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"}),a.jsx("input",{type:"text",placeholder:"Description (optional)",value:k.description,onChange:T=>w(k.id,"description",T.target.value),disabled:k.status==="uploading",className:"px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50"})]})]})]})},k.id))}),a.jsxs("button",{onClick:()=>{var k;return(k=document.getElementById("bulk-file-input"))==null?void 0:k.click()},disabled:o,className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-purple-400 dark:hover:border-purple-500 transition-colors disabled:opacity-50",children:[a.jsx(Fw,{className:"w-4 h-4"}),"Add More Files"]})]}),s.length>0&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[E.length>0&&a.jsxs("button",{onClick:g,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-orange-600 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Mt,{className:"w-4 h-4"}),"Retry Failed (",E.length,")"]}),j.length>0&&a.jsxs("button",{onClick:m,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Ta,{className:"w-4 h-4"}),"Clear Completed (",j.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[j.length===s.length&&s.length>0&&a.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[a.jsx(Ta,{className:"w-4 h-4"}),"Complete (",j.length,")"]}),a.jsxs("button",{onClick:_,disabled:o||b.length===0,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Mt,{className:"w-4 h-4"}),o?"Uploading...":`Upload ${b.length} Files`]})]})]})]})})}function _b({onNavigate:e,onUploadComplete:t}){const{user:r}=xe(),{t:n}=Ke(),[s,i]=y.useState(null),[o,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState(!1),[f,x]=y.useState(null),[v,w]=y.useState(null),[_,g]=y.useState(!1);y.useRef(null);const m=async C=>{if(!Dm(C.type)){w("Unsupported file type. Please select a JPEG, PNG, GIF, WebP image or MP4, WebM, MOV video.");return}const A=sb(C.type);if(C.size>A){const F=Ps(C.type)?"image":"video";w(`${F.charAt(0).toUpperCase()+F.slice(1)} size exceeds ${Me(A)} limit. Please choose a smaller file.`);return}i(C),l(C.name.split(".")[0]),w(null),g(!1)},p=async C=>{C.preventDefault();const A=C.dataTransfer.files[0];A&&await m(A)},b=C=>{C.preventDefault()},j=async()=>{if(!(!s||!r||!o.trim()))try{h(!0),w(null),console.log("Upload: Proceeding with unique media ID system - no duplicates possible"),await Bm(s,o.trim(),c.trim(),r.id,x),g(!0),setTimeout(()=>{t==null||t(),e("home")},2e3)}catch(C){console.error("Upload failed:",C),w(C.message||"Upload failed. Please try again.")}finally{h(!1)}},[E,N]=y.useState(!1),k=()=>{i(null),l(""),d(""),w(null),x(null),g(!1)},T=()=>{if(!f)return"";switch(f.stage){case"uploading":return"Uploading file...";case"processing":return"Processing media...";case"saving":return"Saving to database...";case"complete":return"Upload complete!";default:return"Preparing..."}};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("home"),disabled:u,className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors disabled:opacity-50",children:[a.jsx(Ln,{className:"w-5 h-5 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Gallery"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-black border border-white rounded-lg shadow-[0_0_12px_rgba(255,255,255,0.9)] neon-white",children:a.jsx(Mt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n("upload.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:n("upload.subtitle")})]})]})]})})}),a.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:a.jsx("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-2xl shadow-lg overflow-hidden dark:backdrop-blur-sm",children:a.jsx("div",{className:"p-8",children:_?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900/20 rounded-full mb-6",children:a.jsx(Ta,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Upload Successful!"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your media has been uploaded and is now available in your gallery."}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:k,className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all font-medium",children:"Upload Another"}),a.jsx("button",{onClick:()=>e("home"),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all font-medium",children:"View Gallery"})]})]}):s?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-6 flex items-center gap-4",children:[Ps(s.type)?a.jsx(mt,{className:"w-12 h-12 text-green-600 dark:text-green-400 flex-shrink-0"}):a.jsx(Lr,{className:"w-12 h-12 text-purple-600 dark:text-purple-400 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-gray-900 dark:text-white truncate text-lg",children:s.name}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:Me(s.size)})]}),!u&&a.jsx("button",{onClick:k,className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors p-2",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Title *"}),a.jsx("input",{id:"title",type:"text",value:o,onChange:C=>l(C.target.value),disabled:u,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all disabled:opacity-50 disabled:bg-gray-100 dark:disabled:bg-gray-600",placeholder:"Enter a title for your media",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Description"}),a.jsx("textarea",{id:"description",value:c,onChange:C=>d(C.target.value),disabled:u,rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none disabled:opacity-50 disabled:bg-gray-100 dark:disabled:bg-gray-600",placeholder:"Add a description (optional)"})]})]}),f&&a.jsxs("div",{className:"space-y-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[a.jsx(et,{className:"w-4 h-4 animate-spin"}),T()]}),a.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:[f.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-primary-600 dark:bg-primary-500 h-3 transition-all duration-300 ease-out rounded-full",style:{width:`${f.progress}%`}})})]}),v&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm",children:v}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{onClick:k,disabled:u,className:"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{onClick:j,disabled:u||!o.trim(),className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?a.jsxs(a.Fragment,{children:[a.jsx(et,{className:"w-5 h-5 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"w-5 h-5 text-white"}),"Upload Media"]})})]})]}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{onDrop:p,onDragOver:b,onClick:()=>N(!0),className:"border-2 border-white rounded-xl p-16 text-center bg-black text-white shadow-[0_0_20px_rgba(255,255,255,0.6)] hover:shadow-[0_0_30px_rgba(255,255,255,0.9)] transition-all cursor-pointer group",children:[a.jsx(Mt,{className:"w-20 h-20 text-white mx-auto mb-6 transition-colors"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-3 transition-colors",children:n("upload.dragDrop")}),a.jsx("p",{className:"text-white/80 mb-4",children:n("upload.subtitle")}),a.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[a.jsx("p",{children:n("upload.supportedFormats")}),a.jsxs("p",{children:[a.jsx("strong",{children:"Videos:"})," MP4, WebM, MOV (max 1GB)"]})]})]})})})})}),a.jsx(kb,{isOpen:E,onClose:()=>N(!1),onComplete:()=>{N(!1),e("home")}})]})}function jb({onNavigate:e}){const{t}=Ke(),[r,n]=y.useState(""),s=f=>f.includes("Teacher")?t("class.teacher"):f.includes("Student")?f.replace("Student",t("class.student")):f,[i,o]=y.useState(null),[l,c]=y.useState(!1),[d]=y.useState([{id:"1",name:"T UYN VY",role:"Teacher"},{id:"2",name:"HUYN ANH",role:"Teacher"},{id:"3",name:"NGUYN TH O",role:"Teacher"},{id:"4",name:"PHM TH THANH THY",role:"Teacher"},{id:"5",name:"NG MINH THY ANH",role:"Student"},{id:"6",name:"HUNH NGC QUNH ANH",role:"Student"},{id:"7",name:"NGUYN HNG MINH ANH",role:"Student"},{id:"8",name:"PHM QUNH ANH",role:"Student"},{id:"9",name:"NGUYN VNH THIN N",role:"Student"},{id:"10",name:"NGUYN HNG DNG",role:"Student"},{id:"11",name:"NGUYN QUC HUY",role:"Student"},{id:"12",name:"NGUYN TRN NGUYN KHANG",role:"Student"},{id:"13",name:"TRNG NHT MINH KHANG",role:"Student"},{id:"14",name:"NGUYN HNG PHNG KHANH",role:"Student"},{id:"15",name:"PHM PHC KHOA",role:"Student / nole"},{id:"16",name:"BI TRNH MINH KHU",role:"Student"},{id:"17",name:"TRNH QUN LM",role:"Student / Entrepreneur"},{id:"18",name:"NGUYN HONG MAI",role:"Student"},{id:"19",name:"L PHC NHT MINH",role:"Student / Lead Developer"},{id:"20",name:"PHM NG MINH",role:"Student"},{id:"21",name:"NG BO NGC",role:"Student"},{id:"22",name:"PHNG VN KHNH NGC",role:"Student"},{id:"23",name:"TRN THIN NHN",role:"Student / THE LIEMS"},{id:"24",name:"CHUNG TIN PHT",role:"Student / Cali |||"},{id:"25",name:"V MINH GIA PHC",role:"Student"},{id:"26",name:"NGUYN THIN HNH THO",role:"Student"},{id:"27",name:"H KHOA PHC THNH",role:"Student"},{id:"28",name:"NGUYN HUNH ANH TH",role:"Student"},{id:"29",name:" TH PHNG UYN",role:"Student"},{id:"30",name:"NGUYN H THANH VN",role:"Student"},{id:"31",name:"NG TRN PHNG VY",role:"Student"},{id:"32",name:"NGUYN QU THANH VN",role:"Student"},{id:"33",name:"NGUYN CNH KHI",role:"Student"},{id:"34",name:"NGUYN H ANH DUY",role:"Student"},{id:"35",name:"DANH THIN KIM",role:"Student"}]),u=d.filter(f=>f.name.toLowerCase().includes(r.toLowerCase())),h=f=>{for(let v=0;v<8;v++){const w=document.createElement("div");w.className="absolute w-3 h-3 bg-blue-500 rounded-full opacity-80 animate-ping pointer-events-none z-10",w.style.left=`${10+Math.random()*80}%`,w.style.top=`${10+Math.random()*80}%`,w.style.animationDelay=`${Math.random()*.3}s`,w.style.animationDuration=`${.6+Math.random()*.4}s`,f.appendChild(w),setTimeout(()=>{w.parentNode&&w.parentNode.removeChild(w)},1e3)}};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[a.jsx(Ln,{className:"w-5 h-5 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Gallery"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 dark:bg-black border border-blue-200 dark:border-blue-500/30 rounded-lg shadow-lg dark:shadow-blue-500/20",children:a.jsx(Lt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("class.title")}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[u.length," member",u.length!==1?"s":""," found"]})]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6 dark:backdrop-blur-sm",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Fc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),placeholder:"Search members by name...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-black text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]})}),a.jsx("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg overflow-hidden dark:backdrop-blur-sm",children:u.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:a.jsx(Lt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:r?"No members found":"No members added yet"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r?"Try adjusting your search terms":"Members will appear here once added to the class"})]}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u.map(f=>a.jsx("div",{className:`relative overflow-visible p-6 transition-all duration-200 ${f.role==="Teacher"?"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 border-l-4 border-amber-400 dark:border-amber-500 shadow-lg hover:shadow-xl hover:shadow-amber-200/50 dark:hover:shadow-amber-800/30 animate-pulse-slow":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,style:{position:"relative"},onMouseEnter:x=>{h(x.currentTarget)},children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsxs("h3",{className:`text-lg font-semibold truncate transition-all duration-300 cursor-pointer hover:underline ${f.name==="TRN THIN NHN"?"bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 via-green-500 via-blue-500 via-indigo-500 to-purple-500 bg-clip-text text-transparent animate-pulse hover:animate-bounce":f.name==="L PHC NHT MINH"?"text-cyan-400 dark:text-cyan-300 drop-shadow-[0_0_10px_rgba(34,211,238,0.8)] dark:drop-shadow-[0_0_15px_rgba(103,232,249,0.9)] hover:drop-shadow-[0_0_20px_rgba(34,211,238,1)] animate-pulse hover:animate-bounce":f.name==="CHUNG TIN PHT"||f.name==="PHM PHC KHOA"?"text-lime-400 dark:text-lime-300 drop-shadow-[0_0_8px_rgba(163,230,53,0.8)] dark:drop-shadow-[0_0_12px_rgba(190,242,100,0.9)] hover:drop-shadow-[0_0_18px_rgba(163,230,53,1)] animate-pulse hover:animate-bounce":f.role==="Teacher"?"text-pink-600 dark:text-pink-400 hover:text-pink-500 dark:hover:text-pink-300 hover:drop-shadow-[0_0_8px_rgba(236,72,153,0.5)] dark:hover:drop-shadow-[0_0_12px_rgba(244,114,182,0.6)] animate-pulse":"text-gray-900 dark:text-white"}`,onClick:()=>{o(f),c(!0)},children:[f.name==="L PHC NHT MINH"&&a.jsx("span",{className:"text-yellow-400 mr-1",children:""}),(f.name==="CHUNG TIN PHT"||f.name==="PHM PHC KHOA")&&a.jsx("span",{className:"text-gray-400 mr-1",children:""}),f.name]}),f.role&&a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-all duration-300 ${f.name==="TRN THIN NHN"?"bg-gradient-to-r from-red-400 via-orange-400 via-yellow-400 via-green-400 via-blue-400 via-indigo-400 to-purple-400 text-white font-bold animate-pulse hover:animate-bounce shadow-lg hover:shadow-xl":f.name==="L PHC NHT MINH"?"bg-cyan-900/20 text-cyan-300 border border-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.5)] hover:shadow-[0_0_15px_rgba(34,211,238,0.8)] animate-pulse hover:animate-bounce font-bold":f.name==="CHUNG TIN PHT"||f.name==="PHM PHC KHOA"?"bg-lime-900/20 text-lime-300 border border-lime-400 shadow-[0_0_8px_rgba(163,230,53,0.5)] hover:shadow-[0_0_12px_rgba(163,230,53,0.8)] animate-pulse hover:animate-bounce font-bold":f.role==="Teacher"?"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300 hover:bg-pink-200 dark:hover:bg-pink-800/30 hover:drop-shadow-[0_0_6px_rgba(236,72,153,0.4)] dark:hover:drop-shadow-[0_0_8px_rgba(244,114,182,0.5)] animate-pulse":"bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300"}`,children:s(f.role||"")})]})})},f.id))})})]})}),l&&i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-black border border-gray-800 rounded-xl shadow-2xl max-w-md w-full backdrop-blur-sm relative z-20",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:i.name}),a.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[i.role&&a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.role==="Teacher"?"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300":"bg-primary-100 dark:bg-primary-900/20 text-primary-800 dark:text-primary-300"}`,children:s(i.role)})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white text-center",children:"Connect on Social Media"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>{console.log("Instagram clicked for:",i.name),c(!1)},className:"flex items-center justify-center gap-3 w-full px-4 py-3 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Mm,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Instagram"})]}),a.jsxs("button",{onClick:()=>{console.log("Facebook clicked for:",i.name),c(!1)},className:"flex items-center justify-center gap-3 w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Om,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Facebook"})]})]}),a.jsx("div",{className:"text-center pt-2",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click to visit their social media profiles"})})]})]})]})})]})}function Nb(){const{profile:e}=xe(),[t,r]=y.useState([]),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[d,u]=y.useState(""),h=(e==null?void 0:e.is_admin)||(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.email)==="lpnminh472@gmail.com";y.useEffect(()=>{h&&(f(),x())},[h]);const f=async()=>{try{console.log("SliderAdmin: Loading ALL images from ALL users...");const{data:m,error:p}=await M.from("media").select("*").order("upload_date",{ascending:!1});console.log("SliderAdmin: Total media files in database:",(m==null?void 0:m.length)||0),console.log("SliderAdmin: All media types found:",[...new Set((m==null?void 0:m.map(E=>E.file_type))||[])]);const{data:b,error:j}=await M.from("media").select(`
          *,
          profiles!media_user_id_fkey(
            full_name,
            email
          )
        `).like("file_type","image%").order("upload_date",{ascending:!1});if(j)throw console.error("SliderAdmin: Error loading images:",j),j;console.log("SliderAdmin: Loaded images from all users:",(b==null?void 0:b.length)||0,"images"),console.log("SliderAdmin: Image sample:",b==null?void 0:b.slice(0,3)),r(b||[])}catch(m){console.error("SliderAdmin: Error loading images:",m),r([])}},x=async()=>{try{console.log("SliderAdmin: Loading featured images...");const{data:m,error:p}=await M.from("slider_featured").select("media_id").order("display_order");if(p)console.log("SliderAdmin: slider_featured table error:",p),console.log("SliderAdmin: Table might not exist, using empty array"),s([]);else{const b=(m==null?void 0:m.map(j=>j.media_id))||[];console.log("SliderAdmin: Found featured images:",b.length,"featured"),s(b)}}catch(m){console.error("SliderAdmin: Error loading featured images:",m),s([])}finally{o(!1)}},v=m=>{console.log("SliderAdmin: Toggling featured for media_id:",m),s(p=>p.includes(m)?p.filter(b=>b!==m):[...p,m])},w=async()=>{if(h)try{c(!0);const{error:m}=await M.rpc("create_slider_featured_table");if(m&&!m.message.includes("already exists")){const{error:p}=await M.from("slider_featured").select("media_id").limit(1);if(p){console.warn("Could not create slider_featured table automatically. Using alternative storage."),await _();return}}if(await M.from("slider_featured").delete().neq("media_id",""),n.length>0){console.log("SliderAdmin: Saving featured media_ids:",n);const p=n.map((j,E)=>({media_id:j,display_order:E,created_by:e==null?void 0:e.id,created_at:new Date().toISOString()})),{error:b}=await M.from("slider_featured").insert(p);if(b)throw b}alert(`Successfully updated slider with ${n.length} featured images!`)}catch(m){console.error("Error saving featured images:",m),alert("Failed to save featured images. Trying alternative method..."),await _()}finally{c(!1)}},_=async()=>{try{const{error:m}=await M.from("profiles").update({metadata:{featured_slider_images:n,updated_at:new Date().toISOString()}}).eq("id",e==null?void 0:e.id);if(m)throw m;alert("Featured images saved to profile metadata!")}catch(m){console.error("Error saving to profile:",m),alert("Failed to save featured images")}},g=t.filter(m=>{var p,b;return m.title.toLowerCase().includes(d.toLowerCase())||(m.description||"").toLowerCase().includes(d.toLowerCase())||(((p=m.profiles)==null?void 0:p.full_name)||"").toLowerCase().includes(d.toLowerCase())||(((b=m.profiles)==null?void 0:b.email)||"").toLowerCase().includes(d.toLowerCase())});return h?i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ar,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading images..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard Slider Management"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Select any images from all users to feature in the dashboard slider (",n.length," selected)"]}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:" All uploaded images from all users are available for selection"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Debug: ",t.length," total images loaded, ",g.length," after search filter"]})]}),a.jsxs("button",{onClick:w,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[l?a.jsx(Ar,{className:"w-4 h-4 animate-spin"}):a.jsx(Dc,{className:"w-4 h-4"}),l?"Saving...":"Save Changes"]})]}),a.jsx("div",{className:"max-w-md",children:a.jsx("input",{type:"text",placeholder:"Search by title, description, or uploader...",value:d,onChange:m=>u(m.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 border",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:" Debug Information"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Loading:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:i?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Images:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:t.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Filtered:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:g.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Featured:"}),a.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:n.length})]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:"Check browser console (F12) for detailed logs"})]}),n.length>0&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-3",children:["Featured Images Preview (",n.length,")"]}),a.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:n.map((m,p)=>{const b=t.find(j=>(j.media_id||j.id)===m);return b?a.jsxs("div",{className:"flex-shrink-0 relative",children:[a.jsx("img",{src:we(b.file_path,b.storage_provider),alt:b.title,className:"w-20 h-16 object-cover rounded border-2 border-blue-300 dark:border-blue-600"}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:p+1}),a.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded",children:["ID: ",m.slice(-4)]})]},m):null})})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:g.map(m=>{var p,b;return a.jsxs("div",{className:`relative group cursor-pointer border-2 rounded-lg overflow-hidden transition-all ${n.includes(m.media_id||m.id)?"border-yellow-400 ring-2 ring-yellow-400/20 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>v(m.media_id||m.id),children:[a.jsx("img",{src:we(m.file_path,m.storage_provider),alt:m.title,className:"w-full h-32 object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors",children:[a.jsx("div",{className:"absolute top-2 left-2",children:n.includes(m.media_id||m.id)?a.jsx(Vw,{className:"w-5 h-5 text-yellow-400 fill-current"}):a.jsx(Hw,{className:"w-5 h-5 text-white/80 opacity-0 group-hover:opacity-100 transition-opacity"})}),n.includes(m.media_id||m.id)&&a.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-yellow-400 text-black text-xs font-bold rounded-full flex items-center justify-center",children:n.indexOf(m.media_id||m.id)+1})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate mb-2",children:m.title}),a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded px-2 py-1 mb-2",children:a.jsxs("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:[" ID: ",m.media_id||"No ID"]})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ",new Date(m.upload_date).toLocaleDateString()," ",new Date(m.upload_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ",Me(m.file_size)]}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ",m.file_type]}),m.width&&m.height&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" ",m.width,"  ",m.height," px"]}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[" ",((p=m.profiles)==null?void 0:p.full_name)||((b=m.profiles)==null?void 0:b.email)||"Unknown User"]})]})]})]},m.id)})}),g.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.length===0?"No images found. Please upload some images first.":d?"No images match your search.":"No images available."}),t.length===0&&a.jsx("button",{onClick:()=>window.location.href="/upload",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload Images"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Instructions:"}),a.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.jsx("li",{children:" Click on images to add/remove them from the slider"}),a.jsx("li",{children:" Featured images show a yellow star and order number"}),a.jsx("li",{children:" Images will appear in the dashboard slider in the selected order"}),a.jsx("li",{children:' Remember to click "Save Changes" to apply your selection'})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Admin Only"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Only administrators can manage slider images."})]})}async function Sb(){const{data:e,error:t}=await M.from("media").select("storage_provider, file_size");if(t)throw t;const r={};for(const n of e||[]){const s=n.storage_provider||"storage1",i=n.file_size||0;r[s]=(r[s]||0)+i}return{storage1:r.storage1||0,storage2:r.storage2||0,storage3:r.storage3||0,storage4:r.storage4||0}}function Eb(){const[e,t]=y.useState(!1),[r,n]=y.useState({storage1:0,storage2:0,storage3:0,storage4:0}),s=y.useMemo(()=>r.storage1+r.storage2+r.storage3+r.storage4,[r]),i=async()=>{try{t(!0);const l=await Sb();n(l)}catch(l){console.error("AdminStorageManager refresh error:",l)}finally{t(!1)}};y.useEffect(()=>{i()},[]);const o=[{id:"storage1",label:"Storage 1"},{id:"storage2",label:"Storage 2"},{id:"storage3",label:"Storage 3"},{id:"storage4",label:"Storage 4"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-black border border-white rounded-lg p-6 neon-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fn,{className:"w-5 h-5 text-white"}),a.jsx("h3",{className:"text-lg font-medium text-white",children:"Storage Usage Overview"})]}),a.jsxs("button",{onClick:i,disabled:e,className:"px-3 py-2 bg-black border border-white text-white rounded-lg flex items-center gap-2 cyber-button disabled:opacity-50",children:[a.jsx(Ar,{className:`w-4 h-4 ${e?"animate-spin":""}`}),"Refresh"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(l=>{const c=r[l.id];return a.jsxs("div",{className:"bg-black border border-white rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-white/80 mb-1",children:l.label}),a.jsx("div",{className:"text-2xl font-bold text-white",children:Me(c)}),s>0&&a.jsx("div",{className:"mt-2 w-full bg-white/20 h-2 rounded-full",children:a.jsx("div",{className:"h-2 bg-white rounded-full",style:{width:`${Math.min(100,c/s*100)}%`}})})]},l.id)})})]}),a.jsxs("div",{className:"bg-black border border-white rounded-lg p-6 neon-white",children:[a.jsx("h4",{className:"text-white font-semibold mb-2",children:"Notes"}),a.jsx("p",{className:"text-white/80 text-sm",children:"Storage 24 require correct environment variables and storage policies. If uploads fail for those storages, the app may fall back to Storage 1 automatically."})]})]})}function Cb({onComplete:e}){const{profile:t}=xe(),[r,n]=y.useState(!1),[s,i]=y.useState({current:0,total:0}),[o,l]=y.useState({success:0,failed:0});if(!((t==null?void 0:t.is_admin)||(t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN"||(t==null?void 0:t.email)==="lpnminh472@gmail.com"))return null;const d=async()=>{n(!0),l({success:0,failed:0});try{const{data:u,error:h}=await M.from("media").select("*").in("file_type",["video/mp4","video/webm","video/quicktime"]).is("thumbnail_path",null);if(h)throw h;if(!u||u.length===0){alert("No videos found that need thumbnail regeneration.");return}i({current:0,total:u.length});let f=0,x=0;for(let v=0;v<u.length;v++){const w=u[v];i({current:v+1,total:u.length});try{const _=await hb(w.storage_provider,w.file_path),g=new File([_],w.filename,{type:w.file_type}),m=await El(g),p=`thumbnails/${w.user_id}/${w.media_id}_thumb.jpg`;await Cl(w.storage_provider,p,m,{contentType:"image/jpeg",upsert:!0});const{error:b}=await M.from("media").update({thumbnail_path:p}).eq("id",w.id);if(b)throw b;f++,console.log(` Generated thumbnail for: ${w.title}`)}catch(_){console.error(` Failed to generate thumbnail for ${w.title}:`,_),x++}}l({success:f,failed:x}),e&&e()}catch(u){console.error("Error regenerating thumbnails:",u),alert("Failed to regenerate thumbnails. Check console for details.")}finally{n(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ai,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Video Thumbnail Generator"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Generate thumbnails for videos that don't have them (Admin only)"})]})]}),r&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[a.jsx("span",{children:"Processing videos..."}),a.jsxs("span",{children:[s.current," / ",s.total]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.current/s.total*100}%`}})}),o.success>0||o.failed>0?a.jsxs("div",{className:"flex gap-4 mt-2 text-xs",children:[a.jsxs("span",{className:"text-green-600",children:[" Success: ",o.success]}),a.jsxs("span",{className:"text-red-600",children:[" Failed: ",o.failed]})]}):null]}),a.jsxs("button",{onClick:d,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors disabled:cursor-not-allowed",children:[r?a.jsx(Ar,{className:"w-4 h-4 animate-spin"}):a.jsx(Ar,{className:"w-4 h-4"}),r?"Generating...":"Generate Missing Thumbnails"]}),!r&&(o.success>0||o.failed>0)&&a.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(kn,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Completed! ",o.success," successful, ",o.failed," failed"]})]})})]})}function Tb(){const{profile:e}=xe(),[t,r]=y.useState("users");console.log("AdminDashboard: Component mounted, activeTab:",t,"profile:",e);const[n,s]=y.useState(!1),[i,o]=y.useState(""),[l,c]=y.useState(null),[d,u]=y.useState([]),[h,f]=y.useState([]),[x,v]=y.useState("all"),[w,_]=y.useState({}),[g,m]=y.useState({}),[p,b]=y.useState(!1),[j,E]=y.useState(null);y.useEffect(()=>{t==="users"||t==="limits"?N():t==="media"&&k()},[t]);const N=async()=>{try{s(!0),console.log("Loading users...");const{data:S,error:L}=await M.from("profiles").select(`
          *,
          media!media_user_id_fkey(
            id,
            file_size,
            upload_date,
            storage_provider
          )
        `).order("created_at",{ascending:!1});if(console.log("Users query result:",{data:S==null?void 0:S.length,error:L==null?void 0:L.message}),L)throw L;const $=(S||[]).map(q=>{const B=q.media||[],J=B.reduce((it,St)=>it+(St.file_size||0),0),ae=B.reduce((it,St)=>{const Hs=St.storage_provider||"storage1",Oi=St.file_size||0;return it[Hs]=(it[Hs]||0)+Oi,it},{}),Wt=B.length>0?B.reduce((it,St)=>!it||new Date(St.upload_date)>new Date(it.upload_date)?St:it).upload_date:null;return{...q,media_count:B.length,total_storage_used:J,storage_used_s1:ae.storage1||0,storage_used_s2:ae.storage2||0,storage_used_s3:ae.storage3||0,storage_used_s4:ae.storage4||0,last_upload:Wt}});u($),console.log("Final users with stats:",$.length)}catch(S){console.error("Error loading users:",S);try{console.log("Trying fallback query...");const{data:L,error:$}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(console.log("Fallback query result:",{data:L==null?void 0:L.length,error:$==null?void 0:$.message}),L&&!$){const q=L.map(B=>({...B,media_count:0,total_storage_used:0,storage_used_s1:0,storage_used_s2:0,storage_used_s3:0,storage_used_s4:0,last_upload:null}));u(q),console.log("Using fallback data:",q.length)}}catch(L){console.error("Fallback query also failed:",L)}}finally{s(!1)}},k=async()=>{try{s(!0);const{data:S,error:L}=await M.from("media").select(`
          *,
          profiles!media_user_id_fkey(
            full_name,
            email
          )
        `).order("upload_date",{ascending:!1});if(L)throw L;f(S||[])}catch(S){console.error("Error loading media:",S)}finally{s(!1)}},T=async(S,L)=>{if(confirm(`Are you sure you want to delete user "${L}"?

This will also delete all their media files and cannot be undone.`))try{c(S);const{data:$,error:q}=await M.from("media").select("id, file_path, thumbnail_path").eq("user_id",S);if(q)throw q;if($&&$.length>0)for(const J of $)await Tl(J.id,J.file_path,J.thumbnail_path,J.storage_provider);const{error:B}=await M.from("profiles").delete().eq("id",S);if(B)throw B;try{const{error:J}=await M.auth.admin.deleteUser(S);J&&console.warn("Could not delete auth user (may require additional permissions):",J)}catch(J){console.warn("Auth deletion not available:",J)}u(J=>J.filter(ae=>ae.id!==S)),alert("User deleted successfully")}catch($){console.error("Error deleting user:",$),alert("Failed to delete user: "+$.message)}finally{c(null)}},C=async(S,L,$,q)=>{if(confirm(`Are you sure you want to delete "${q}"?

This action cannot be undone.`))try{c(S),await Tl(S,L,$,storageProvider)?(f(J=>J.filter(ae=>ae.id!==S)),alert("Media deleted successfully")):alert("Failed to delete media")}catch(B){console.error("Error deleting media:",B),alert("Failed to delete media")}finally{c(null)}},A=(S,L)=>{_($=>({...$,[S]:!0})),m($=>({...$,[S]:L.toString()}))},F=async(S,L)=>{const $=parseFloat(g[S]);if(isNaN($)||$<0){alert("Please enter a valid limit (0 or greater)");return}try{const{error:q}=await M.from("profiles").update({upload_limit_mb:Math.round($)}).eq("id",S);if(q)throw q;u(B=>B.map(J=>J.id===S?{...J,upload_limit_mb:Math.round($)}:J)),_(B=>({...B,[S]:!1})),alert(`Upload limit for ${L} updated to ${$} MB`)}catch(q){console.error("Error updating upload limit:",q),alert("Failed to update upload limit: "+q.message)}},ke=S=>{_(L=>({...L,[S]:!1})),m(L=>({...L,[S]:""}))},Ee=(S,L,$)=>{E({email:S,ip:L||"No IP recorded",userAgent:$||"No user agent recorded"}),b(!0)},Le=S=>{const L=S/1024;return L>=1?`${L.toFixed(1)} GB`:`${S} MB`},H=d.filter(S=>S.email.toLowerCase().includes(i.toLowerCase())||(S.full_name||"").toLowerCase().includes(i.toLowerCase())),ce=h.filter(S=>{var q;const L=S.title.toLowerCase().includes(i.toLowerCase())||(S.description||"").toLowerCase().includes(i.toLowerCase())||(((q=S.profiles)==null?void 0:q.email)||"").toLowerCase().includes(i.toLowerCase()),$=x==="all"||x==="images"&&S.media_type==="image"||x==="videos"&&S.media_type==="video";return L&&$}),I=S=>S.role==="SUPER_ADMIN"?{text:"Super Admin",color:"text-purple-600 bg-purple-100 dark:bg-purple-900/30"}:S.role==="ADMIN"||S.is_admin?{text:"Admin",color:"text-blue-600 bg-blue-100 dark:bg-blue-900/30"}:{text:"User",color:"text-gray-600 bg-gray-100 dark:bg-gray-700"},D=(e==null?void 0:e.is_admin)||(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPER_ADMIN"||(e==null?void 0:e.email)==="lpnminh472@gmail.com";if(console.log("AdminDashboard: isAdmin check:",D,"activeTab:",t),!D)return a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ts,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have admin privileges."})]});try{return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage users and media content. Use with caution - deletions cannot be undone."})]}),a.jsx("div",{className:"border-b border-white",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t==="users"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(Lt,{className:"w-4 h-4 inline mr-2"}),"User Management"]}),a.jsxs("button",{onClick:()=>r("media"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t==="media"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(mt,{className:"w-4 h-4 inline mr-2"}),"Media Management"]}),a.jsxs("button",{onClick:()=>r("limits"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t==="limits"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(fn,{className:"w-4 h-4 inline mr-2"}),"Upload Limits"]}),a.jsxs("button",{onClick:()=>r("slider"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t==="slider"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(mt,{className:"w-4 h-4 inline mr-2"}),"Slider Images"]}),a.jsxs("button",{onClick:()=>r("storage"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${t==="storage"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(fn,{className:"w-4 h-4 inline mr-2"}),"Storage Management"]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Fc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:t==="users"||t==="limits"?"Search users...":t==="slider"?"Search images...":"Search media...",value:i,onChange:S=>o(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-white bg-black text-white rounded-lg focus:ring-2 focus:ring-white/70 focus:border-white",disabled:t==="slider"})]})}),t==="media"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>v("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x==="all"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All"}),a.jsxs("button",{onClick:()=>v("images"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x==="images"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[a.jsx(mt,{className:"w-4 h-4 inline mr-1"}),"Images"]}),a.jsxs("button",{onClick:()=>v("videos"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x==="videos"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[a.jsx(Lr,{className:"w-4 h-4 inline mr-1"}),"Videos"]})]}),a.jsxs("button",{onClick:t==="media"?k:t==="slider"?()=>window.location.reload():N,disabled:n||t==="slider",className:"px-4 py-2 bg-black border border-white text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2 cyber-button",children:[a.jsx(Ar,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(et,{className:"w-8 h-8 animate-spin text-primary-600 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]}):t==="users"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Lt,{className:"w-5 h-5"}),"Users (",H.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Media Count"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Storage Used (Total)"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"S2"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"S3"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"S4"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Upload"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"IP Address"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Device"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"OS"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:H.map(S=>{const L=I(S);return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:a.jsx(Bt,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.full_name||"No name"}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.color}`,children:L.text})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.media_count}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Me(S.total_storage_used)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-700 dark:text-gray-300",children:Me(S.storage_used_s2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-700 dark:text-gray-300",children:Me(S.storage_used_s3)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-700 dark:text-gray-300",children:Me(S.storage_used_s4)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:S.last_upload?new Date(S.last_upload).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-xs text-gray-500 dark:text-gray-400",children:S.ip_address?"":"Not available"}),S.ip_address&&a.jsx("button",{onClick:()=>Ee(S.email,S.ip_address,S.user_agent),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"View IP details",children:a.jsx(Bs,{className:"w-4 h-4"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsx("span",{className:"truncate max-w-24",title:S.device_name||"No device info",children:S.device_name||"Not available"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a.jsx("span",{className:"text-xs",title:S.user_agent||"No user agent",children:S.device_os||"Not available"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("button",{onClick:()=>T(S.id,S.email),disabled:l===S.id||S.email===(e==null?void 0:e.email),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",title:S.email===(e==null?void 0:e.email)?"Cannot delete your own account":"Delete user",children:[l===S.id?a.jsx(et,{className:"w-4 h-4 animate-spin"}):a.jsx(ii,{className:"w-4 h-4"}),"Delete"]})})]},S.id)})})]})}),H.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No users found"})]})]}):t==="media"?a.jsxs("div",{className:"space-y-6",children:[a.jsx(Cb,{onComplete:k}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[ce.map(S=>{var L;return a.jsxs("div",{className:"bg-black border border-white rounded-lg overflow-hidden group neon-white",children:[a.jsxs("div",{className:"aspect-video bg-black border-b border-white relative",children:[S.media_type==="video"?a.jsx("video",{src:`${we(S.file_path,S.storage_provider)}`,className:"w-full h-full object-cover",muted:!0}):a.jsx("img",{src:S.thumbnail_path?`${we(S.thumbnail_path,S.storage_provider)}`:`${we(S.file_path,S.storage_provider)}`,alt:S.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-2 left-2",children:S.media_type==="video"?a.jsxs("div",{className:"bg-red-600 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(Lr,{className:"w-3 h-3"}),"Video"]}):a.jsxs("div",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(mt,{className:"w-3 h-3"}),"Image"]})}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("button",{onClick:()=>C(S.id,S.file_path,S.thumbnail_path,S.title),disabled:l===S.id,className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg disabled:opacity-50",title:"Delete media",children:l===S.id?a.jsx(et,{className:"w-4 h-4 animate-spin"}):a.jsx(ii,{className:"w-4 h-4"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.title}),S.description&&a.jsx("p",{className:"text-sm text-white/80 mb-2 line-clamp-2",children:S.description}),a.jsxs("div",{className:"text-xs text-white/70 space-y-1",children:[a.jsxs("div",{children:["By: ",(L=S.profiles)==null?void 0:L.email]}),a.jsxs("div",{children:["Size: ",Me(S.file_size)]}),a.jsxs("div",{children:["Date: ",new Date(S.upload_date).toLocaleDateString()]})]})]})]},S.id)}),ce.length===0&&a.jsxs("div",{className:"col-span-full text-center py-8",children:[a.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No media found"})]})]})]}):t==="limits"?a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(fn,{className:"w-5 h-5"}),"Upload Limits Management (",H.length," users)"]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage individual user upload limits. Changes take effect immediately."})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-600",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Current Usage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Upload Limit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Usage %"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600",children:H.map(S=>{const L=w[S.id],$=S.upload_limit_mb||500,q=$*1024*1024,B=q>0?S.total_storage_used/q*100:0;return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:a.jsx(Bt,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.full_name||"No name"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.email})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Me(S.total_storage_used)}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.media_count," files"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"0",step:"1",value:g[S.id]||"",onChange:J=>m(ae=>({...ae,[S.id]:J.target.value})),className:"w-20 px-2 py-1 text-sm border border-white bg-black text-white rounded focus:ring-2 focus:ring-white/70 focus:border-white",placeholder:"MB"}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MB"})]}):a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:Le($)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2 mr-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${B>=90?"bg-red-500":B>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(B,100)}%`}})}),a.jsxs("span",{className:`text-xs font-medium ${B>=90?"text-red-600 dark:text-red-400":B>=70?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:[B.toFixed(1),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:L?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>F(S.id,S.email),disabled:n,className:"text-green-600 hover:text-green-900 dark:hover:text-green-400 disabled:opacity-50 flex items-center gap-1",children:[a.jsx(Dc,{className:"w-4 h-4"}),"Save"]}),a.jsx("button",{onClick:()=>ke(S.id),disabled:n,className:"text-gray-600 hover:text-gray-900 dark:hover:text-gray-400 disabled:opacity-50",children:a.jsx(ze,{className:"w-4 h-4"})})]}):a.jsxs("button",{onClick:()=>A(S.id,$),disabled:n,className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400 disabled:opacity-50 flex items-center gap-1",children:[a.jsx(zc,{className:"w-4 h-4"}),"Edit"]})})]},S.id)})})]})}),H.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No users found"})]})]}):t==="storage"?a.jsx("div",{className:"space-y-6",children:a.jsx(Eb,{})}):t==="slider"?a.jsx(Nb,{}):null,a.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Eu,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Permanent Actions"}),a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Deleting users or media is permanent and cannot be undone. Use these features with extreme caution. Deleting a user will also delete all their uploaded media."})]})]})}),p&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"IP Address Details"}),a.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(ze,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono bg-gray-50 dark:bg-gray-700 p-2 rounded",children:j.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"IP Address"}),a.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-mono bg-gray-50 dark:bg-gray-700 p-2 rounded",children:j.ip})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User Agent"}),a.jsx("p",{className:"text-xs text-gray-900 dark:text-white font-mono bg-gray-50 dark:bg-gray-700 p-2 rounded break-all",children:j.userAgent})]})]}),a.jsx("div",{className:"flex justify-end p-4 border-t border-gray-200 dark:border-gray-600",children:a.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})})]})})]})}catch(S){return console.error("AdminDashboard: Render error:",S),a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Eu,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Component Error"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["There was an error loading the admin dashboard: ",S instanceof Error?S.message:String(S)]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload Page"})]})}}function Pu(){const e=Date.now().toString(),t=Math.random().toString().slice(2,8);return"avatar_"+e+t}const Pb=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function Gm({isOpen:e,onClose:t}){const{profile:r,user:n,updateProfile:s}=xe();y.useState(null);const[i,o]=y.useState(!1),[l,c]=y.useState(null),d=async f=>{if(n){console.log("Selected emoji:",f,"Length:",f.length),o(!0),c(null);try{const x=Pu();await s({avatar_url:f}),console.log("Emoji avatar updated successfully with ID:",x),t()}catch(x){console.error("Error updating avatar:",x),c(`Failed to update avatar: ${x instanceof Error?x.message:"Unknown error"}`)}finally{o(!1)}}},u=async f=>{var v;const x=(v=f.target.files)==null?void 0:v[0];if(!(!x||!n)){if(!x.type.startsWith("image/")){c("Please select an image file");return}if(x.size>5*1024*1024){c("File size must be less than 5MB");return}o(!0),c(null);try{const w=Pu();console.log("Generated avatar ID:",w);const _=x.name.split(".").pop(),g=`${w}.${_}`,m=`avatars/${n.id}/${g}`,p="media",{error:b}=await M.storage.from(p).upload(m,x);if(b)throw b;await s({avatar_url:m}),console.log("Avatar uploaded successfully with ID:",w),t()}catch(w){console.error("Error uploading avatar:",w),c(`Failed to upload avatar: ${w instanceof Error?w.message:"Unknown error"}`)}finally{o(!1)}}},h=async()=>{if(n){o(!0),c(null);try{await s({avatar_url:null}),console.log("Avatar removed successfully"),t()}catch(f){console.error("Error removing avatar:",f),c(`Failed to remove avatar: ${f instanceof Error?f.message:"Unknown error"}`)}finally{o(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Choose Avatar"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block relative",children:r!=null&&r.avatar_url?r.avatar_url.length<=4&&!r.avatar_url.includes("/")?a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-3xl",children:r.avatar_url}):a.jsx("img",{src:(()=>{if(r.avatar_url.startsWith("http"))return r.avatar_url;if(r.avatar_url.startsWith("avatars/")){const{data:f}=M.storage.from("media").getPublicUrl(r.avatar_url);return f.publicUrl}return r.avatar_url})(),alt:"Current avatar",className:"w-20 h-20 rounded-full object-cover",onError:f=>{const v=f.target.parentElement;v&&(v.innerHTML='<div class="w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center"><svg class="w-8 h-8 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg></div>')}}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(Bt,{className:"w-8 h-8 text-gray-400"})})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Current Avatar"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Upload Custom Image"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("label",{className:"flex-1 cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden",disabled:i}),a.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[a.jsx(Mt,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Upload Image"})]})]}),(r==null?void 0:r.avatar_url)&&a.jsx("button",{onClick:h,disabled:i,className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors disabled:opacity-50",children:"Remove"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Choose Emoji Avatar"}),a.jsx("div",{className:"grid grid-cols-7 gap-2 max-h-48 overflow-y-auto",children:Pb.map(f=>a.jsx("button",{onClick:()=>d(f),disabled:i,className:"w-12 h-12 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center justify-center text-xl transition-colors disabled:opacity-50",children:f},f))})]})]}),l&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-sm",children:l}),i&&a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-500 border-t-transparent"}),"Updating avatar..."]})})]})]})}):null}function Ib({onNavigate:e}){console.log("Settings: Component started mounting");try{const{user:t,profile:r,updateProfile:n,changeEmail:s}=xe();console.log("Settings: Auth context loaded",{user:!!t,profile:!!r});const{theme:i,toggleTheme:o}=Am(),{language:l,setLanguage:c,t:d}=Ke();console.log("Settings: Theme context loaded",{theme:i});const[u,h]=y.useState("profile"),f=window.location;y.useEffect(()=>{const oe=window.location.pathname.split("/").filter(Boolean)[1]||"profile";["profile","account","notifications","appearance","storage","admin"].includes(oe)&&h(oe)},[]),y.useEffect(()=>{const oe=`/settings/${u}`;window.location.pathname!==oe&&window.history.replaceState(null,"",oe)},[u]);const x=(r==null?void 0:r.is_admin)||(r==null?void 0:r.role)==="ADMIN"||(r==null?void 0:r.role)==="SUPER_ADMIN"||(r==null?void 0:r.email)==="lpnminh472@gmail.com",[v,w]=y.useState(!1),[_,g]=y.useState(null),[m,p]=y.useState(!1);console.log("Settings: State initialized",{activeTab:u,isAdmin:x,loading:v});const[b,j]=y.useState((r==null?void 0:r.full_name)||""),[E,N]=y.useState((r==null?void 0:r.bio)||""),[k,T]=y.useState(""),[C,A]=y.useState(""),[F,ke]=y.useState(""),[Ee,Le]=y.useState(!1),[H,ce]=y.useState(""),[I,D]=y.useState(!1),[S,L]=y.useState(!0),[$,q]=y.useState(!0),[B,J]=y.useState({used:0,total:8589934592}),[ae,Wt]=y.useState({storage1:0,storage2:0,storage3:0,storage4:0});y.useEffect(()=>{it()},[t]);const it=async()=>{if(t)try{const{data:U,error:oe}=await M.from("media").select("file_size, storage_provider").eq("user_id",t.id);if(oe)throw oe;const Je={},Rn=(U||[]).reduce((Ur,Dr)=>{const Wc=Dr.file_size||0,Gc=Dr.storage_provider||"storage1";return Je[Gc]=(Je[Gc]||0)+Wc,Ur+Wc},0);J(Ur=>({...Ur,used:Rn})),Wt({storage1:Je.storage1||0,storage2:Je.storage2||0,storage3:Je.storage3||0,storage4:Je.storage4||0})}catch(U){console.error("Error loading storage info:",U)}},St=async()=>{if(t)try{w(!0),await n({full_name:b.trim(),bio:E.trim()}),g({type:"success",text:"Profile updated successfully!"})}catch(U){g({type:"error",text:U.message||"Failed to update profile"})}finally{w(!1)}},Hs=async()=>{if(C!==F){g({type:"error",text:"Passwords do not match"});return}if(C.length<6){g({type:"error",text:"Password must be at least 6 characters"});return}try{w(!0);const{error:U}=await M.auth.updateUser({password:C});if(U)throw U;T(""),A(""),ke(""),g({type:"success",text:"Password updated successfully!"})}catch(U){g({type:"error",text:U.message||"Failed to update password"})}finally{w(!1)}},Oi=async()=>{if(!H){g({type:"error",text:"Please enter a new email address"});return}if(!H.includes("@")){g({type:"error",text:"Please enter a valid email address"});return}if(H===(t==null?void 0:t.email)){g({type:"error",text:"New email must be different from current email"});return}try{w(!0);const U=await s(H);U.success?(g({type:"success",text:U.message||"Email change initiated!"}),ce(""),D(!1)):g({type:"error",text:U.error||"Failed to change email"})}catch(U){g({type:"error",text:U.message||"Failed to change email"})}finally{w(!1)}},qm=async()=>{try{w(!0);const{data:U,error:oe}=await M.from("media").select("*").eq("user_id",t==null?void 0:t.id);if(oe)throw oe;const Je={profile:r,media:U,exportDate:new Date().toISOString()},Rn=new Blob([JSON.stringify(Je,null,2)],{type:"application/json"}),Ur=URL.createObjectURL(Rn),Dr=document.createElement("a");Dr.href=Ur,Dr.download=`media-gallery-export-${new Date().toISOString().split("T")[0]}.json`,Dr.click(),URL.revokeObjectURL(Ur),g({type:"success",text:"Data exported successfully!"})}catch{g({type:"error",text:"Failed to export data"})}finally{w(!1)}},Km=[{id:"profile",label:d("settings.profile"),icon:Bt},{id:"account",label:d("settings.account"),icon:Ts},{id:"notifications",label:d("settings.notifications"),icon:bw},{id:"appearance",label:d("settings.appearance"),icon:$w},{id:"storage",label:d("settings.storage"),icon:fn},...x?[{id:"admin",label:d("settings.adminPanel"),icon:Lt}]:[]],Jm=U=>{const oe=U/1073741824,Je=U/(1024*1024);return oe>=1?`${oe.toFixed(2)} GB`:`${Je.toFixed(0)} MB`},Hc=(U,oe)=>{const Je=Jm(U),Rn=(oe/(1024*1024*1024)).toFixed(0);return`${Je} / ${Rn} GB`},Vc=B.used/B.total*100;return console.log("Settings: About to render component"),a.jsxs("div",{className:"min-h-screen bg-white dark:bg-black relative overflow-hidden",children:[a.jsx("div",{className:"particles-bg absolute inset-0 z-0 hidden dark:block"}),a.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 shadow-sm relative z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:[a.jsx(Ln,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:d("settings.backToGallery")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-100 dark:bg-black border border-gray-200 dark:border-gray-500/30 rounded-lg shadow-lg dark:shadow-gray-500/20",children:a.jsx(zc,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d("settings.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:d("settings.subtitle")})]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx("nav",{className:"bg-black border border-white rounded-xl shadow-lg overflow-hidden dark:backdrop-blur-sm neon-white",children:Km.map(U=>a.jsxs("button",{onClick:()=>h(U.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-all border-b border-white/10 ${u===U.id?"bg-black text-white border-r-2 border-white neon-white":"bg-black text-white hover:bg-black/90 hover:shadow-[0_0_8px_rgba(255,255,255,0.6)]"}`,children:[a.jsx(U.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:U.label})]},U.id))})}),a.jsx("div",{className:"lg:col-span-3",children:a.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-xl shadow-lg p-6 dark:backdrop-blur-sm",children:[_&&a.jsx("div",{className:`mb-6 p-4 rounded-lg ${_.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:_.text}),u==="profile"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Picture"}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ci,{profile:r,size:"xl",onClick:()=>p(!0),className:"ring-4 ring-blue-100 dark:ring-blue-900/30"}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent hover:border-blue-500 dark:hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>{console.log("Settings Avatar clicked!"),p(!0)}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Change your profile picture"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Click on your avatar or use the button below to upload a new profile picture or choose from emoji avatars."}),a.jsxs("button",{onClick:()=>{console.log("Settings Change Avatar button clicked!"),p(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white",children:[a.jsx(Bt,{className:"w-4 h-4"}),"Change Avatar"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:d("settings.profileInfo")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:d("settings.emailAddress")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"flex-1 px-4 py-3 rounded-lg cyber-input bg-black text-white border border-white/40 disabled:opacity-70"}),a.jsx("button",{onClick:()=>D(!I),className:"px-4 py-3 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white",children:d("settings.change")})]}),I&&a.jsxs("div",{className:"mt-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:d("settings.newEmailAddress")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"email",value:H,onChange:U=>ce(U.target.value),className:"flex-1 px-3 py-2 rounded-lg cyber-input bg-black text-white placeholder-gray-400",placeholder:"Enter new email address"}),a.jsx("button",{onClick:Oi,disabled:v||!H,className:"px-4 py-2 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white disabled:opacity-50",children:d("settings.update")}),a.jsx("button",{onClick:()=>{D(!1),ce("")},disabled:v,className:"px-4 py-2 bg-black text-white border border-white rounded-lg cyber-button neon-white disabled:opacity-50",children:d("settings.cancel")})]}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:d("settings.emailConfirmation")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:d("settings.fullName")}),a.jsx("input",{type:"text",value:b,onChange:U=>j(U.target.value),className:"w-full px-4 py-3 rounded-lg cyber-input bg-black text-white",placeholder:d("settings.enterFullName")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:d("settings.bio")}),a.jsx("textarea",{value:E,onChange:U=>N(U.target.value),rows:3,className:"w-full px-4 py-3 rounded-lg cyber-input bg-black text-white resize-none",placeholder:d("settings.tellAboutYourself")})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:St,disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white disabled:opacity-50",children:[a.jsx(Dc,{className:"w-5 h-5"}),d("settings.saveChanges")]})})]})]}),u==="account"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:d("settings.securitySettings")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white neon-white mb-2",children:d("settings.currentPassword")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:Ee?"text":"password",value:k,onChange:U=>T(U.target.value),className:"w-full px-4 py-3 pr-12 rounded-lg cyber-input bg-black text-white",placeholder:d("settings.enterCurrentPassword")}),a.jsx("button",{type:"button",onClick:()=>Le(!Ee),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Ee?a.jsx(Uc,{className:"w-5 h-5"}):a.jsx(Bs,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white neon-white mb-2",children:d("settings.newPassword")}),a.jsx("input",{type:Ee?"text":"password",value:C,onChange:U=>A(U.target.value),className:"w-full px-4 py-3 rounded-lg cyber-input bg-black text-white",placeholder:d("settings.enterNewPassword")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white neon-white mb-2",children:d("settings.confirmNewPassword")}),a.jsx("input",{type:Ee?"text":"password",value:F,onChange:U=>ke(U.target.value),className:"w-full px-4 py-3 rounded-lg cyber-input bg-black text-white",placeholder:d("settings.confirmPassword")})]})]}),a.jsxs("div",{className:"mt-6 flex gap-4",children:[a.jsxs("button",{onClick:Hs,disabled:v||!C||!F,className:"flex items-center gap-2 px-6 py-3 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white disabled:opacity-50",children:[a.jsx(Ts,{className:"w-5 h-5"}),d("settings.updatePassword")]}),a.jsxs("button",{onClick:qm,disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-black text-white border border-white rounded-lg font-medium cyber-button neon-white disabled:opacity-50",children:[a.jsx(Li,{className:"w-5 h-5"}),d("settings.exportData")]})]})]})}),u==="notifications"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-white neon-white mb-4",children:d("settings.notificationPreferences")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white neon-white",children:d("settings.emailNotifications")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d("settings.emailNotificationsDesc")})]}),a.jsx("button",{onClick:()=>L(!S),className:`relative inline-flex h-6 w-12 items-center rounded-full transition-all bg-black border border-white ${S?"shadow-[0_0_8px_rgba(255,255,255,0.6)]":"opacity-90"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-[0_0_6px_rgba(255,255,255,0.8)] ${S?"translate-x-7":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-white neon-white",children:d("settings.uploadNotifications")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d("settings.uploadNotificationsDesc")})]}),a.jsx("button",{onClick:()=>q(!$),className:`relative inline-flex h-6 w-12 items-center rounded-full transition-all bg-black border border-white ${$?"shadow-[0_0_8px_rgba(255,255,255,0.6)]":"opacity-90"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-[0_0_6px_rgba(255,255,255,0.8)] ${$?"translate-x-7":"translate-x-1"}`})})]})]})]})}),u==="appearance"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-white neon-white mb-4",children:d("settings.appearance")}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:d("settings.language")}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>c("en"),className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${l==="en"?"border-white bg-black text-white shadow-[0_0_10px_rgba(255,255,255,0.6)]":"border-white bg-black text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.4)]"}`,children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"English"})]}),a.jsxs("button",{onClick:()=>c("vi"),className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${l==="vi"?"border-white bg-black text-white shadow-[0_0_10px_rgba(255,255,255,0.6)]":"border-white bg-black text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.4)]"}`,children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Ting Vit"})]})]})]}),a.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:d("settings.theme")}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>i==="dark"&&o(),className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${i==="light"?"border-white bg-black text-white shadow-[0_0_10px_rgba(255,255,255,0.6)]":"border-white bg-black text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.4)]"}`,children:[a.jsx("div",{className:"w-8 h-8 bg-white border-2 border-gray-300 rounded"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:d("settings.light")})]}),a.jsxs("button",{onClick:()=>i==="light"&&o(),className:`flex items-center gap-3 p-3 rounded-lg border transition-all ${i==="dark"?"border-white bg-black text-white shadow-[0_0_10px_rgba(255,255,255,0.6)]":"border-white bg-black text-white hover:shadow-[0_0_8px_rgba(255,255,255,0.4)]"}`,children:[a.jsx("div",{className:"w-8 h-8 bg-gray-800 border-2 border-gray-600 rounded"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:d("settings.dark")})]})]})]})]})]})}),u==="storage"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-white neon-white mb-4",children:d("settings.storageUsage")}),a.jsxs("div",{className:"bg-black border border-white rounded-lg p-6 mb-6 neon-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-white neon-white",children:d("settings.storageUsed")}),a.jsx("span",{className:"text-sm text-white",children:Hc(B.used,B.total)})]}),a.jsx("div",{className:"w-full bg-black border border-white rounded-full h-3",children:a.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(255,255,255,0.6)]",style:{width:`${Math.min(Vc,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[Vc.toFixed(1),d("settings.storagePercentage")]})]}),[{id:"storage2",label:"Storage 2",value:ae.storage2},{id:"storage3",label:"Storage 3",value:ae.storage3},{id:"storage4",label:"Storage 4",value:ae.storage4}].map(U=>{const oe=U.value/B.total*100;return a.jsxs("div",{className:"bg-black border border-white rounded-lg p-6 mb-6 neon-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-sm font-medium text-white neon-white",children:[U.label," Used"]}),a.jsx("span",{className:"text-sm text-white",children:Hc(U.value,B.total)})]}),a.jsx("div",{className:"w-full bg-black border border-white rounded-full h-3",children:a.jsx("div",{className:"bg-white h-3 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(255,255,255,0.6)]",style:{width:`${Math.min(100,isFinite(oe)?oe:0)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[isFinite(oe)?oe.toFixed(1):"0.0",d("settings.storagePercentage")]})]},U.id)})]})}),u==="admin"&&x&&a.jsx("div",{className:"space-y-6",children:a.jsx(Tb,{})})]})})]})}),a.jsx(Gm,{isOpen:m,onClose:()=>{console.log("Settings: Closing avatar selector"),p(!1)}})]})}catch(t){return console.error("Settings: Component error",t),a.jsx("div",{className:"min-h-screen bg-white dark:bg-black p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-red-600 mb-4",children:"Settings Error"}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-6 rounded-lg",children:[a.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4",children:"There was an error loading the Settings page:"}),a.jsx("pre",{className:"text-sm text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/40 p-4 rounded overflow-auto",children:t instanceof Error?t.message:String(t)}),a.jsx("button",{onClick:()=>e("home"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Back to Home"})]})]})})}}function Ab({initialMedia:e,onClose:t}){xe();const[r,n]=y.useState(e),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,d]=y.useState(0),u=y.useRef(null);y.useEffect(()=>{h()},[]),y.useEffect(()=>{const g=m=>{m.key==="Escape"?t():m.key==="ArrowLeft"?f():m.key==="ArrowRight"&&x()};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[c,s]);const h=async()=>{try{const{data:g,error:m}=await M.from("media").select("*").order("upload_date",{ascending:!1});if(m)throw m;if(g){i(g);const p=g.findIndex(b=>b.id===e.id);d(p)}}catch(g){console.error("Error loading media:",g)}finally{l(!1)}},f=()=>{if(c>0){const g=c-1;d(g),n(s[g])}},x=()=>{if(c<s.length-1){const g=c+1;d(g),n(s[g])}},v=async()=>{const g=we(r.file_path,r.storage_provider),m=document.createElement("a");m.href=g,m.download=r.filename,document.body.appendChild(m),m.click(),document.body.removeChild(m)},w=we(r.file_path,r.storage_provider),_=gt(r.file_type);return a.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[a.jsxs("header",{className:"bg-black/50 backdrop-blur-sm border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"text-white hover:bg-white/10 p-2 rounded-lg transition-colors",children:a.jsx(ze,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-white",children:[a.jsx("h2",{className:"text-lg font-semibold truncate max-w-md",children:r.title}),a.jsxs("p",{className:"text-sm text-gray-400",children:[c+1," of ",s.length]})]})]}),a.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[a.jsx(Li,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center relative overflow-hidden",children:o?a.jsx(et,{className:"w-8 h-8 text-white animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:f,disabled:c===0,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed z-10",children:a.jsx(Rm,{className:"w-6 h-6"})}),a.jsx("div",{className:"max-w-7xl max-h-full flex items-center justify-center p-4",children:_?a.jsx("video",{ref:u,src:w,controls:!0,autoPlay:!0,className:"max-w-full max-h-[calc(100vh-200px)] rounded-lg shadow-2xl",children:"Your browser does not support the video tag."}):a.jsx("img",{src:w,alt:r.title,className:"max-w-full max-h-[calc(100vh-200px)] object-contain rounded-lg shadow-2xl"})}),a.jsx("button",{onClick:x,disabled:c===s.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all disabled:opacity-30 disabled:cursor-not-allowed z-10",children:a.jsx(ni,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-black/50 backdrop-blur-sm border-t border-white/10 px-4 py-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r.title}),r.description&&a.jsx("p",{className:"text-gray-300 leading-relaxed",children:r.description})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx($c,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Uploaded"}),a.jsx("p",{className:"text-sm font-medium",children:new Date(r.upload_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(fn,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Size"}),a.jsx("p",{className:"text-sm font-medium",children:Me(r.file_size)})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(Nw,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Type"}),a.jsx("p",{className:"text-sm font-medium uppercase",children:r.file_type.split("/")[1]})]})]}),r.width&&r.height&&a.jsxs("div",{className:"flex items-center gap-3 text-gray-300",children:[a.jsx(Lw,{className:"w-5 h-5 text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400",children:"Dimensions"}),a.jsxs("p",{className:"text-sm font-medium",children:[r.width,"  ",r.height]})]})]})]})]})})})]})}function Lb(){const{user:e,profile:t}=xe(),[r,n]=y.useState([]),[s,i]=y.useState(!1),[o,l]=y.useState(null);y.useEffect(()=>{t!=null&&t.is_admin&&c()},[t==null?void 0:t.is_admin]);const c=async()=>{try{i(!0);const{data:h,error:f}=await M.from("media").select(`
          *,
          profiles!media_user_id_fkey (
            full_name,
            email
          )
        `).eq("is_verified",!1).order("upload_date",{ascending:!1});if(f)throw f;n(h||[])}catch(h){console.error("Error loading unverified media:",h)}finally{i(!1)}},d=async(h,f)=>{try{l(h);const{error:x}=await M.rpc("verify_media",{media_id:h,verification_notes:f});if(x)throw x;n(v=>v.filter(w=>w.id!==h)),alert("Media verified successfully!")}catch(x){console.error("Error verifying media:",x),alert("Failed to verify media")}finally{l(null)}},u=async(h,f)=>{try{l(h);const{error:x}=await M.rpc("reject_media",{media_id:h,rejection_reason:f});if(x)throw x;n(v=>v.map(w=>w.id===h?{...w,verification_notes:f}:w)),alert("Media rejected with note")}catch(x){console.error("Error rejecting media:",x),alert("Failed to reject media")}finally{l(null)}};return t!=null&&t.is_admin?a.jsx("div",{className:"min-h-screen bg-black p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-black border border-white rounded-xl p-6 mb-6 neon-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ts,{className:"w-6 h-6 text-white"}),a.jsx("h1",{className:"text-2xl font-bold text-white neon-white",children:"Admin Panel"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.jsxs("div",{className:"bg-black border border-white p-4 rounded-lg neon-white",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_w,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-sm font-medium text-white",children:"Pending Verification"})]}),a.jsx("p",{className:"text-2xl font-bold text-white",children:r.length})]})})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"}),a.jsx("p",{className:"text-white/80 mt-2",children:"Loading media..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kn,{className:"w-16 h-16 text-white mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"All Caught Up!"}),a.jsx("p",{className:"text-white/80",children:"No media pending verification."})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(h=>{var f,x;return a.jsxs("div",{className:"bg-black border border-white rounded-lg overflow-hidden neon-white",children:[a.jsx("div",{className:"aspect-video bg-black border-b border-white flex items-center justify-center",children:a.jsx("img",{src:we(h.file_path,h.storage_provider),alt:h.title,className:"max-w-full max-h-full object-contain"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-white mb-2 neon-white",children:h.title}),h.description&&a.jsx("p",{className:"text-sm text-white/80 mb-3",children:h.description}),a.jsxs("div",{className:"space-y-2 text-sm text-white/70 mb-4",children:[a.jsxs("div",{children:["Uploaded by: ",((f=h.profiles)==null?void 0:f.full_name)||((x=h.profiles)==null?void 0:x.email)]}),a.jsxs("div",{children:["Date: ",new Date(h.upload_date).toLocaleDateString()]}),a.jsxs("div",{children:["Size: ",Me(h.file_size)]})]}),h.verification_notes&&a.jsx("div",{className:"bg-black border border-white rounded p-3 mb-4",children:a.jsxs("p",{className:"text-sm text-white",children:[a.jsx("strong",{children:"Rejection reason:"})," ",h.verification_notes]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>d(h.id),disabled:o===h.id,className:"flex-1 bg-black border border-white text-white py-2 px-3 rounded text-sm disabled:opacity-50 cyber-button",children:[a.jsx(kn,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),a.jsxs("button",{onClick:()=>{const v=prompt("Rejection reason:");v&&u(h.id,v)},disabled:o===h.id,className:"flex-1 bg-black border border-white text-white py-2 px-3 rounded text-sm disabled:opacity-50 cyber-button",children:[a.jsx(Kw,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]})]})]},h.id)})})]})}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsxs("div",{className:"text-center border border-white rounded-xl p-8 neon-white",children:[a.jsx(Ts,{className:"w-16 h-16 text-white mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-white/80",children:"You don't have admin privileges."})]})})}const Rb=[{email:"lpnminh472@gmail.com",role:"admin",permissions:["verify_uploads","manage_users","delete_content"]}],Ob={admins:Rb};function Mb({currentPage:e,onNavigate:t,user:r}){const{profile:n,signOut:s}=xe(),{t:i}=Ke(),[o,l]=y.useState(!1),c=f=>{if(!f)return"USER";const x=Ob.admins.map(v=>v.email);if(f.email&&x.includes(f.email))return"ADMIN";if(f.role)switch(f.role){case"SUPER_ADMIN":return"SUPER ADMIN";case"ADMIN":return"ADMIN";case"USER":default:return"USER"}return f.is_admin?"ADMIN":"USER"},d=[{id:"home",label:i("nav.gallery"),icon:Cw,description:"Browse media gallery"},{id:"images",label:i("nav.images"),icon:mt,description:"Browse photos"},{id:"videos",label:i("nav.videos"),icon:Lr,description:"Browse videos"}],u=[{id:"upload",label:i("nav.upload"),icon:Mt,description:"Add new media"},{id:"class",label:i("nav.classMembers"),icon:Lt,description:"View class members"},{id:"settings",label:i("nav.settings"),icon:zc,description:"Account & preferences"}],h=r?[...d,...u]:d;return a.jsxs("nav",{className:"bg-white dark:glass-dark border-b border-gray-200 dark:border-white/30 shadow-lg dark:shadow-2xl dark:shadow-white/10 relative overflow-hidden",children:[a.jsx("div",{className:"matrix-bg absolute inset-0 opacity-30 hidden dark:block"}),a.jsx("div",{className:"w-full relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between h-16 pl-2 pr-4 sm:pr-6 lg:pr-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kw,{className:"w-6 h-6 text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white font-['Orbitron']",children:"A5 Gallery 2.0"})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-2",children:h.map(f=>a.jsxs("button",{onClick:()=>t(f.id),className:`group relative flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ${e===f.id?"bg-blue-100 dark:bg-white/20 text-blue-600 dark:text-white border border-blue-200 dark:border-white/40":"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/10 border border-transparent hover:border-gray-200 dark:hover:border-white/20"} dark:backdrop-blur-sm`,children:[a.jsx(f.icon,{className:`w-5 h-5 text-white ${e===f.id?"drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]":"opacity-80"}`}),a.jsx("span",{className:"hidden lg:inline font-['Rajdhani'] font-medium tracking-wide",children:f.label}),a.jsxs("div",{className:"lg:hidden absolute bottom-full mb-3 left-1/2 transform -translate-x-1/2 px-3 py-2 bg-white dark:glass-dark text-gray-900 dark:text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap border border-gray-200 dark:border-white/30",children:[f.label,a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-200 dark:border-t-white/30"})]})]},f.id))})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("select",{value:e,onChange:f=>t(f.target.value),className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 font-['Rajdhani']",children:h.map(f=>a.jsx("option",{value:f.id,className:"bg-white dark:bg-black text-gray-900 dark:text-white",children:f.label},f.id))})}),a.jsx("div",{className:"flex items-center gap-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 font-['Rajdhani'] tracking-wide",children:(n==null?void 0:n.full_name)||(n==null?void 0:n.email)||"User"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-['Space_Grotesk']",children:c(n)})]}),a.jsxs("div",{className:"relative floating-element",children:[a.jsx(ci,{profile:n,size:"md",onClick:()=>l(!0)}),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-gray-300 dark:border-white/30 animate-pulse"})]})]}),a.jsxs("button",{onClick:s,className:"group flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg border border-transparent hover:border-gray-200 dark:hover:border-white/20",title:i("nav.disconnect"),children:[a.jsx(Aw,{className:"w-5 h-5 text-white group-hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden lg:inline font-['Rajdhani'] font-medium tracking-wide",children:i("nav.disconnect")})]})]}):a.jsxs("button",{onClick:()=>t("upload"),className:"group flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white transition-all duration-300 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg border border-transparent hover:border-gray-200 dark:hover:border-white/20",title:i("auth.signInToUpload"),children:[a.jsx($m,{className:"w-5 h-5 text-white group-hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.9)]"}),a.jsx("span",{className:"hidden lg:inline font-['Rajdhani'] font-medium tracking-wide",children:i("nav.signIn")})]})})]})}),a.jsx(Gm,{isOpen:o,onClose:()=>l(!1)})]})}const $b=()=>{const[e,t]=y.useState(!1);return a.jsxs("footer",{className:"bg-white dark:bg-black border-t border-gray-200 dark:border-gray-800 py-8 mt-auto relative",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-600 to-transparent"}),a.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-64 h-px bg-gradient-to-r from-transparent via-blue-400/30 to-transparent blur-sm hidden dark:block"}),a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Powered by"," ",a.jsx("span",{className:"neon-glow text-gray-900 dark:text-white font-semibold",children:"NhatMinh"})]}),a.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-1 px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[a.jsx(Tw,{className:"w-3 h-3"}),"Info"]})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm font-medium text-cyan-400 dark:text-cyan-300 animate-shake",style:{textShadow:`
                   0 0 3px #0891b2,
                   0 0 6px #0891b2,
                   0 0 10px #0891b2,
                   0 0 15px #0891b2
                 `,animation:"shake 2s infinite"},children:"Thanks For Visiting"})})]})}),e&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jw,{className:"w-6 h-6 text-blue-500"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a.jsx("span",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent animate-pulse bg-[length:200%_auto] animate-[gradient_3s_ease_infinite]",children:"Development Team"})})]}),a.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:a.jsx(ze,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:" Contact Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"lpnminh472@gmail.com"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mm,{className:"w-4 h-4 text-pink-500"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"@noiboa5"})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[a.jsx(Lt,{className:"w-4 h-4 animate-spin-slow text-blue-500"}),a.jsx("span",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent font-black text-base animate-[wave_3s_ease-in-out_infinite] tracking-wider",children:"i Ng Pht Trin"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 dark:hover:from-blue-900/30 dark:hover:to-purple-900/30 transition-all duration-300",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm mb-1",children:[a.jsx("span",{className:"inline-block animate-bounce",children:""})," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-bold",children:"Coder trng:"})]}),a.jsx("p",{className:"text-sm font-bold tracking-wide",children:a.jsx("span",{className:"super-admin-neon text-blue-400 dark:text-blue-300 animate-[super-shake_0.5s_ease-in-out_infinite] font-black text-base",children:"L Phc Nht Minh"})})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 hover:bg-gradient-to-r hover:from-green-50 hover:to-teal-50 dark:hover:from-green-900/30 dark:hover:to-teal-900/30 transition-all duration-300",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm mb-1",children:[a.jsx("span",{className:"inline-block animate-pulse",children:""})," ",a.jsx("span",{className:"bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent font-bold animate-[shimmer_2s_ease-in-out_infinite]",children:"H tr upload nh:"})]}),a.jsxs("div",{className:"text-gray-700 dark:text-gray-300 text-sm space-y-1",children:[a.jsx("p",{className:"hover:text-green-600 dark:hover:text-green-400 transition-colors duration-300 hover:font-semibold hover:translate-x-1 transform transition-transform",children:"Chung Tin Pht"}),a.jsx("p",{className:"hover:text-green-600 dark:hover:text-green-400 transition-colors duration-300 hover:font-semibold hover:translate-x-1 transform transition-transform",children:"Phm Phc Khoa"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 hover:bg-gradient-to-r hover:from-yellow-50 hover:to-orange-50 dark:hover:from-yellow-900/30 dark:hover:to-orange-900/30 transition-all duration-300 hover:shadow-lg",children:[a.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white text-sm mb-1",children:[a.jsx("span",{className:"inline-block animate-wiggle",children:""})," ",a.jsx("span",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent font-bold animate-[glow_2s_ease-in-out_infinite_alternate]",style:{textShadow:"0 0 10px rgba(251, 191, 36, 0.5)"},children:"ng gp  kin:"})]}),a.jsxs("div",{className:"text-gray-700 dark:text-gray-300 text-sm space-y-1",children:[a.jsx("p",{className:"hover:text-yellow-600 dark:hover:text-yellow-400 transition-all duration-300 hover:font-semibold hover:scale-105 transform hover:rotate-1",children:"Trn Thin Nhn"}),a.jsx("p",{className:"hover:text-yellow-600 dark:hover:text-yellow-400 transition-all duration-300 hover:font-semibold hover:scale-105 transform hover:-rotate-1",children:"Nguyn Quc Huy"})]})]})]})]}),a.jsx("div",{className:"text-center bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[a.jsx(si,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{children:"Cm n bn  s dng A5 Gallery!"}),a.jsx(si,{className:"w-4 h-4 text-red-500"})]})})]})]})})]})};class Ub extends fg.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r)}render(){var t;return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-red-50 dark:bg-red-900/20 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-lg w-full",children:[a.jsx("h1",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"The application encountered an error and needs to reload."}),a.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded p-3 mb-4",children:a.jsx("pre",{className:"text-sm text-red-800 dark:text-red-300 overflow-auto",children:((t=this.state.error)==null?void 0:t.message)||"Unknown error"})}),a.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Reload Application"})]})}):this.props.children}}function Db(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(!1),u=()=>{var f,x;if(e){n(!0);try{(x=(f=window.ChatflowWidget)==null?void 0:f.open)==null||x.call(f)}catch{}return}l(!0);const h=document.createElement("script");h.src="https://dashboard.chatflow.co/chatbot-widget.js?assistantId=1&tenantId=2a33df08-abb8-41b7-997d-9aba67832b48&teamId=1&userId=1&baseUrl=https://dashboard.chatflow.co&assistantName=nminh.",h.defer=!0,h.onload=()=>{var v,w;t(!0),l(!1),i(!1),d(!0),n(!0);try{(w=(v=window.ChatflowWidget)==null?void 0:v.open)==null||w.call(v)}catch{}},h.onerror=()=>{l(!1)},document.body.appendChild(h)};return y.useEffect(()=>{const h=f=>{f.key==="Escape"&&s&&!o&&i(!1)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[s,o]),a.jsxs(a.Fragment,{children:[!c&&a.jsx("button",{"aria-label":"Open AI Assistant",onClick:()=>i(!0),className:"fixed bottom-6 right-6 z-50 bg-black border border-white text-white rounded-full p-4 shadow-lg cyber-button neon-white hover:scale-105",title:"AI Assistant",children:a.jsx(Ri,{className:"w-6 h-6"})}),s&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-end p-6 pointer-events-none",children:a.jsxs("div",{className:"pointer-events-auto mb-16 mr-2 max-w-sm w-full bg-black border border-white rounded-xl p-4 neon-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold neon-white mb-1",children:"Calling AI Agent"}),a.jsx("p",{className:"text-white/80 text-sm",children:o?"Connecting to assistant...":"Connect to the AI assistant now?"})]}),!o&&a.jsx("button",{"aria-label":"Close",onClick:()=>i(!1),className:"text-white/80 hover:text-white",children:a.jsx(ze,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mt-3 flex items-center gap-2 justify-end",children:o?a.jsxs("div",{className:"flex items-center gap-2 text-white",children:[a.jsx(et,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:"Connecting..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>i(!1),className:"px-3 py-2 bg-black border border-white text-white rounded cyber-button",children:"Cancel"}),a.jsx("button",{onClick:u,className:"px-3 py-2 bg-black border border-white text-white rounded cyber-button",children:"Connect"})]})})]})})]})}function Fb(){const{user:e,loading:t}=xe(),[r,n]=y.useState(null),[s,i]=y.useState(!1),o=Ec(),l=Vt(),c=l.pathname.substring(1)||"home";y.useEffect(()=>{const v=new URLSearchParams(l.search).get("media");v&&!r&&d(v)},[l.search,r]);const d=async x=>{i(!0);try{let{data:v}=await M.from("media").select(`
          *,
          profiles:user_id (
            id,
            full_name,
            avatar_url
          )
        `).eq("media_id",x).single();if(!v){const{data:w}=await M.from("media").select(`
            *,
            profiles:user_id (
              id,
              full_name,
              avatar_url
            )
          `).eq("id",x).single();v=w}v?(n(v),o(l.pathname,{replace:!0})):console.error("Shared media not found:",x)}catch(v){console.error("Error fetching shared media:",v)}finally{i(!1)}};if(t)return a.jsx(oi,{message:"Initializing...",size:"lg",fullScreen:!0});if(s)return a.jsx(oi,{message:"Loading shared media...",size:"lg",fullScreen:!0});const u=["upload","settings","class"].includes(c);if(!e&&u)return a.jsx(Wn,{});const h=x=>{o(`/${x}`),n(null)},f=()=>{o("/home")};return r?a.jsx(Ab,{initialMedia:r,onClose:()=>n(null)}):a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Mb,{currentPage:c,onNavigate:h,user:e}),a.jsx("main",{className:"flex-grow",children:a.jsxs(px,{children:[a.jsx(lt,{path:"/",element:a.jsx(ou,{to:"/home",replace:!0})}),a.jsx(lt,{path:"/auth/callback",element:a.jsx(Qw,{onComplete:()=>h("home")})}),a.jsx(lt,{path:"/home",element:a.jsx(pb,{onMediaSelect:n,onNavigate:h})}),a.jsx(lt,{path:"/images",element:a.jsx(wb,{onMediaSelect:n,onNavigate:h})}),a.jsx(lt,{path:"/videos",element:a.jsx(bb,{onMediaSelect:n,onNavigate:h})}),a.jsx(lt,{path:"/upload",element:e?a.jsx(_b,{onNavigate:h,onUploadComplete:f}):a.jsx(Wn,{})}),a.jsx(lt,{path:"/class",element:e?a.jsx(jb,{onNavigate:h}):a.jsx(Wn,{})}),a.jsx(lt,{path:"/settings",element:a.jsx(ou,{to:"/settings/profile",replace:!0})}),a.jsx(lt,{path:"/settings/*",element:e?a.jsx(Ib,{onNavigate:h}):a.jsx(Wn,{})}),a.jsx(lt,{path:"/admin",element:e?a.jsx(Lb,{}):a.jsx(Wn,{})})]})}),a.jsx($b,{}),a.jsx(Xw,{}),a.jsx(Db,{})]})}function zb(){return a.jsx(Ub,{children:a.jsx(Dx,{children:a.jsx(pw,{children:a.jsx(xw,{children:a.jsx(gw,{children:a.jsx(Fb,{})})})})})})}let vo="A5 Gallery 2.0",Gn=!0;const Bb=()=>{document.title=vo;const e=()=>{document.hidden?(Gn=!1,document.title="Don't leave me pls _"):(Gn=!0,document.title=vo)},t=()=>{document.hidden||setTimeout(()=>{Gn||(document.title="Don't leave me pls _")},100)},r=()=>{Gn=!0,document.title=vo};return document.addEventListener("visibilitychange",e),window.addEventListener("blur",()=>{Gn=!1,t()}),window.addEventListener("focus",r),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("blur",t),window.removeEventListener("focus",r)}};Bb();Vf(document.getElementById("root")).render(a.jsx(y.StrictMode,{children:a.jsx(zb,{})}));
